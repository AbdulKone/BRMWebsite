import{c as _,u as L,j as e,C as m,U as O,f,a as j}from"./index-DN8h3Y9b.js";import{r as i}from"./react-vendor-VkFUI6JC.js";import{P as $}from"./Pagination-BEwthcNS.js";import{C as I}from"./ConfirmDialog-BT3SwRyR.js";import{C as y}from"./check-circle-DsTvJVik.js";import{A as b}from"./alert-circle-BoGZEYs9.js";import{C as N}from"./clock-DYNXt7Fe.js";import{T as R}from"./trash-2-BwtB9nAO.js";import"./ui-vendor-jY-liuQK.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=_("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),V=()=>{const{bookings:a,updateBookingStatus:w,deleteBooking:C,isLoading:S,pagination:c,setPagination:D,fetchBookings:A}=L(),[E,d]=i.useState(!1),[p,u]=i.useState(null),[o,B]=i.useState("all"),k=t=>{const s={confirmed:{color:"bg-green-500/20 text-green-400 border-green-500/30",icon:y,label:"Confirmé"},cancelled:{color:"bg-red-500/20 text-red-400 border-red-500/30",icon:v,label:"Annulé"},pending:{color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",icon:b,label:"En attente"}};return s[t]||s.pending},g=i.useMemo(()=>o==="all"?a:a.filter(t=>t.status===o),[a,o]),l=i.useMemo(()=>{const t=new Date().toDateString();return a.reduce((s,r)=>(s.total++,s[r.status]++,new Date(r.date).toDateString()===t&&s.todayBookings++,s),{total:0,confirmed:0,pending:0,cancelled:0,todayBookings:0})},[a]),M=t=>{D({page:t}),A()},P=t=>{u(t),d(!0)},T=async()=>{p&&(await C(p),u(null),d(!1))},h=Math.ceil(c.total/c.pageSize);if(S)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Chargement des réservations..."})]})});const n=({title:t,value:s,icon:r,gradient:x})=>e.jsx("div",{className:`${x} border border-opacity-30 rounded-xl p-4`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium opacity-80",children:t}),e.jsx("p",{className:"text-2xl font-bold text-white",children:s})]}),e.jsx(r,{className:"w-8 h-8 opacity-80"})]})});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl",children:e.jsx(m,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Gestion des Réservations"}),e.jsx("p",{className:"text-gray-400 text-sm sm:text-base mt-1",children:"Suivez et gérez toutes vos réservations studio"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[e.jsx(n,{title:"Total",value:l.total,icon:m,gradient:"bg-gradient-to-r from-blue-600/20 to-blue-800/20 border-blue-500/30 text-blue-300"}),e.jsx(n,{title:"Confirmées",value:l.confirmed,icon:y,gradient:"bg-gradient-to-r from-green-600/20 to-green-800/20 border-green-500/30 text-green-300"}),e.jsx(n,{title:"En attente",value:l.pending,icon:b,gradient:"bg-gradient-to-r from-yellow-600/20 to-yellow-800/20 border-yellow-500/30 text-yellow-300"}),e.jsx(n,{title:"Annulées",value:l.cancelled,icon:v,gradient:"bg-gradient-to-r from-red-600/20 to-red-800/20 border-red-500/30 text-red-300"}),e.jsx(n,{title:"Aujourd'hui",value:l.todayBookings,icon:N,gradient:"bg-gradient-to-r from-purple-600/20 to-purple-800/20 border-purple-500/30 text-purple-300"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("select",{value:o,onChange:t=>B(t.target.value),className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"confirmed",children:"Confirmées"}),e.jsx("option",{value:"cancelled",children:"Annulées"})]})})]}),e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl overflow-hidden",children:g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(m,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Aucune réservation trouvée"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Les réservations apparaîtront ici une fois créées"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-4 px-6 text-gray-300 font-semibold",children:"Client"}),e.jsx("th",{className:"text-left py-4 px-6 text-gray-300 font-semibold",children:"Date"}),e.jsx("th",{className:"text-left py-4 px-6 text-gray-300 font-semibold",children:"Horaires"}),e.jsx("th",{className:"text-left py-4 px-6 text-gray-300 font-semibold",children:"Type"}),e.jsx("th",{className:"text-left py-4 px-6 text-gray-300 font-semibold",children:"Notes"}),e.jsx("th",{className:"text-left py-4 px-6 text-gray-300 font-semibold",children:"Statut"}),e.jsx("th",{className:"text-left py-4 px-6 text-gray-300 font-semibold",children:"Actions"})]})}),e.jsx("tbody",{children:g.map((t,s)=>{const r=k(t.status),x=r.icon;return e.jsxs("tr",{className:`border-b border-gray-700/30 hover:bg-gray-700/20 transition-colors ${s%2===0?"bg-gray-800/20":"bg-transparent"}`,children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(O,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:t.client_name}),e.jsx("p",{className:"text-gray-400 text-sm",children:t.client_email})]})]})}),e.jsxs("td",{className:"py-4 px-6",children:[e.jsx("div",{className:"text-white font-medium",children:f(new Date(t.date),"dd MMMM yyyy",{locale:j})}),e.jsx("div",{className:"text-gray-400 text-sm",children:f(new Date(t.date),"EEEE",{locale:j})})]}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-white",children:[t.start_time," - ",t.end_time]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"px-3 py-1 bg-gray-700/50 text-gray-300 rounded-full text-sm capitalize",children:t.studio_type})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("div",{className:"max-w-xs",children:e.jsx("p",{className:"text-gray-300 text-sm truncate",children:t.notes||"Aucune note"})})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full border ${r.color}`,children:[e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:r.label})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:t.status,onChange:z=>w(t.id,z.target.value),className:"bg-gray-700/50 border border-gray-600/50 rounded-lg px-3 py-1 text-sm text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"confirmed",children:"Confirmé"}),e.jsx("option",{value:"cancelled",children:"Annulé"})]}),e.jsx("button",{onClick:()=>P(t.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all duration-200",title:"Supprimer",children:e.jsx(R,{className:"w-4 h-4"})})]})})]},t.id)})})]})})}),h>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx($,{currentPage:c.page,totalPages:h,onPageChange:M})})]}),e.jsx(I,{isOpen:E,onClose:()=>d(!1),onConfirm:T,title:"Supprimer la réservation",message:"Êtes-vous sûr de vouloir supprimer cette réservation ? Cette action est irréversible."})]})};export{V as default};
//# sourceMappingURL=BookingsList-BnjMB-eg.js.map
