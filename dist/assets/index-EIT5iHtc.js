const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-Drs72i49.js","assets/react-vendor-BQ2WIWuN.js","assets/YouTube-M1CVXSQn.js","assets/SoundCloud-Cmn3HfM5.js","assets/Vimeo-DZH_vQ0v.js","assets/Mux-OzeOR059.js","assets/Facebook-BTz5EVK8.js","assets/Streamable-ZDq9c1mF.js","assets/Wistia-DNNfwAEL.js","assets/Twitch-CUmd5SAA.js","assets/DailyMotion-BmxyWhRl.js","assets/Mixcloud-B5MTNqAJ.js","assets/Vidyard-ByU-HECQ.js","assets/Kaltura-DP9pTYba.js","assets/FilePlayer-DoKf3RHK.js","assets/Preview-rwsRkN_z.js"])))=>i.map(i=>d[i]);
var ua=Object.defineProperty;var da=(r,e,t)=>e in r?ua(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ts=(r,e,t)=>da(r,typeof e!="symbol"?e+"":e,t);import{b as vt,c as ha,r as T,g as $t,R as Z,d as Qn,u as ar,f as as,L as ie,h as pr,N as Zt,i as Zn,j as be,B as fa}from"./react-vendor-BQ2WIWuN.js";import{q as wt,A as Ot,m as H,e as ma,c as pa,a as pe,b as ga,d as ya,f as As,g as gr,h as va,S as ba,i as yr,_ as vr}from"./ui-vendor-DOuJorZy.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var br={exports:{}},_t={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs;function xa(){if(Rs)return _t;Rs=1;var r=vt(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,l,h){var u,d={},f=null,v=null;h!==void 0&&(f=""+h),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(v=l.ref);for(u in l)s.call(l,u)&&!i.hasOwnProperty(u)&&(d[u]=l[u]);if(c&&c.defaultProps)for(u in l=c.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:e,type:c,key:f,ref:v,props:d,_owner:n.current}}return _t.Fragment=t,_t.jsx=o,_t.jsxs=o,_t}var Ls;function wa(){return Ls||(Ls=1,br.exports=xa()),br.exports}var a=wa(),Wt={},Ds;function _a(){if(Ds)return Wt;Ds=1;var r=ha();return Wt.createRoot=r.createRoot,Wt.hydrateRoot=r.hydrateRoot,Wt}var ja=_a();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(r,e)=>{const t=T.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:l,...h},u)=>T.createElement("svg",{ref:u,...Sa,width:n,height:n,stroke:s,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${ka(r)}`,c].join(" "),...h},[...e.map(([d,f])=>T.createElement(d,f)),...Array.isArray(l)?l:[l]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ae("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ae("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ae("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ae("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ae("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ae("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ae("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ae("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),$a={},$s=r=>{let e;const t=new Set,s=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const v=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(b=>b(e,v))}},n=()=>e,l={setState:s,getState:n,getInitialState:()=>h,subscribe:u=>(t.add(u),()=>t.delete(u)),destroy:()=>{($a?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},h=e=r(s,n,l);return l},Fa=r=>r?$s(r):$s;var xr={exports:{}},wr={},_r={exports:{}},jr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs;function Ua(){if(Fs)return jr;Fs=1;var r=vt();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var t=typeof Object.is=="function"?Object.is:e,s=r.useState,n=r.useEffect,i=r.useLayoutEffect,o=r.useDebugValue;function c(d,f){var v=f(),b=s({inst:{value:v,getSnapshot:f}}),_=b[0].inst,j=b[1];return i(function(){_.value=v,_.getSnapshot=f,l(_)&&j({inst:_})},[d,v,f]),n(function(){return l(_)&&j({inst:_}),d(function(){l(_)&&j({inst:_})})},[d]),o(v),v}function l(d){var f=d.getSnapshot;d=d.value;try{var v=f();return!t(d,v)}catch{return!0}}function h(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return jr.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:u,jr}var Us;function qa(){return Us||(Us=1,_r.exports=Ua()),_r.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs;function Va(){if(qs)return wr;qs=1;var r=vt(),e=qa();function t(h,u){return h===u&&(h!==0||1/h===1/u)||h!==h&&u!==u}var s=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=r.useRef,o=r.useEffect,c=r.useMemo,l=r.useDebugValue;return wr.useSyncExternalStoreWithSelector=function(h,u,d,f,v){var b=i(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=c(function(){function y(O){if(!m){if(m=!0,p=O,O=f(O),v!==void 0&&_.hasValue){var C=_.value;if(v(C,O))return w=C}return w=O}if(C=w,s(p,O))return C;var $=f(O);return v!==void 0&&v(C,$)?(p=O,C):(p=O,w=$)}var m=!1,p,w,g=d===void 0?null:d;return[function(){return y(u())},g===null?void 0:function(){return y(g())}]},[u,d,f,v]);var j=n(h,b[0],b[1]);return o(function(){_.hasValue=!0,_.value=j},[j]),l(j),j},wr}var Vs;function Ba(){return Vs||(Vs=1,xr.exports=Va()),xr.exports}var za=Ba();const Wa=$t(za),ii={},{useDebugValue:Ha}=Z,{useSyncExternalStoreWithSelector:Ja}=Wa;let Bs=!1;const Ga=r=>r;function Ya(r,e=Ga,t){(ii?"production":void 0)!=="production"&&t&&!Bs&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Bs=!0);const s=Ja(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,t);return Ha(s),s}const zs=r=>{(ii?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof r=="function"?Fa(r):r,t=(s,n)=>Ya(e,s,n);return Object.assign(t,e),t},us=r=>r?zs(r):zs,Xa="modulepreload",Ka=function(r){return"/"+r},Ws={},ce=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){let o=function(h){return Promise.all(h.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=o(t.map(h=>{if(h=Ka(h),h in Ws)return;Ws[h]=!0;const u=h.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Xa,u||(f.as="script"),f.crossOrigin="",f.href=h,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((v,b)=>{f.addEventListener("load",v),f.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return n.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},Qa=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ce(async()=>{const{default:s}=await Promise.resolve().then(()=>bt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class ds extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Za extends ds{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class eo extends ds{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class to extends ds{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hr;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Hr||(Hr={}));var ro=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(u){try{h(s.next(u))}catch(d){o(d)}}function l(u){try{h(s.throw(u))}catch(d){o(d)}}function h(u){u.done?i(u.value):n(u.value).then(c,l)}h((s=s.apply(r,e||[])).next())})};class so{constructor(e,{headers:t={},customFetch:s,region:n=Hr.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=Qa(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return ro(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=t;let c={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let h;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(c["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(c["Content-Type"]="application/json",h=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),n),body:h}).catch(b=>{throw new Za(b)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new eo(u);if(!u.ok)throw new to(u);let f=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield u.json():f==="application/octet-stream"?v=yield u.blob():f==="text/event-stream"?v=u:f==="multipart/form-data"?v=yield u.formData():v=yield u.text(),{data:v,error:null}}catch(n){return{data:null,error:n}}})}}var fe={},st={},nt={},it={},at={},ot={},no=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yt=no();const io=yt.fetch,ai=yt.fetch.bind(yt),oi=yt.Headers,ao=yt.Request,oo=yt.Response,bt=Object.freeze(Object.defineProperty({__proto__:null,Headers:oi,Request:ao,Response:oo,default:ai,fetch:io},Symbol.toStringTag,{value:"Module"})),lo=Qn(bt);var Ht={},Hs;function li(){if(Hs)return Ht;Hs=1,Object.defineProperty(Ht,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Ht.default=r,Ht}var Js;function ci(){if(Js)return ot;Js=1;var r=ot&&ot.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ot,"__esModule",{value:!0});const e=r(lo),t=r(li());class s{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let l=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var u,d,f;let v=null,b=null,_=null,j=h.status,y=h.statusText;if(h.ok){if(this.method!=="HEAD"){const g=await h.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=g:b=JSON.parse(g))}const p=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),w=(d=h.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");p&&w&&w.length>1&&(_=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,_=null,j=406,y="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const p=await h.text();try{v=JSON.parse(p),Array.isArray(v)&&h.status===404&&(b=[],v=null,j=200,y="OK")}catch{h.status===404&&p===""?(j=204,y="No Content"):v={message:p}}if(v&&this.isMaybeSingle&&(!((f=v==null?void 0:v.details)===null||f===void 0)&&f.includes("0 rows"))&&(v=null,j=200,y="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:b,count:_,status:j,statusText:y}});return this.shouldThrowOnError||(l=l.catch(h=>{var u,d,f;return{error:{message:`${(u=h==null?void 0:h.name)!==null&&u!==void 0?u:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(d=h==null?void 0:h.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=h==null?void 0:h.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return ot.default=s,ot}var Gs;function ui(){if(Gs)return at;Gs=1;var r=at&&at.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(at,"__esModule",{value:!0});const e=r(ci());class t extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:l=c}={}){const h=l?`${l}.order`:"order",u=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:c=o}={}){const l=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(h,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:l=!1,format:h="text"}={}){var u;const d=[n?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${f}"; options=${d};`,h==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return at.default=t,at}var Ys;function hs(){if(Ys)return it;Ys=1;var r=it&&it.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(it,"__esModule",{value:!0});const e=r(ui());class t extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:c}={}){let l="";c==="plain"?l="pl":c==="phrase"?l="ph":c==="websearch"&&(l="w");const h=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${h}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return it.default=t,it}var Xs;function di(){if(Xs)return nt;Xs=1;var r=nt&&nt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(nt,"__esModule",{value:!0});const e=r(hs());class t{constructor(n,{headers:i={},schema:o,fetch:c}){this.url=n,this.headers=i,this.schema=o,this.fetch=c}select(n,{head:i=!1,count:o}={}){const c=i?"HEAD":"GET";let l=!1;const h=(n??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",h),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const c="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const h=n.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(h.length>0){const u=[...new Set(h)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:l=!0}={}){const h="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),c&&u.push(`count=${c}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){const d=n.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(d.length>0){const f=[...new Set(d)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),this.headers.Prefer=c.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return nt.default=t,nt}var jt={},St={},Ks;function co(){return Ks||(Ks=1,Object.defineProperty(St,"__esModule",{value:!0}),St.version=void 0,St.version="0.0.0-automated"),St}var Qs;function uo(){if(Qs)return jt;Qs=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.DEFAULT_HEADERS=void 0;const r=co();return jt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},jt}var Zs;function ho(){if(Zs)return st;Zs=1;var r=st&&st.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(st,"__esModule",{value:!0});const e=r(di()),t=r(hs()),s=uo();class n{constructor(o,{headers:c={},schema:l,fetch:h}={}){this.url=o,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),c),this.schemaName=l,this.fetch=h}from(o){const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:l=!1,get:h=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${o}`);let v;l||h?(d=l?"HEAD":"GET",Object.entries(c).filter(([_,j])=>j!==void 0).map(([_,j])=>[_,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([_,j])=>{f.searchParams.append(_,j)})):(d="POST",v=c);const b=Object.assign({},this.headers);return u&&(b.Prefer=`count=${u}`),new t.default({method:d,url:f,headers:b,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return st.default=n,st}var en;function fo(){if(en)return fe;en=1;var r=fe&&fe.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(fe,"__esModule",{value:!0}),fe.PostgrestError=fe.PostgrestBuilder=fe.PostgrestTransformBuilder=fe.PostgrestFilterBuilder=fe.PostgrestQueryBuilder=fe.PostgrestClient=void 0;const e=r(ho());fe.PostgrestClient=e.default;const t=r(di());fe.PostgrestQueryBuilder=t.default;const s=r(hs());fe.PostgrestFilterBuilder=s.default;const n=r(ui());fe.PostgrestTransformBuilder=n.default;const i=r(ci());fe.PostgrestBuilder=i.default;const o=r(li());return fe.PostgrestError=o.default,fe.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},fe}var mo=fo();const po=$t(mo),{PostgrestClient:go,PostgrestQueryBuilder:xh,PostgrestFilterBuilder:wh,PostgrestTransformBuilder:_h,PostgrestBuilder:jh,PostgrestError:Sh}=po,yo="2.11.2",vo={"X-Client-Info":`realtime-js/${yo}`},bo="1.0.0",hi=1e4,xo=1e3;var mt;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(mt||(mt={}));var je;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(je||(je={}));var Pe;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Pe||(Pe={}));var Jr;(function(r){r.websocket="websocket"})(Jr||(Jr={}));var Xe;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Xe||(Xe={}));class wo{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const c=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const h=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:c,event:l,payload:h}}}class fi{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(se||(se={}));const tn=(r,e,t={})=>{var s;const n=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=_o(o,r,e,n),i),{})},_o=(r,e,t,s)=>{const n=e.find(c=>c.name===r),i=n==null?void 0:n.type,o=t[r];return i&&!s.includes(i)?mi(i,o):Gr(o)},mi=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Po(e,t)}switch(r){case se.bool:return jo(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return So(e);case se.json:case se.jsonb:return ko(e);case se.timestamp:return Eo(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Gr(e);default:return Gr(e)}},Gr=r=>r,jo=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},So=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},ko=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Po=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let i;const o=r.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>mi(e,c))}return r},Eo=r=>typeof r=="string"?r.replace(" ","T"):r,pi=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Sr{constructor(e,t,s={},n=hi){this.channel=e,this.event=t,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rn;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(rn||(rn={}));class Ct{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ct.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ct.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ct.syncDiff(this.state,n,i,o),c())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,n){const i=this.cloneDeep(e),o=this.transformState(t),c={},l={};return this.map(i,(h,u)=>{o[h]||(l[h]=u)}),this.map(o,(h,u)=>{const d=i[h];if(d){const f=u.map(j=>j.presence_ref),v=d.map(j=>j.presence_ref),b=u.filter(j=>v.indexOf(j.presence_ref)<0),_=d.filter(j=>f.indexOf(j.presence_ref)<0);b.length>0&&(c[h]=b),_.length>0&&(l[h]=_)}else c[h]=u}),this.syncDiff(i,{joins:c,leaves:l},s,n)}static syncDiff(e,t,s,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(c,l)=>{var h;const u=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(l),u.length>0){const d=e[c].map(v=>v.presence_ref),f=u.filter(v=>d.indexOf(v.presence_ref)<0);e[c].unshift(...f)}s(c,u,l)}),this.map(o,(c,l)=>{let h=e[c];if(!h)return;const u=l.map(d=>d.presence_ref);h=h.filter(d=>u.indexOf(d.presence_ref)<0),e[c]=h,n(c,h,l),h.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const n=e[s];return"metas"in n?t[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sn;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(sn||(sn={}));var nn;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(nn||(nn={}));var Me;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Me||(Me={}));class fs{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Sr(this,Pe.join,this.params,this.timeout),this.rejoinTimer=new fi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pe.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ct(this),this.broadcastEndpointURL=pi(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:c}}=this.params;this._onError(u=>e==null?void 0:e(Me.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Me.CLOSED));const l={},h={broadcast:i,presence:o,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&n!==void 0?n:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Me.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,b=[];for(let _=0;_<v;_++){const j=f[_],{filter:{event:y,schema:m,table:p,filter:w}}=j,g=u&&u[_];if(g&&g.event===y&&g.schema===m&&g.table===p&&g.filter===w)b.push(Object.assign(Object.assign({},j),{id:g.id}));else{this.unsubscribe(),e==null||e(Me.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Me.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Me.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Me.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=h.body)===null||n===void 0?void 0:n.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,l;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=je.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const n=new Sr(this,Pe.leave,{},e);n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,t,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Sr(this,e,t,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var n,i;const o=e.toLocaleLowerCase(),{close:c,error:l,leave:h,join:u}=Pe;if(s&&[c,l,h,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,t,s);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(v=>{var b,_,j;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(_=v.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var b,_,j,y,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,g=(b=v.filter)===null||b===void 0?void 0:b.event;return w&&((_=t.ids)===null||_===void 0?void 0:_.includes(w))&&(g==="*"||(g==null?void 0:g.toLocaleLowerCase())===((j=t.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const w=(m=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((p=t==null?void 0:t.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:_,table:j,commit_timestamp:y,type:m,errors:p}=b;f=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:y,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(b))}v.callback(f,s)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&fs.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pe.close,{},e)}_onError(e){this._on(Pe.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=tn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=tn(e.columns,e.old_record)),t}}const No=()=>{},Oo=typeof WebSocket<"u",Co=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class To{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=vo,this.params={},this.timeout=hi,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=No,this.conn=null,this.sendBuffer=[],this.serializer=new wo,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...c)=>ce(async()=>{const{default:l}=await Promise.resolve().then(()=>bt);return{default:l}},void 0).then(({default:l})=>l(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${e}/${Jr.websocket}`,this.httpEndpoint=pi(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(s=t==null?void 0:t.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fi(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Oo){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ao(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ce(async()=>{const{default:e}=await import("./browser-Drs72i49.js").then(t=>t.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bo}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case mt.connecting:return Xe.Connecting;case mt.open:return Xe.Open;case mt.closing:return Xe.Closing;default:return Xe.Closed}}isConnected(){return this.connectionState()===Xe.Open}channel(e,t={config:{}}){const s=new fs(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){const{topic:t,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${t} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let s=null;try{s=JSON.parse(atob(t.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Pe.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(xo,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:n,payload:i,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(c=>c(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pe.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${s}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([Co],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}}class Ao{constructor(e,t,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=mt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class ms extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Ro extends ms{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yr extends ms{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Lo=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(u){try{h(s.next(u))}catch(d){o(d)}}function l(u){try{h(s.throw(u))}catch(d){o(d)}}function h(u){u.done?i(u.value):n(u.value).then(c,l)}h((s=s.apply(r,e||[])).next())})};const gi=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ce(async()=>{const{default:s}=await Promise.resolve().then(()=>bt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Do=()=>Lo(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ce(()=>Promise.resolve().then(()=>bt),void 0)).Response:Response}),Xr=r=>{if(Array.isArray(r))return r.map(t=>Xr(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Xr(s)}),e};var et=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(u){try{h(s.next(u))}catch(d){o(d)}}function l(u){try{h(s.throw(u))}catch(d){o(d)}}function h(u){u.done?i(u.value):n(u.value).then(c,l)}h((s=s.apply(r,e||[])).next())})};const kr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Mo=(r,e,t)=>et(void 0,void 0,void 0,function*(){const s=yield Do();r instanceof s&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{e(new Ro(kr(n),r.status||500))}).catch(n=>{e(new Yr(kr(n),n))}):e(new Yr(kr(r),r))}),Io=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),t))};function Ut(r,e,t,s,n,i){return et(this,void 0,void 0,function*(){return new Promise((o,c)=>{r(t,Io(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Mo(l,c,s))})})}function er(r,e,t,s){return et(this,void 0,void 0,function*(){return Ut(r,"GET",e,t,s)})}function qe(r,e,t,s,n){return et(this,void 0,void 0,function*(){return Ut(r,"POST",e,s,n,t)})}function $o(r,e,t,s,n){return et(this,void 0,void 0,function*(){return Ut(r,"PUT",e,s,n,t)})}function Fo(r,e,t,s){return et(this,void 0,void 0,function*(){return Ut(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function yi(r,e,t,s,n){return et(this,void 0,void 0,function*(){return Ut(r,"DELETE",e,s,n,t)})}var we=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(u){try{h(s.next(u))}catch(d){o(d)}}function l(u){try{h(s.throw(u))}catch(d){o(d)}}function h(u){u.done?i(u.value):n(u.value).then(c,l)}h((s=s.apply(r,e||[])).next())})};const Uo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},an={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qo{constructor(e,t={},s,n){this.url=e,this.headers=t,this.bucketId=s,this.fetch=gi(n)}uploadOrUpdate(e,t,s,n){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},an),n);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(c=Object.assign(Object.assign({},c),n.headers));const h=this._removeEmptyFolders(t),u=this._getFinalPath(h),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:h,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(e,t,s){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,n){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",t);try{let l;const h=Object.assign({upsert:an.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",h.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",h.cacheControl)):(l=s,u["cache-control"]=`max-age=${h.cacheControl}`,u["content-type"]=h.contentType);const d=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield qe(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new ms("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}update(e,t,s){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return we(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}copy(e,t,s){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield qe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,s){return we(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield qe(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,s){return we(this,void 0,void 0,function*(){try{const n=yield qe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}download(e,t){return we(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield er(this.fetch,`${this.url}/${n}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(me(c))return{data:null,error:c};throw c}})}info(e){return we(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield er(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Xr(s),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}exists(e){return we(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Fo(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(me(s)&&s instanceof Yr){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const c=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let h=n.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${h}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}list(e,t,s){return we(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Uo),t),{prefix:e||""});return{data:yield qe(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Vo="2.7.1",Bo={"X-Client-Info":`storage-js/${Vo}`};var lt=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(u){try{h(s.next(u))}catch(d){o(d)}}function l(u){try{h(s.throw(u))}catch(d){o(d)}}function h(u){u.done?i(u.value):n(u.value).then(c,l)}h((s=s.apply(r,e||[])).next())})};class zo{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},Bo),t),this.fetch=gi(s)}listBuckets(){return lt(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}getBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return lt(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return lt(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}emptyBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}}class Wo extends zo{constructor(e,t={},s){super(e,t,s)}from(e){return new qo(this.url,this.headers,e,this.fetch)}}const Ho="2.49.4";let Nt="";typeof Deno<"u"?Nt="deno":typeof document<"u"?Nt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nt="react-native":Nt="node";const Jo={"X-Client-Info":`supabase-js-${Nt}/${Ho}`},Go={headers:Jo},Yo={schema:"public"},Xo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ko={};var Qo=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(u){try{h(s.next(u))}catch(d){o(d)}}function l(u){try{h(s.throw(u))}catch(d){o(d)}}function h(u){u.done?i(u.value):n(u.value).then(c,l)}h((s=s.apply(r,e||[])).next())})};const Zo=r=>{let e;return r?e=r:typeof fetch>"u"?e=ai:e=fetch,(...t)=>e(...t)},el=()=>typeof Headers>"u"?oi:Headers,tl=(r,e,t)=>{const s=Zo(t),n=el();return(i,o)=>Qo(void 0,void 0,void 0,function*(){var c;const l=(c=yield e())!==null&&c!==void 0?c:r;let h=new n(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",r),h.has("Authorization")||h.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:h}))})};var rl=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(u){try{h(s.next(u))}catch(d){o(d)}}function l(u){try{h(s.throw(u))}catch(d){o(d)}}function h(u){u.done?i(u.value):n(u.value).then(c,l)}h((s=s.apply(r,e||[])).next())})};function sl(r){return r.replace(/\/$/,"")}function nl(r,e){const{db:t,auth:s,realtime:n,global:i}=r,{db:o,auth:c,realtime:l,global:h}=e,u={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},h),i),accessToken:()=>rl(this,void 0,void 0,function*(){return""})};return r.accessToken?u.accessToken=r.accessToken:delete u.accessToken,u}const vi="2.69.1",ft=30*1e3,Kr=3,Pr=Kr*ft,il="http://localhost:9999",al="supabase.auth.token",ol={"X-Client-Info":`gotrue-js/${vi}`},Qr="X-Supabase-Api-Version",bi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ll=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cl=6e5;class ps extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function G(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class ul extends ps{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function dl(r){return G(r)&&r.name==="AuthApiError"}class xi extends ps{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class We extends ps{constructor(e,t,s,n){super(e,s,n),this.name=t,this.status=s}}class Fe extends We{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hl(r){return G(r)&&r.name==="AuthSessionMissingError"}class Er extends We{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jt extends We{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gt extends We{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fl(r){return G(r)&&r.name==="AuthImplicitGrantRedirectError"}class on extends We{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zr extends We{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Nr(r){return G(r)&&r.name==="AuthRetryableFetchError"}class ln extends We{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class Tt extends We{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),un=` 	
\r=`.split(""),ml=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<un.length;e+=1)r[un[e].charCodeAt(0)]=-2;for(let e=0;e<cn.length;e+=1)r[cn[e].charCodeAt(0)]=e;return r})();function wi(r,e,t){const s=ml[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function dn(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{yl(o,s,t)};for(let o=0;o<r.length;o+=1)wi(r.charCodeAt(o),n,i);return e.join("")}function pl(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function gl(r,e){for(let t=0;t<r.length;t+=1){let s=r.charCodeAt(t);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(r.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}pl(s,e)}}function yl(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function vl(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<r.length;n+=1)wi(r.charCodeAt(n),t,s);return new Uint8Array(e)}function bl(r){const e=[];return gl(r,t=>e.push(t)),new Uint8Array(e)}function xl(r){return Math.round(Date.now()/1e3)+r}function wl(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ce=()=>typeof window<"u"&&typeof document<"u",Je={tested:!1,writable:!1},At=()=>{if(!Ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Je.tested)return Je.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Je.tested=!0,Je.writable=!0}catch{Je.tested=!0,Je.writable=!1}return Je.writable};function _l(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((s,n)=>{e[n]=s}),e}const _i=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ce(async()=>{const{default:s}=await Promise.resolve().then(()=>bt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},jl=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ji=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Yt=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Xt=async(r,e)=>{await r.removeItem(e)};class or{constructor(){this.promise=new or.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}or.promiseConstructor=Promise;function Or(r){const e=r.split(".");if(e.length!==3)throw new Tt("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!ll.test(e[s]))throw new Tt("JWT not in base64url format");return{header:JSON.parse(dn(e[0])),payload:JSON.parse(dn(e[1])),signature:vl(e[2]),raw:{header:e[0],payload:e[1]}}}async function Sl(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function kl(r,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await r(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Pl(r){return("0"+r.toString(16)).substr(-2)}function El(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,Pl).join("")}async function Nl(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Ol(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Nl(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ct(r,e,t=!1){const s=El();let n=s;t&&(n+="/PASSWORD_RECOVERY"),await ji(r,`${e}-code-verifier`,n);const i=await Ol(s);return[i,s===i?"plain":"s256"]}const Cl=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tl(r){const e=r.headers.get(Qr);if(!e||!e.match(Cl))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Al(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Rl(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ll=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};const Ge=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Dl=[502,503,504];async function hn(r){var e;if(!jl(r))throw new Zr(Ge(r),0);if(Dl.includes(r.status))throw new Zr(Ge(r),r.status);let t;try{t=await r.json()}catch(i){throw new xi(Ge(i),i)}let s;const n=Tl(r);if(n&&n.getTime()>=bi["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new ln(Ge(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Fe}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ln(Ge(t),r.status,t.weak_password.reasons);throw new ul(Ge(t),r.status||500,s)}const Ml=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};async function X(r,e,t,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[Qr]||(i[Qr]=bi["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Il(r,e,t+c,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function Il(r,e,t,s,n,i){const o=Ml(e,s,n,i);let c;try{c=await r(t,Object.assign({},o))}catch(l){throw console.error(l),new Zr(Ge(l),0)}if(c.ok||await hn(c),s!=null&&s.noResolveJson)return c;try{return await c.json()}catch(l){await hn(l)}}function Ue(r){var e;let t=null;ql(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=xl(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function fn(r){const e=Ue(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ve(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function $l(r){return{data:r,error:null}}function Fl(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i}=r,o=Ll(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function Ul(r){return r}function ql(r){return r.access_token&&r.refresh_token&&r.expires_in}var Vl=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class Bl{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=_i(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(G(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ve})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Vl(e,["options"]),n=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Fl,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(G(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ve})}catch(t){if(G(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,n,i,o,c,l;try{const h={nextPage:null,lastPage:0,total:0},u=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Ul});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(c=u.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);h[`${j}Page`]=_}),h.total=parseInt(f)),{data:Object.assign(Object.assign({},d),h),error:null}}catch(h){if(G(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){try{return await X(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ve})}catch(t){if(G(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ve})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ve})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:t,error:s}=await X(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:s}}catch(t){if(G(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(G(t))return{data:null,error:t};throw t}}}const zl={getItem:r=>At()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{At()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{At()&&globalThis.localStorage.removeItem(r)}};function mn(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Wl(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ut={debug:!!(globalThis&&At()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Si extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hl extends Si{}async function Jl(r,e,t){ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ut.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Hl(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ut.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Wl();const Gl={url:il,storageKey:al,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ol,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pn(r,e,t){return await t()}class Mt{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mt.nextInstanceID,Mt.nextInstanceID+=1,this.instanceID>0&&Ce()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Gl),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Bl({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=_i(n.fetch),this.lock=n.lock||pn,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ce()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Jl:this.lock=pn,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:At()?this.storage=zl:(this.memoryStorage={},this.storage=mn(this.memoryStorage)):(this.memoryStorage={},this.storage=mn(this.memoryStorage)),Ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vi}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=_l(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),Ce()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fl(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return G(t)?{error:t}:{error:new xi("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,n;try{const i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ue}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(i){if(G(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,n;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await ct(this.storage,this.storageKey)),i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:b},xform:Ue})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ue})}else throw new Jt("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(i){if(G(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:c}=e;t=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:fn})}else if("phone"in e){const{phone:i,password:o,options:c}=e;t=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:fn})}else throw new Jt("You must provide either an email or phone number and a password");const{data:s,error:n}=t;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Er}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(t){if(G(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Yt(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(t??"").split("/");try{const{data:i,error:o}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Ue});if(await Xt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Er}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(G(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:n,access_token:i,nonce:o}=e,c=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ue}),{data:l,error:h}=c;return h?{data:{user:null,session:null},error:h}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Er}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:h})}catch(t){if(G(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,n,i,o;try{if("email"in e){const{email:c,options:l}=e;let h=null,u=null;this.flowType==="pkce"&&([h,u]=await ct(this.storage,this.storageKey));const{error:d}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:h,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:c,options:l}=e,{data:h,error:u}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:u}}throw new Jt("You must provide either an email or phone number.")}catch(c){if(G(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,s;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:c}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ue});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,h=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ct(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:$l})}catch(i){if(G(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Fe;const{error:n}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(G(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await X(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:c}=await X(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Jt("You must provide either an email or phone number and a type")}catch(t){if(G(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Yt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Pr:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,h,u)=>(!o&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,h,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ve}):await this._useSession(async t=>{var s,n,i;const{data:o,error:c}=t;if(c)throw c;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fe}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ve})})}catch(t){if(G(t))return hl(t)&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Fe;const o=n.session;let c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await ct(this.storage,this.storageKey));const{data:h,error:u}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:Ve});if(u)throw u;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fe;const t=Date.now()/1e3;let s=t,n=!0,i=null;const{payload:o}=Or(e.access_token);if(o.exp&&(s=o.exp,n=s<=t),n){const{session:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(G(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:c}=t;if(c)throw c;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Fe;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(G(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ce())throw new Gt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new on("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gt("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new on("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:c,expires_at:l,token_type:h}=e;if(!i||!c||!o||!h)throw new Gt("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(c);let f=u+d;l&&(f=parseInt(l));const v=f-u;v*1e3<=ft&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const b=f-d;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,u);const{data:_,error:j}=await this._getUser(i);if(j)throw j;const y={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(s){if(G(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Yt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(dl(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=wl(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,n;try{const{data:{session:i},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await ct(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(G(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(G(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:n}=await this._useSession(async i=>{var o,c,l,h,u;const{data:d,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(h=d.session)===null||h===void 0?void 0:h.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Ce()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(G(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)throw o;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(G(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await kl(async n=>(n>0&&await Sl(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ue})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Nr(i)&&Date.now()+o-s<ft})}catch(s){if(this._debug(t,"error",s),G(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Ce()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await Yt(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const n=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Pr;if(this._debug(t,`session has${n?"":" not"} expired with margin of ${Pr}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Nr(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Fe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new or;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Fe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(n,"error",i),G(i)){const o={session:null,error:i};return Nr(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ji(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Xt(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ft);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/ft);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ft}ms, refresh threshold is ${Kr} ticks`),n<=Kr&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Si)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await ct(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(c.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await X(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(G(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:h}=await X(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(G(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:c}=await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(t){if(G(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(G(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Or(n.access_token);let c=null;o.aal&&(c=o.aal);let l=c;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(o=>o.kid===e);if(s||(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+cl>Date.now()))return s;const{data:n,error:i}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Tt("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),s=n.keys.find(o=>o.kid===e),!s)throw new Tt("No matching signing key found in JWKS");return s}async getClaims(e,t={keys:[]}){try{let s=e;if(!s){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};s=v.session.access_token}const{header:n,payload:i,signature:o,raw:{header:c,payload:l}}=Or(s);if(Al(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(s);if(v)throw v;return{data:{claims:i,header:n,signature:o},error:null}}const h=Rl(n.alg),u=await this.fetchJwk(n.kid,t),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,o,bl(`${c}.${l}`)))throw new Tt("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(G(s))return{data:null,error:s};throw s}}}Mt.nextInstanceID=0;const Yl=Mt;class Xl extends Yl{constructor(e){super(e)}}var Kl=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(u){try{h(s.next(u))}catch(d){o(d)}}function l(u){try{h(s.throw(u))}catch(d){o(d)}}function h(u){u.done?i(u.value):n(u.value).then(c,l)}h((s=s.apply(r,e||[])).next())})};class Ql{constructor(e,t,s){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const c=sl(e);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:Yo,realtime:Ko,auth:Object.assign(Object.assign({},Xo),{storageKey:l}),global:Go},u=nl(s??{},h);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=tl(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new go(`${c}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new so(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Wo(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Kl(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,lock:c,debug:l},h,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xl({url:this.authUrl,headers:Object.assign(Object.assign({},d),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,flowType:o,lock:c,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new To(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zl=(r,e,t)=>new Ql(r,e,t),ec="https://zouclebojnmsecpmdtth.supabase.co",tc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpvdWNsZWJvam5tc2VjcG1kdHRoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMDk1MTksImV4cCI6MjA2MjU4NTUxOX0.ZtriNf7xDswUWCNQUen575DuKaMRtUnEcVW940RLx0Q",K=Zl(ec,tc,{auth:{persistSession:!0,detectSessionInUrl:!0,autoRefreshToken:!0,storage:window.localStorage},global:{headers:{"X-Client-Info":"black-road-music@0.1.0","X-Client-Env":"production"}}}),qt=us(r=>({isAuthenticated:!1,isAdmin:!1,isLoading:!0,error:null,signIn:async(e,t)=>{var s;r({isLoading:!0,error:null});try{const{data:{user:n},error:i}=await K.auth.signInWithPassword({email:e,password:t});if(i)throw i;if(!n)throw new Error("No user returned after sign in");if(!(((s=n.app_metadata)==null?void 0:s.role)==="admin"))throw await K.auth.signOut(),new Error("Accès non autorisé. Seuls les administrateurs peuvent se connecter.");r({isAuthenticated:!0,isAdmin:!0})}catch(n){throw r({error:n.message,isAuthenticated:!1,isAdmin:!1}),n}finally{r({isLoading:!1})}},signOut:async()=>{r({isLoading:!0,error:null});try{const{error:e}=await K.auth.signOut();if(e)throw e;r({isAuthenticated:!1,isAdmin:!1})}catch(e){r({error:e.message})}finally{r({isLoading:!1})}},checkAuth:async()=>{var e;r({isLoading:!0,error:null});try{const{data:{session:t}}=await K.auth.getSession();if(!t){r({isAuthenticated:!1,isAdmin:!1});return}const s=((e=t.user.app_metadata)==null?void 0:e.role)==="admin";r({isAuthenticated:!!t,isAdmin:s})}catch(t){r({error:t.message,isAuthenticated:!1,isAdmin:!1})}finally{r({isLoading:!1})}}})),rc=()=>{const[r,e]=T.useState(!1),[t,s]=T.useState(!1),[n,i]=T.useState(!1),o=ar(),c=as(),{isAuthenticated:l,isAdmin:h,signOut:u}=qt(),d=async()=>{await u(),c("/")},f=()=>{e(!r),document.body.classList.toggle("mobile-menu-open")};T.useEffect(()=>{const y=()=>{const m=window.scrollY;s(m>50)};return window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y),document.body.classList.remove("mobile-menu-open")}},[]),T.useEffect(()=>{e(!1),i(!1),document.body.classList.remove("mobile-menu-open")},[o]);const v=[{name:"Accueil",path:"/"},{name:"Projets",path:"/projets"}],b={closed:{opacity:0,transition:{duration:.2}},open:{opacity:1,transition:{duration:.2}}},_={closed:{transition:{staggerChildren:.05,staggerDirection:-1}},open:{transition:{staggerChildren:.05,delayChildren:.1}}},j={closed:{opacity:0,x:-20},open:{opacity:1,x:0}};return a.jsx("header",{className:`fixed w-full z-40 transition-all duration-300 ${t||r?"bg-black/90 backdrop-blur-sm py-3 shadow-md":"bg-transparent py-5"}`,children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ie,{to:"/",className:"flex items-center z-50",children:a.jsx("span",{className:"text-2xl md:text-3xl font-heading font-bold gold-gradient",children:"BlackRoadMusic"})}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[a.jsxs("div",{className:"flex items-center space-x-8",children:[v.map(y=>a.jsx(ie,{to:y.path,className:`link-underline font-medium transition-colors ${o.pathname===y.path?"text-accent-400":"text-white hover:text-accent-400"}`,children:y.name},y.name)),a.jsx(wt,{as:"div",className:"relative",children:({open:y})=>a.jsxs(a.Fragment,{children:[a.jsxs(wt.Button,{className:"flex items-center space-x-1 font-medium text-white hover:text-accent-400 transition-colors",children:[a.jsx("span",{children:"Services"}),a.jsx(Ms,{className:`h-4 w-4 transition-transform duration-200 ${y?"rotate-180":""}`})]}),a.jsxs(wt.Items,{className:"absolute right-0 mt-2 w-56 bg-black/90 backdrop-blur-sm rounded-lg shadow-lg py-2 focus:outline-none",children:[a.jsx(wt.Item,{children:({active:m})=>a.jsx(ie,{to:"/services",className:`block px-4 py-2 text-sm ${m?"bg-accent-600/10 text-accent-400":"text-white"}`,children:"Nos services"})}),a.jsx(wt.Item,{children:({active:m})=>a.jsx(ie,{to:"/reserver",className:`block px-4 py-2 text-sm ${m?"bg-accent-600/10 text-accent-400":"text-white"}`,children:"Réserver"})})]})]})}),a.jsx(ie,{to:"/contact",className:`link-underline font-medium transition-colors ${o.pathname==="/contact"?"text-accent-400":"text-white hover:text-accent-400"}`,children:"Contact"})]}),l&&h&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ie,{to:"/backstage",className:`font-medium transition-colors ${o.pathname.startsWith("/backstage")?"text-accent-400":"text-white hover:text-accent-400"}`,children:"Admin"}),a.jsx("button",{onClick:d,className:"flex items-center gap-2 text-white hover:text-accent-400 transition-colors",title:"Se déconnecter",children:a.jsx(Is,{className:"h-5 w-5"})})]})]}),a.jsx("button",{className:"md:hidden flex items-center text-white p-2 z-50",onClick:f,"aria-label":"Toggle menu",children:a.jsx(Ot,{mode:"wait",children:r?a.jsx(H.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:a.jsx(si,{className:"h-6 w-6 text-accent-400"})},"close"):a.jsx(H.div,{initial:{opacity:0,rotate:90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:-90},transition:{duration:.2},children:a.jsx(Aa,{className:"h-6 w-6"})},"menu")})})]}),a.jsx(Ot,{children:r&&a.jsx(H.div,{initial:"closed",animate:"open",exit:"closed",variants:b,className:"mobile-menu md:hidden",children:a.jsxs(H.nav,{variants:_,className:"flex flex-col py-6",children:[v.map(y=>a.jsx(H.div,{variants:j,children:a.jsx(ie,{to:y.path,className:`mobile-menu-item ${o.pathname===y.path?"text-accent-400":"text-white hover:text-accent-400"}`,children:y.name})},y.name)),a.jsxs(H.div,{variants:j,children:[a.jsxs("button",{onClick:()=>i(!n),className:"mobile-menu-item text-left flex items-center justify-between w-full",children:[a.jsx("span",{children:"Services"}),a.jsx(Ms,{className:`h-4 w-4 transition-transform duration-200 ${n?"rotate-180":""}`})]}),a.jsx(Ot,{children:n&&a.jsxs(H.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden bg-primary-900/50",children:[a.jsx(ie,{to:"/services",className:"mobile-menu-subitem",children:"Nos services"}),a.jsx(ie,{to:"/reserver",className:"mobile-menu-subitem",children:"Réserver"})]})})]}),a.jsx(H.div,{variants:j,children:a.jsx(ie,{to:"/contact",className:`mobile-menu-item ${o.pathname==="/contact"?"text-accent-400":"text-white hover:text-accent-400"}`,children:"Contact"})}),l&&h&&a.jsxs(a.Fragment,{children:[a.jsx(H.div,{variants:j,children:a.jsx(ie,{to:"/backstage",className:`mobile-menu-item ${o.pathname.startsWith("/backstage")?"text-accent-400":"text-white hover:text-accent-400"}`,children:"Admin"})}),a.jsx(H.div,{variants:j,children:a.jsxs("button",{onClick:d,className:"mobile-menu-item text-left flex items-center gap-2 text-red-400 hover:text-red-300",children:[a.jsx(Is,{className:"h-5 w-5"}),a.jsx("span",{children:"Se déconnecter"})]})})]})]})})})]})})},ki=[{id:1,platform:"Instagram",url:"https://instagram.com/blackroadmusic",icon:"instagram"},{id:2,platform:"YouTube",url:"https://youtube.com/blackroadmusic",icon:"youtube"},{id:3,platform:"Spotify",url:"https://open.spotify.com/artist/blackroadmusic",icon:"music"},{id:4,platform:"TikTok",url:"https://tiktok.com/@blackroadmusic",icon:"video"}],sc=()=>{const r=new Date().getFullYear(),{isAuthenticated:e}=qt(),t=s=>{switch(s){case"instagram":return a.jsx(ei,{className:"h-5 w-5"});case"youtube":return a.jsx(ni,{className:"h-5 w-5"});case"music":return a.jsx(ti,{className:"h-5 w-5"});case"video":return a.jsx(cs,{className:"h-5 w-5"});default:return null}};return a.jsx("footer",{className:"bg-primary-950 pt-12 pb-6",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-2xl font-heading font-bold gold-gradient mb-4",children:"BlackRoadMusic"}),a.jsx("p",{className:"text-gray-400 max-w-md",children:"Label de production musicale et visuelle spécialisé dans les musiques urbaines et l'accompagnement artistique complet."})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-semibold mb-4",children:"Navigation"}),a.jsx("ul",{className:"space-y-2",children:[{name:"Accueil",path:"/"},{name:"Projets",path:"/projets"},{name:"Services",path:"/services"},{name:"Contact",path:"/contact"}].map(s=>a.jsx("li",{children:a.jsx(ie,{to:s.path,className:"text-gray-400 hover:text-accent-400 transition-colors",children:s.name})},s.name))})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-semibold mb-4",children:"Suivez-nous"}),a.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:ki.map(s=>a.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"bg-primary-800 p-2.5 rounded-full text-white hover:bg-accent-700 transition-colors","aria-label":s.platform,children:t(s.icon)},s.id))}),a.jsx("p",{className:"text-gray-400",children:"Email: contact@blackroadmusic.com"})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-semibold mb-4",children:"Informations Légales"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(ie,{to:"/mentions-legales",className:"text-gray-400 hover:text-accent-400 transition-colors",children:"Mentions légales"})}),a.jsx("li",{children:a.jsx(ie,{to:"/politique-de-confidentialite",className:"text-gray-400 hover:text-accent-400 transition-colors",children:"Politique de confidentialité"})}),!e&&a.jsx("li",{children:a.jsx(ie,{to:"/backstage/login",className:"text-gray-500 hover:text-accent-400 transition-colors text-sm",children:"Espace administration"})})]})]})]}),a.jsx("div",{className:"mt-10 pt-6 border-t border-primary-800",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("p",{className:"text-gray-500 text-sm text-center md:text-left",children:["© ",r," Black Road Music. Tous droits réservés."]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-500",children:[a.jsx(ie,{to:"/mentions-legales",className:"hover:text-accent-400 transition-colors",children:"Mentions légales"}),a.jsx(ie,{to:"/politique-de-confidentialite",className:"hover:text-accent-400 transition-colors",children:"Politique de confidentialité"})]})]})})]})})},nc=({children:r})=>{const[e,t]=T.useState(!0);return T.useEffect(()=>{const s=setTimeout(()=>{t(!1)},1200);return()=>clearTimeout(s)},[]),a.jsx("div",{className:"flex flex-col min-h-screen",children:a.jsx(Ot,{children:e?a.jsx(H.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 z-50 flex items-center justify-center bg-black",children:a.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-4xl md:text-6xl gold-gradient font-heading font-bold",children:"Black Road Music"})},"loader"):a.jsxs(a.Fragment,{children:[a.jsx(rc,{}),a.jsx("main",{className:"flex-grow",children:a.jsx(Ot,{mode:"wait",children:a.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:r},"page")})}),a.jsx(sc,{})]})})})},Ie=us((r,e)=>({projects:[],artists:[],services:[],isLoading:!1,error:null,fetchProjects:async()=>{r({isLoading:!0,error:null});try{const{data:t,error:s}=await K.from("projects").select("*").order("created_at",{ascending:!1});if(s)throw s;r({projects:t||[]})}catch(t){r({error:t.message})}finally{r({isLoading:!1})}},fetchArtists:async()=>{r({isLoading:!0,error:null});try{const{data:t,error:s}=await K.from("artists").select("*").order("created_at",{ascending:!1});if(s)throw s;r({artists:t||[]})}catch(t){r({error:t.message})}finally{r({isLoading:!1})}},fetchServices:async()=>{r({isLoading:!0,error:null});try{const{data:t,error:s}=await K.from("services").select("*").order("created_at",{ascending:!1});if(s)throw s;const{data:n,error:i}=await K.from("service_features").select("*");if(i)throw i;const o=(t||[]).map(c=>({...c,features:(n||[]).filter(l=>l.service_id===c.id).map(l=>l.feature)}));r({services:o})}catch(t){r({error:t.message})}finally{r({isLoading:!1})}},createProject:async t=>{r({isLoading:!0,error:null});try{const{error:s}=await K.from("projects").insert([t]).select().single();if(s)throw s;await e().fetchProjects()}catch(s){r({error:s.message})}finally{r({isLoading:!1})}},updateProject:async(t,s)=>{r({isLoading:!0,error:null});try{const{error:n}=await K.from("projects").update(s).eq("id",t).select().single();if(n)throw n;await e().fetchProjects()}catch(n){r({error:n.message})}finally{r({isLoading:!1})}},deleteProject:async t=>{r({isLoading:!0,error:null});try{const{error:s}=await K.from("projects").delete().eq("id",t);if(s)throw s;await e().fetchProjects()}catch(s){r({error:s.message})}finally{r({isLoading:!1})}},createArtist:async t=>{try{const{error:s}=await K.from("artists").insert([t]);if(s)throw s;await e().fetchArtists()}catch(s){r({error:s.message})}},updateArtist:async(t,s)=>{try{const{error:n}=await K.from("artists").update(s).eq("id",t);if(n)throw n;await e().fetchArtists()}catch(n){r({error:n.message})}},deleteArtist:async t=>{try{const{error:s}=await K.from("artists").delete().eq("id",t);if(s)throw s;await e().fetchArtists()}catch(s){r({error:s.message})}},createService:async t=>{try{const{data:s,error:n}=await K.from("services").insert([{title:t.title,description:t.description,icon:t.icon}]).select().single();if(n)throw n;if(t.features&&t.features.length>0){const i=t.features.map(c=>({service_id:s.id,feature:c})),{error:o}=await K.from("service_features").insert(i);if(o)throw o}await e().fetchServices()}catch(s){r({error:s.message})}},updateService:async(t,s)=>{try{const{error:n}=await K.from("services").update({title:s.title,description:s.description,icon:s.icon}).eq("id",t);if(n)throw n;if(s.features){const{error:i}=await K.from("service_features").delete().eq("service_id",t);if(i)throw i;const o=s.features.map(l=>({service_id:t,feature:l})),{error:c}=await K.from("service_features").insert(o);if(c)throw c}await e().fetchServices()}catch(n){r({error:n.message})}},deleteService:async t=>{try{const{error:s}=await K.from("services").delete().eq("id",t);if(s)throw s;await e().fetchServices()}catch(s){r({error:s.message})}}})),ic=()=>{const r=T.useRef(null),e=T.useRef(null);return T.useEffect(()=>{const t=()=>{if(!r.current||!e.current)return;const s=window.scrollY,n=Math.max(1-s/700,0),i=s*.4;e.current.style.opacity=n.toString(),e.current.style.transform=`translateY(${i}px)`};return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[]),a.jsxs("div",{ref:r,className:"relative h-screen flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black z-0",style:{backgroundImage:"url(https://images.pexels.com/photos/167092/pexels-photo-167092.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2)",backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.4)"}}),a.jsxs("div",{ref:e,className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:[a.jsx(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},children:a.jsx("h1",{className:"text-4xl md:text-6xl xl:text-7xl font-heading font-bold mb-6 text-shadow",children:a.jsx("span",{className:"gold-gradient",children:"Black Road Music"})})}),a.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1},children:a.jsx("p",{className:"text-xl md:text-2xl font-light mb-8 text-gray-200 text-shadow max-w-3xl mx-auto",children:"Label de production spécialisé dans les musiques urbaines et l'accompagnement artistique complet"})}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[a.jsx(H.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"/projets",className:"bg-gradient-to-r from-accent-700 to-accent-500 text-white font-medium py-3 px-8 rounded-full shadow-lg transition-all hover:shadow-[0_0_15px_rgba(185,158,119,0.5)] w-full sm:w-auto text-center",children:"Découvrir nos projets"}),a.jsx(H.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"/contact",className:"bg-transparent border-2 border-accent-500 text-white font-medium py-3 px-8 rounded-full transition-all hover:bg-accent-500/10 w-full sm:w-auto text-center",children:"Nous contacter"})]})]}),a.jsx("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 z-10 animate-bounce",children:a.jsx("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent-400",children:a.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})};function Pi(r,e,t,s){return r.params.createElements&&Object.keys(s).forEach(n=>{if(!t[n]&&t.auto===!0){let i=ma(r.el,`.${s[n]}`)[0];i||(i=pa("div",s[n]),i.className=s[n],r.el.append(i)),t[n]=i,e[n]=i}}),t}function ac(r){let{swiper:e,extendParams:t,on:s,emit:n}=r;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(b){let _;return b&&typeof b=="string"&&e.isElement&&(_=e.el.querySelector(b)||e.hostEl.querySelector(b),_)?_:(b&&(typeof b=="string"&&(_=[...document.querySelectorAll(b)]),e.params.uniqueNavElements&&typeof b=="string"&&_&&_.length>1&&e.el.querySelectorAll(b).length===1?_=e.el.querySelector(b):_&&_.length===1&&(_=_[0])),b&&!_?b:_)}function o(b,_){const j=e.params.navigation;b=pe(b),b.forEach(y=>{y&&(y.classList[_?"add":"remove"](...j.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=_),e.params.watchOverflow&&e.enabled&&y.classList[e.isLocked?"add":"remove"](j.lockClass))})}function c(){const{nextEl:b,prevEl:_}=e.navigation;if(e.params.loop){o(_,!1),o(b,!1);return}o(_,e.isBeginning&&!e.params.rewind),o(b,e.isEnd&&!e.params.rewind)}function l(b){b.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function h(b){b.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function u(){const b=e.params.navigation;if(e.params.navigation=Pi(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(b.nextEl||b.prevEl))return;let _=i(b.nextEl),j=i(b.prevEl);Object.assign(e.navigation,{nextEl:_,prevEl:j}),_=pe(_),j=pe(j);const y=(m,p)=>{m&&m.addEventListener("click",p==="next"?h:l),!e.enabled&&m&&m.classList.add(...b.lockClass.split(" "))};_.forEach(m=>y(m,"next")),j.forEach(m=>y(m,"prev"))}function d(){let{nextEl:b,prevEl:_}=e.navigation;b=pe(b),_=pe(_);const j=(y,m)=>{y.removeEventListener("click",m==="next"?h:l),y.classList.remove(...e.params.navigation.disabledClass.split(" "))};b.forEach(y=>j(y,"next")),_.forEach(y=>j(y,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?v():(u(),c())}),s("toEdge fromEdge lock unlock",()=>{c()}),s("destroy",()=>{d()}),s("enable disable",()=>{let{nextEl:b,prevEl:_}=e.navigation;if(b=pe(b),_=pe(_),e.enabled){c();return}[...b,..._].filter(j=>!!j).forEach(j=>j.classList.add(e.params.navigation.lockClass))}),s("click",(b,_)=>{let{nextEl:j,prevEl:y}=e.navigation;j=pe(j),y=pe(y);const m=_.target;let p=y.includes(m)||j.includes(m);if(e.isElement&&!p){const w=_.path||_.composedPath&&_.composedPath();w&&(p=w.find(g=>j.includes(g)||y.includes(g)))}if(e.params.navigation.hideOnClick&&!p){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===m||e.pagination.el.contains(m)))return;let w;j.length?w=j[0].classList.contains(e.params.navigation.hiddenClass):y.length&&(w=y[0].classList.contains(e.params.navigation.hiddenClass)),n(w===!0?"navigationShow":"navigationHide"),[...j,...y].filter(g=>!!g).forEach(g=>g.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),c()},v=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:v,update:c,init:u,destroy:d})}function kt(r){return r===void 0&&(r=""),`.${r.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function oc(r){let{swiper:e,extendParams:t,on:s,emit:n}=r;const i="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,c=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(m,p){const{bulletActiveClass:w}=e.params.pagination;m&&(m=m[`${p==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${w}-${p}`),m=m[`${p==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${w}-${p}-${p}`)))}function u(m,p,w){if(m=m%w,p=p%w,p===m+1)return"next";if(p===m-1)return"previous"}function d(m){const p=m.target.closest(kt(e.params.pagination.bulletClass));if(!p)return;m.preventDefault();const w=As(p)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;const g=u(e.realIndex,w,e.slides.length);g==="next"?e.slideNext():g==="previous"?e.slidePrev():e.slideToLoop(w)}else e.slideTo(w)}function f(){const m=e.rtl,p=e.params.pagination;if(l())return;let w=e.pagination.el;w=pe(w);let g,O;const C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,$=e.params.loop?Math.ceil(C/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(O=e.previousRealIndex||0,g=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(g=e.snapIndex,O=e.previousSnapIndex):(O=e.previousIndex||0,g=e.activeIndex||0),p.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const N=e.pagination.bullets;let V,M,L;if(p.dynamicBullets&&(o=ya(N[0],e.isHorizontal()?"width":"height"),w.forEach(R=>{R.style[e.isHorizontal()?"width":"height"]=`${o*(p.dynamicMainBullets+4)}px`}),p.dynamicMainBullets>1&&O!==void 0&&(c+=g-(O||0),c>p.dynamicMainBullets-1?c=p.dynamicMainBullets-1:c<0&&(c=0)),V=Math.max(g-c,0),M=V+(Math.min(N.length,p.dynamicMainBullets)-1),L=(M+V)/2),N.forEach(R=>{const P=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(S=>`${p.bulletActiveClass}${S}`)].map(S=>typeof S=="string"&&S.includes(" ")?S.split(" "):S).flat();R.classList.remove(...P)}),w.length>1)N.forEach(R=>{const P=As(R);P===g?R.classList.add(...p.bulletActiveClass.split(" ")):e.isElement&&R.setAttribute("part","bullet"),p.dynamicBullets&&(P>=V&&P<=M&&R.classList.add(...`${p.bulletActiveClass}-main`.split(" ")),P===V&&h(R,"prev"),P===M&&h(R,"next"))});else{const R=N[g];if(R&&R.classList.add(...p.bulletActiveClass.split(" ")),e.isElement&&N.forEach((P,S)=>{P.setAttribute("part",S===g?"bullet-active":"bullet")}),p.dynamicBullets){const P=N[V],S=N[M];for(let I=V;I<=M;I+=1)N[I]&&N[I].classList.add(...`${p.bulletActiveClass}-main`.split(" "));h(P,"prev"),h(S,"next")}}if(p.dynamicBullets){const R=Math.min(N.length,p.dynamicMainBullets+4),P=(o*R-o)/2-L*o,S=m?"right":"left";N.forEach(I=>{I.style[e.isHorizontal()?S:"top"]=`${P}px`})}}w.forEach((N,V)=>{if(p.type==="fraction"&&(N.querySelectorAll(kt(p.currentClass)).forEach(M=>{M.textContent=p.formatFractionCurrent(g+1)}),N.querySelectorAll(kt(p.totalClass)).forEach(M=>{M.textContent=p.formatFractionTotal($)})),p.type==="progressbar"){let M;p.progressbarOpposite?M=e.isHorizontal()?"vertical":"horizontal":M=e.isHorizontal()?"horizontal":"vertical";const L=(g+1)/$;let R=1,P=1;M==="horizontal"?R=L:P=L,N.querySelectorAll(kt(p.progressbarFillClass)).forEach(S=>{S.style.transform=`translate3d(0,0,0) scaleX(${R}) scaleY(${P})`,S.style.transitionDuration=`${e.params.speed}ms`})}p.type==="custom"&&p.renderCustom?(N.innerHTML=p.renderCustom(e,g+1,$),V===0&&n("paginationRender",N)):(V===0&&n("paginationRender",N),n("paginationUpdate",N)),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](p.lockClass)})}function v(){const m=e.params.pagination;if(l())return;const p=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let w=e.pagination.el;w=pe(w);let g="";if(m.type==="bullets"){let O=e.params.loop?Math.ceil(p/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&O>p&&(O=p);for(let C=0;C<O;C+=1)m.renderBullet?g+=m.renderBullet.call(e,C,m.bulletClass):g+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?g=m.renderFraction.call(e,m.currentClass,m.totalClass):g=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?g=m.renderProgressbar.call(e,m.progressbarFillClass):g=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(O=>{m.type!=="custom"&&(O.innerHTML=g||""),m.type==="bullets"&&e.pagination.bullets.push(...O.querySelectorAll(kt(m.bulletClass)))}),m.type!=="custom"&&n("paginationRender",w[0])}function b(){e.params.pagination=Pi(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let p;typeof m.el=="string"&&e.isElement&&(p=e.el.querySelector(m.el)),!p&&typeof m.el=="string"&&(p=[...document.querySelectorAll(m.el)]),p||(p=m.el),!(!p||p.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(p)&&p.length>1&&(p=[...e.el.querySelectorAll(m.el)],p.length>1&&(p=p.find(w=>ga(w,".swiper")[0]===e.el))),Array.isArray(p)&&p.length===1&&(p=p[0]),Object.assign(e.pagination,{el:p}),p=pe(p),p.forEach(w=>{m.type==="bullets"&&m.clickable&&w.classList.add(...(m.clickableClass||"").split(" ")),w.classList.add(m.modifierClass+m.type),w.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(w.classList.add(`${m.modifierClass}${m.type}-dynamic`),c=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&w.classList.add(m.progressbarOppositeClass),m.clickable&&w.addEventListener("click",d),e.enabled||w.classList.add(m.lockClass)}))}function _(){const m=e.params.pagination;if(l())return;let p=e.pagination.el;p&&(p=pe(p),p.forEach(w=>{w.classList.remove(m.hiddenClass),w.classList.remove(m.modifierClass+m.type),w.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(w.classList.remove(...(m.clickableClass||"").split(" ")),w.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...m.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:p}=e.pagination;p=pe(p),p.forEach(w=>{w.classList.remove(m.horizontalClass,m.verticalClass),w.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?y():(b(),v(),f())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),s("snapIndexChange",()=>{f()}),s("snapGridLengthChange",()=>{v(),f()}),s("destroy",()=>{_()}),s("enable disable",()=>{let{el:m}=e.pagination;m&&(m=pe(m),m.forEach(p=>p.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{f()}),s("click",(m,p)=>{const w=p.target,g=pe(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&g&&g.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const O=g[0].classList.contains(e.params.pagination.hiddenClass);n(O===!0?"paginationShow":"paginationHide"),g.forEach(C=>C.classList.toggle(e.params.pagination.hiddenClass))}});const j=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=pe(m),m.forEach(p=>p.classList.remove(e.params.pagination.paginationDisabledClass))),b(),v(),f()},y=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=pe(m),m.forEach(p=>p.classList.add(e.params.pagination.paginationDisabledClass))),_()};Object.assign(e.pagination,{enable:j,disable:y,render:v,update:f,init:b,destroy:_})}function lc(r){let{swiper:e,extendParams:t,on:s,emit:n,params:i}=r;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,c,l=i&&i.autoplay?i.autoplay.delay:3e3,h=i&&i.autoplay?i.autoplay.delay:3e3,u,d=new Date().getTime(),f,v,b,_,j,y,m;function p(W){!e||e.destroyed||!e.wrapperEl||W.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",p),!(m||W.detail&&W.detail.bySwiperTouchMove)&&V())}const w=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(h=u,f=!1);const W=e.autoplay.paused?u:d+h-new Date().getTime();e.autoplay.timeLeft=W,n("autoplayTimeLeft",W,W/l),c=requestAnimationFrame(()=>{w()})},g=()=>{let W;return e.virtual&&e.params.virtual.enabled?W=e.slides.find(U=>U.classList.contains("swiper-slide-active")):W=e.slides[e.activeIndex],W?parseInt(W.getAttribute("data-swiper-autoplay"),10):void 0},O=W=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(c),w();let A=typeof W>"u"?e.params.autoplay.delay:W;l=e.params.autoplay.delay,h=e.params.autoplay.delay;const U=g();!Number.isNaN(U)&&U>0&&typeof W>"u"&&(A=U,l=U,h=U),u=A;const J=e.params.speed,ee=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(J,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,J,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(J,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,J,!0,!0),n("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{O()})))};return A>0?(clearTimeout(o),o=setTimeout(()=>{ee()},A)):requestAnimationFrame(()=>{ee()}),A},C=()=>{d=new Date().getTime(),e.autoplay.running=!0,O(),n("autoplayStart")},$=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(c),n("autoplayStop")},N=(W,A)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),W||(y=!0);const U=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",p):V()};if(e.autoplay.paused=!0,A){j&&(u=e.params.autoplay.delay),j=!1,U();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),U())},V=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),y?(y=!1,O(u)):O(),e.autoplay.paused=!1,n("autoplayResume"))},M=()=>{if(e.destroyed||!e.autoplay.running)return;const W=gr();W.visibilityState==="hidden"&&(y=!0,N(!0)),W.visibilityState==="visible"&&V()},L=W=>{W.pointerType==="mouse"&&(y=!0,m=!0,!(e.animating||e.autoplay.paused)&&N(!0))},R=W=>{W.pointerType==="mouse"&&(m=!1,e.autoplay.paused&&V())},P=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",L),e.el.addEventListener("pointerleave",R))},S=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",L),e.el.removeEventListener("pointerleave",R))},I=()=>{gr().addEventListener("visibilitychange",M)},Y=()=>{gr().removeEventListener("visibilitychange",M)};s("init",()=>{e.params.autoplay.enabled&&(P(),I(),C())}),s("destroy",()=>{S(),Y(),e.autoplay.running&&$()}),s("_freeModeStaticRelease",()=>{(b||y)&&V()}),s("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?$():N(!0,!0)}),s("beforeTransitionStart",(W,A,U)=>{e.destroyed||!e.autoplay.running||(U||!e.params.autoplay.disableOnInteraction?N(!0,!0):$())}),s("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){$();return}v=!0,b=!1,y=!1,_=setTimeout(()=>{y=!0,b=!0,N(!0)},200)}}),s("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!v)){if(clearTimeout(_),clearTimeout(o),e.params.autoplay.disableOnInteraction){b=!1,v=!1;return}b&&e.params.cssMode&&V(),b=!1,v=!1}}),s("slideChange",()=>{e.destroyed||!e.autoplay.running||(j=!0)}),Object.assign(e.autoplay,{start:C,stop:$,pause:N,resume:V})}const Ei=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Qe(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"&&!r.__swiper__}function pt(r,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof r[s]>"u"?r[s]=e[s]:Qe(e[s])&&Qe(r[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?r[s]=e[s]:pt(r[s],e[s]):r[s]=e[s]})}function Ni(r){return r===void 0&&(r={}),r.navigation&&typeof r.navigation.nextEl>"u"&&typeof r.navigation.prevEl>"u"}function Oi(r){return r===void 0&&(r={}),r.pagination&&typeof r.pagination.el>"u"}function Ci(r){return r===void 0&&(r={}),r.scrollbar&&typeof r.scrollbar.el>"u"}function Ti(r){r===void 0&&(r="");const e=r.split(" ").map(s=>s.trim()).filter(s=>!!s),t=[];return e.forEach(s=>{t.indexOf(s)<0&&t.push(s)}),t.join(" ")}function cc(r){return r===void 0&&(r=""),r?r.includes("swiper-wrapper")?r:`swiper-wrapper ${r}`:"swiper-wrapper"}function uc(r){let{swiper:e,slides:t,passedParams:s,changedParams:n,nextEl:i,prevEl:o,scrollbarEl:c,paginationEl:l}=r;const h=n.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:v,virtual:b,thumbs:_}=e;let j,y,m,p,w,g,O,C;n.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(j=!0),n.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(y=!0),n.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(m=!0),n.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||c)&&(u.scrollbar||u.scrollbar===!1)&&v&&!v.el&&(p=!0),n.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(w=!0);const $=N=>{e[N]&&(e[N].destroy(),N==="navigation"?(e.isElement&&(e[N].prevEl.remove(),e[N].nextEl.remove()),u[N].prevEl=void 0,u[N].nextEl=void 0,e[N].prevEl=void 0,e[N].nextEl=void 0):(e.isElement&&e[N].el.remove(),u[N].el=void 0,e[N].el=void 0))};n.includes("loop")&&e.isElement&&(u.loop&&!s.loop?g=!0:!u.loop&&s.loop?O=!0:C=!0),h.forEach(N=>{if(Qe(u[N])&&Qe(s[N]))Object.assign(u[N],s[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in s[N]&&!s[N].enabled&&$(N);else{const V=s[N];(V===!0||V===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?V===!1&&$(N):u[N]=s[N]}}),h.includes("controller")&&!y&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),n.includes("children")&&t&&b&&u.virtual.enabled?(b.slides=t,b.update(!0)):n.includes("virtual")&&b&&u.virtual.enabled&&(t&&(b.slides=t),b.update(!0)),n.includes("children")&&t&&u.loop&&(C=!0),j&&_.init()&&_.update(!0),y&&(e.controller.control=u.controller.control),m&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),p&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(u.scrollbar.el=c),v.init(),v.updateSize(),v.setTranslate()),w&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(u.navigation.nextEl=i),o&&(u.navigation.prevEl=o),f.init(),f.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),n.includes("direction")&&e.changeDirection(s.direction,!1),(g||C)&&e.loopDestroy(),(O||C)&&e.loopCreate(),e.update()}function dc(r,e){r===void 0&&(r={}),e===void 0&&(e=!0);const t={on:{}},s={},n={};pt(t,va),t._emitClasses=!0,t.init=!1;const i={},o=Ei.map(l=>l.replace(/_/,"")),c=Object.assign({},r);return Object.keys(c).forEach(l=>{typeof r[l]>"u"||(o.indexOf(l)>=0?Qe(r[l])?(t[l]={},n[l]={},pt(t[l],r[l]),pt(n[l],r[l])):(t[l]=r[l],n[l]=r[l]):l.search(/on[A-Z]/)===0&&typeof r[l]=="function"?e?s[`${l[2].toLowerCase()}${l.substr(3)}`]=r[l]:t.on[`${l[2].toLowerCase()}${l.substr(3)}`]=r[l]:i[l]=r[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:n,rest:i,events:s}}function hc(r,e){let{el:t,nextEl:s,prevEl:n,paginationEl:i,scrollbarEl:o,swiper:c}=r;Ni(e)&&s&&n&&(c.params.navigation.nextEl=s,c.originalParams.navigation.nextEl=s,c.params.navigation.prevEl=n,c.originalParams.navigation.prevEl=n),Oi(e)&&i&&(c.params.pagination.el=i,c.originalParams.pagination.el=i),Ci(e)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(t)}function fc(r,e,t,s,n){const i=[];if(!e)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(t&&s){const l=s.map(n),h=t.map(n);l.join("")!==h.join("")&&o("children"),s.length!==t.length&&o("children")}return Ei.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in r&&l in e)if(Qe(r[l])&&Qe(e[l])){const h=Object.keys(r[l]),u=Object.keys(e[l]);h.length!==u.length?o(l):(h.forEach(d=>{r[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{r[l][d]!==e[l][d]&&o(l)}))}else r[l]!==e[l]&&o(l)}),i}const mc=r=>{!r||r.destroyed||!r.params.virtual||r.params.virtual&&!r.params.virtual.enabled||(r.updateSlides(),r.updateProgress(),r.updateSlidesClasses(),r.parallax&&r.params.parallax&&r.params.parallax.enabled&&r.parallax.setTranslate())};function tr(){return tr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},tr.apply(this,arguments)}function Ai(r){return r.type&&r.type.displayName&&r.type.displayName.includes("SwiperSlide")}function Ri(r){const e=[];return Z.Children.toArray(r).forEach(t=>{Ai(t)?e.push(t):t.props&&t.props.children&&Ri(t.props.children).forEach(s=>e.push(s))}),e}function pc(r){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Z.Children.toArray(r).forEach(s=>{if(Ai(s))e.push(s);else if(s.props&&s.props.slot&&t[s.props.slot])t[s.props.slot].push(s);else if(s.props&&s.props.children){const n=Ri(s.props.children);n.length>0?n.forEach(i=>e.push(i)):t["container-end"].push(s)}else t["container-end"].push(s)}),{slides:e,slots:t}}function gc(r,e,t){if(!t)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},n=r.isHorizontal()?{[r.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:i,to:o}=t,c=r.params.loop?-e.length:0,l=r.params.loop?e.length*2:e.length,h=[];for(let u=c;u<l;u+=1)u>=i&&u<=o&&h.push(e[s(u)]);return h.map((u,d)=>Z.cloneElement(u,{swiper:r,style:n,key:u.props.virtualIndex||u.key||`slide-${d}`}))}function Rt(r,e){return typeof window>"u"?T.useEffect(r,e):T.useLayoutEffect(r,e)}const gn=T.createContext(null),yc=T.createContext(null),Li=T.forwardRef(function(r,e){let{className:t,tag:s="div",wrapperTag:n="div",children:i,onSwiper:o,...c}=r===void 0?{}:r,l=!1;const[h,u]=T.useState("swiper"),[d,f]=T.useState(null),[v,b]=T.useState(!1),_=T.useRef(!1),j=T.useRef(null),y=T.useRef(null),m=T.useRef(null),p=T.useRef(null),w=T.useRef(null),g=T.useRef(null),O=T.useRef(null),C=T.useRef(null),{params:$,passedParams:N,rest:V,events:M}=dc(c),{slides:L,slots:R}=pc(i),P=()=>{b(!v)};Object.assign($.on,{_containerClasses(A,U){u(U)}});const S=()=>{Object.assign($.on,M),l=!0;const A={...$};if(delete A.wrapperClass,y.current=new ba(A),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=L;const U={cache:!1,slides:L,renderExternal:f,renderExternalUpdate:!1};pt(y.current.params.virtual,U),pt(y.current.originalParams.virtual,U)}};j.current||S(),y.current&&y.current.on("_beforeBreakpoint",P);const I=()=>{l||!M||!y.current||Object.keys(M).forEach(A=>{y.current.on(A,M[A])})},Y=()=>{!M||!y.current||Object.keys(M).forEach(A=>{y.current.off(A,M[A])})};T.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",P)}),T.useEffect(()=>{!_.current&&y.current&&(y.current.emitSlidesClasses(),_.current=!0)}),Rt(()=>{if(e&&(e.current=j.current),!!j.current)return y.current.destroyed&&S(),hc({el:j.current,nextEl:w.current,prevEl:g.current,paginationEl:O.current,scrollbarEl:C.current,swiper:y.current},$),o&&!y.current.destroyed&&o(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),Rt(()=>{I();const A=fc(N,m.current,L,p.current,U=>U.key);return m.current=N,p.current=L,A.length&&y.current&&!y.current.destroyed&&uc({swiper:y.current,slides:L,passedParams:N,changedParams:A,nextEl:w.current,prevEl:g.current,scrollbarEl:C.current,paginationEl:O.current}),()=>{Y()}}),Rt(()=>{mc(y.current)},[d]);function W(){return $.virtual?gc(y.current,L,d):L.map((A,U)=>Z.cloneElement(A,{swiper:y.current,swiperSlideIndex:U}))}return Z.createElement(s,tr({ref:j,className:Ti(`${h}${t?` ${t}`:""}`)},V),Z.createElement(yc.Provider,{value:y.current},R["container-start"],Z.createElement(n,{className:cc($.wrapperClass)},R["wrapper-start"],W(),R["wrapper-end"]),Ni($)&&Z.createElement(Z.Fragment,null,Z.createElement("div",{ref:g,className:"swiper-button-prev"}),Z.createElement("div",{ref:w,className:"swiper-button-next"})),Ci($)&&Z.createElement("div",{ref:C,className:"swiper-scrollbar"}),Oi($)&&Z.createElement("div",{ref:O,className:"swiper-pagination"}),R["container-end"]))});Li.displayName="Swiper";const Di=T.forwardRef(function(r,e){let{tag:t="div",children:s,className:n="",swiper:i,zoom:o,lazy:c,virtualIndex:l,swiperSlideIndex:h,...u}=r===void 0?{}:r;const d=T.useRef(null),[f,v]=T.useState("swiper-slide"),[b,_]=T.useState(!1);function j(w,g,O){g===d.current&&v(O)}Rt(()=>{if(typeof h<"u"&&(d.current.swiperSlideIndex=h),e&&(e.current=d.current),!(!d.current||!i)){if(i.destroyed){f!=="swiper-slide"&&v("swiper-slide");return}return i.on("_slideClass",j),()=>{i&&i.off("_slideClass",j)}}}),Rt(()=>{i&&d.current&&!i.destroyed&&v(i.getSlideClasses(d.current))},[i]);const y={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},m=()=>typeof s=="function"?s(y):s,p=()=>{_(!0)};return Z.createElement(t,tr({ref:d,className:Ti(`${f}${n?` ${n}`:""}`),"data-swiper-slide-index":l,onLoad:p},u),o&&Z.createElement(gn.Provider,{value:y},Z.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},m(),c&&!b&&Z.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Z.createElement(gn.Provider,{value:y},m(),c&&!b&&Z.createElement("div",{className:"swiper-lazy-preloader"})))});Di.displayName="SwiperSlide";var Cr,yn;function vc(){if(yn)return Cr;yn=1,Cr=function(n,i,o){var c=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof i=="function"&&(o=i,i={}),i=i||{},o=o||function(){},l.type=i.type||"text/javascript",l.charset=i.charset||"utf8",l.async="async"in i?!!i.async:!0,l.src=n,i.attrs&&r(l,i.attrs),i.text&&(l.text=""+i.text);var h="onload"in l?e:t;h(l,o),l.onload||e(l,o),c.appendChild(l)};function r(s,n){for(var i in n)s.setAttribute(i,n[i])}function e(s,n){s.onload=function(){this.onerror=this.onload=null,n(null,s)},s.onerror=function(){this.onerror=this.onload=null,n(new Error("Failed to load "+this.src),s)}}function t(s,n){s.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,n(null,s))}}return Cr}var Tr,vn;function Mi(){if(vn)return Tr;vn=1;var r=function(m){return e(m)&&!t(m)};function e(y){return!!y&&typeof y=="object"}function t(y){var m=Object.prototype.toString.call(y);return m==="[object RegExp]"||m==="[object Date]"||i(y)}var s=typeof Symbol=="function"&&Symbol.for,n=s?Symbol.for("react.element"):60103;function i(y){return y.$$typeof===n}function o(y){return Array.isArray(y)?[]:{}}function c(y,m){return m.clone!==!1&&m.isMergeableObject(y)?_(o(y),y,m):y}function l(y,m,p){return y.concat(m).map(function(w){return c(w,p)})}function h(y,m){if(!m.customMerge)return _;var p=m.customMerge(y);return typeof p=="function"?p:_}function u(y){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(y).filter(function(m){return Object.propertyIsEnumerable.call(y,m)}):[]}function d(y){return Object.keys(y).concat(u(y))}function f(y,m){try{return m in y}catch{return!1}}function v(y,m){return f(y,m)&&!(Object.hasOwnProperty.call(y,m)&&Object.propertyIsEnumerable.call(y,m))}function b(y,m,p){var w={};return p.isMergeableObject(y)&&d(y).forEach(function(g){w[g]=c(y[g],p)}),d(m).forEach(function(g){v(y,g)||(f(y,g)&&p.isMergeableObject(m[g])?w[g]=h(g,p)(y[g],m[g],p):w[g]=c(m[g],p))}),w}function _(y,m,p){p=p||{},p.arrayMerge=p.arrayMerge||l,p.isMergeableObject=p.isMergeableObject||r,p.cloneUnlessOtherwiseSpecified=c;var w=Array.isArray(m),g=Array.isArray(y),O=w===g;return O?w?p.arrayMerge(y,m,p):b(y,m,p):c(m,p)}_.all=function(m,p){if(!Array.isArray(m))throw new Error("first argument should be an array");return m.reduce(function(w,g){return _(w,g,p)},{})};var j=_;return Tr=j,Tr}var Ar,bn;function lr(){if(bn)return Ar;bn=1;var r=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,n=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,o=(A,U)=>{for(var J in U)e(A,J,{get:U[J],enumerable:!0})},c=(A,U,J,ee)=>{if(U&&typeof U=="object"||typeof U=="function")for(let he of s(U))!i.call(A,he)&&he!==J&&e(A,he,{get:()=>U[he],enumerable:!(ee=t(U,he))||ee.enumerable});return A},l=(A,U,J)=>(J=A!=null?r(n(A)):{},c(!A||!A.__esModule?e(J,"default",{value:A,enumerable:!0}):J,A)),h=A=>c(e({},"__esModule",{value:!0}),A),u={};o(u,{callPlayer:()=>P,getConfig:()=>L,getSDK:()=>M,isBlobUrl:()=>I,isMediaStream:()=>S,lazy:()=>b,omit:()=>R,parseEndTime:()=>O,parseStartTime:()=>g,queryString:()=>$,randomString:()=>C,supportsWebKitPresentationMode:()=>Y}),Ar=h(u);var d=l(vt()),f=l(vc()),v=l(Mi());const b=A=>d.default.lazy(async()=>{const U=await A();return typeof U.default=="function"?U:U.default}),_=/[?&#](?:start|t)=([0-9hms]+)/,j=/[?&#]end=([0-9hms]+)/,y=/(\d+)(h|m|s)/g,m=/^\d+$/;function p(A,U){if(A instanceof Array)return;const J=A.match(U);if(J){const ee=J[1];if(ee.match(y))return w(ee);if(m.test(ee))return parseInt(ee)}}function w(A){let U=0,J=y.exec(A);for(;J!==null;){const[,ee,he]=J;he==="h"&&(U+=parseInt(ee,10)*60*60),he==="m"&&(U+=parseInt(ee,10)*60),he==="s"&&(U+=parseInt(ee,10)),J=y.exec(A)}return U}function g(A){return p(A,_)}function O(A){return p(A,j)}function C(){return Math.random().toString(36).substr(2,5)}function $(A){return Object.keys(A).map(U=>`${U}=${A[U]}`).join("&")}function N(A){return window[A]?window[A]:window.exports&&window.exports[A]?window.exports[A]:window.module&&window.module.exports&&window.module.exports[A]?window.module.exports[A]:null}const V={},M=function(U,J,ee=null,he=()=>!0,He=f.default){const tt=N(J);return tt&&he(tt)?Promise.resolve(tt):new Promise((Bt,xt)=>{if(V[U]){V[U].push({resolve:Bt,reject:xt});return}V[U]=[{resolve:Bt,reject:xt}];const zt=Se=>{V[U].forEach(rt=>rt.resolve(Se))};if(ee){const Se=window[ee];window[ee]=function(){Se&&Se(),zt(N(J))}}He(U,Se=>{Se?(V[U].forEach(rt=>rt.reject(Se)),V[U]=null):ee||zt(N(J))})})};function L(A,U){return(0,v.default)(U.config,A.config)}function R(A,...U){const J=[].concat(...U),ee={},he=Object.keys(A);for(const He of he)J.indexOf(He)===-1&&(ee[He]=A[He]);return ee}function P(A,...U){if(!this.player||!this.player[A]){let J=`ReactPlayer: ${this.constructor.displayName} player could not call %c${A}%c – `;return this.player?this.player[A]||(J+="The method was not available"):J+="The player was not available",console.warn(J,"font-weight: bold",""),null}return this.player[A](...U)}function S(A){return typeof window<"u"&&typeof window.MediaStream<"u"&&A instanceof window.MediaStream}function I(A){return/^blob:/.test(A)}function Y(A=document.createElement("video")){const U=/iPhone|iPod/.test(navigator.userAgent)===!1;return A.webkitSupportsPresentationMode&&typeof A.webkitSetPresentationMode=="function"&&U}function W(A){return A}return Ar}var Rr,xn;function bc(){if(xn)return Rr;xn=1;var r=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,n=(P,S)=>{for(var I in S)r(P,I,{get:S[I],enumerable:!0})},i=(P,S,I,Y)=>{if(S&&typeof S=="object"||typeof S=="function")for(let W of t(S))!s.call(P,W)&&W!==I&&r(P,W,{get:()=>S[W],enumerable:!(Y=e(S,W))||Y.enumerable});return P},o=P=>i(r({},"__esModule",{value:!0}),P),c={};n(c,{AUDIO_EXTENSIONS:()=>C,DASH_EXTENSIONS:()=>V,FLV_EXTENSIONS:()=>M,HLS_EXTENSIONS:()=>N,MATCH_URL_DAILYMOTION:()=>p,MATCH_URL_FACEBOOK:()=>v,MATCH_URL_FACEBOOK_WATCH:()=>b,MATCH_URL_KALTURA:()=>O,MATCH_URL_MIXCLOUD:()=>w,MATCH_URL_MUX:()=>f,MATCH_URL_SOUNDCLOUD:()=>u,MATCH_URL_STREAMABLE:()=>_,MATCH_URL_TWITCH_CHANNEL:()=>m,MATCH_URL_TWITCH_VIDEO:()=>y,MATCH_URL_VIDYARD:()=>g,MATCH_URL_VIMEO:()=>d,MATCH_URL_WISTIA:()=>j,MATCH_URL_YOUTUBE:()=>h,VIDEO_EXTENSIONS:()=>$,canPlay:()=>R}),Rr=o(c);var l=lr();const h=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,u=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,d=/vimeo\.com\/(?!progressive_redirect).+/,f=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,v=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,b=/^https?:\/\/fb\.watch\/.+$/,_=/streamable\.com\/([a-z0-9]+)$/,j=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,y=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,m=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,p=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,w=/mixcloud\.com\/([^/]+\/[^/]+)/,g=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,O=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,C=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,$=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,N=/\.(m3u8)($|\?)/i,V=/\.(mpd)($|\?)/i,M=/\.(flv)($|\?)/i,L=P=>{if(P instanceof Array){for(const S of P)if(typeof S=="string"&&L(S)||L(S.src))return!0;return!1}return(0,l.isMediaStream)(P)||(0,l.isBlobUrl)(P)?!0:C.test(P)||$.test(P)||N.test(P)||V.test(P)||M.test(P)},R={youtube:P=>P instanceof Array?P.every(S=>h.test(S)):h.test(P),soundcloud:P=>u.test(P)&&!C.test(P),vimeo:P=>d.test(P)&&!$.test(P)&&!N.test(P),mux:P=>f.test(P),facebook:P=>v.test(P)||b.test(P),streamable:P=>_.test(P),wistia:P=>j.test(P),twitch:P=>y.test(P)||m.test(P),dailymotion:P=>p.test(P),mixcloud:P=>w.test(P),vidyard:P=>g.test(P),kaltura:P=>O.test(P),file:L};return Rr}var Lr,wn;function xc(){if(wn)return Lr;wn=1;var r=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,n=(d,f)=>{for(var v in f)r(d,v,{get:f[v],enumerable:!0})},i=(d,f,v,b)=>{if(f&&typeof f=="object"||typeof f=="function")for(let _ of t(f))!s.call(d,_)&&_!==v&&r(d,_,{get:()=>f[_],enumerable:!(b=e(f,_))||b.enumerable});return d},o=d=>i(r({},"__esModule",{value:!0}),d),c={};n(c,{default:()=>u}),Lr=o(c);var l=lr(),h=bc(),u=[{key:"youtube",name:"YouTube",canPlay:h.canPlay.youtube,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./YouTube-M1CVXSQn.js").then(d=>d.Y),__vite__mapDeps([2,1])))},{key:"soundcloud",name:"SoundCloud",canPlay:h.canPlay.soundcloud,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./SoundCloud-Cmn3HfM5.js").then(d=>d.S),__vite__mapDeps([3,1])))},{key:"vimeo",name:"Vimeo",canPlay:h.canPlay.vimeo,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./Vimeo-DZH_vQ0v.js").then(d=>d.V),__vite__mapDeps([4,1])))},{key:"mux",name:"Mux",canPlay:h.canPlay.mux,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./Mux-OzeOR059.js").then(d=>d.M),__vite__mapDeps([5,1])))},{key:"facebook",name:"Facebook",canPlay:h.canPlay.facebook,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./Facebook-BTz5EVK8.js").then(d=>d.F),__vite__mapDeps([6,1])))},{key:"streamable",name:"Streamable",canPlay:h.canPlay.streamable,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./Streamable-ZDq9c1mF.js").then(d=>d.S),__vite__mapDeps([7,1])))},{key:"wistia",name:"Wistia",canPlay:h.canPlay.wistia,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./Wistia-DNNfwAEL.js").then(d=>d.W),__vite__mapDeps([8,1])))},{key:"twitch",name:"Twitch",canPlay:h.canPlay.twitch,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./Twitch-CUmd5SAA.js").then(d=>d.T),__vite__mapDeps([9,1])))},{key:"dailymotion",name:"DailyMotion",canPlay:h.canPlay.dailymotion,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./DailyMotion-BmxyWhRl.js").then(d=>d.D),__vite__mapDeps([10,1])))},{key:"mixcloud",name:"Mixcloud",canPlay:h.canPlay.mixcloud,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./Mixcloud-B5MTNqAJ.js").then(d=>d.M),__vite__mapDeps([11,1])))},{key:"vidyard",name:"Vidyard",canPlay:h.canPlay.vidyard,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./Vidyard-ByU-HECQ.js").then(d=>d.V),__vite__mapDeps([12,1])))},{key:"kaltura",name:"Kaltura",canPlay:h.canPlay.kaltura,lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./Kaltura-DP9pTYba.js").then(d=>d.K),__vite__mapDeps([13,1])))},{key:"file",name:"FilePlayer",canPlay:h.canPlay.file,canEnablePIP:d=>h.canPlay.file(d)&&(document.pictureInPictureEnabled||(0,l.supportsWebKitPresentationMode)())&&!h.AUDIO_EXTENSIONS.test(d),lazyPlayer:(0,l.lazy)(()=>ce(()=>import("./FilePlayer-DoKf3RHK.js").then(d=>d.F),__vite__mapDeps([14,1])))}];return Lr}var _n=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function wc(r,e){return!!(r===e||_n(r)&&_n(e))}function _c(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(!wc(r[t],e[t]))return!1;return!0}function jc(r,e){e===void 0&&(e=_c);var t,s=[],n,i=!1;function o(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return i&&t===this&&e(c,s)||(n=r.apply(this,c),i=!0,t=this,s=c),n}return o}const Sc=Object.freeze(Object.defineProperty({__proto__:null,default:jc},Symbol.toStringTag,{value:"Module"})),kc=Qn(Sc);var Dr,jn;function Ii(){if(jn)return Dr;jn=1;var r=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function n(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var c,l,h;if(Array.isArray(i)){if(c=i.length,c!=o.length)return!1;for(l=c;l--!==0;)if(!n(i[l],o[l]))return!1;return!0}var u;if(e&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(u=i.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=i.entries();!(l=u.next()).done;)if(!n(l.value[1],o.get(l.value[0])))return!1;return!0}if(t&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(u=i.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(c=i.length,c!=o.length)return!1;for(l=c;l--!==0;)if(i[l]!==o[l])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(h=Object.keys(i),c=h.length,c!==Object.keys(o).length)return!1;for(l=c;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,h[l]))return!1;if(r&&i instanceof Element)return!1;for(l=c;l--!==0;)if(!((h[l]==="_owner"||h[l]==="__v"||h[l]==="__o")&&i.$$typeof)&&!n(i[h[l]],o[h[l]]))return!1;return!0}return i!==i&&o!==o}return Dr=function(o,c){try{return n(o,c)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},Dr}var Mr={exports:{}},Ir,Sn;function Pc(){if(Sn)return Ir;Sn=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ir=r,Ir}var $r,kn;function Ec(){if(kn)return $r;kn=1;var r=Pc();function e(){}function t(){}return t.resetWarningCache=e,$r=function(){function s(o,c,l,h,u,d){if(d!==r){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}s.isRequired=s;function n(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:n,element:s,elementType:s,instanceOf:n,node:s,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},$r}var Pn;function $i(){return Pn||(Pn=1,Mr.exports=Ec()()),Mr.exports}var Fr,En;function Fi(){if(En)return Fr;En=1;var r=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,n=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,o=($,N)=>{for(var V in N)e($,V,{get:N[V],enumerable:!0})},c=($,N,V,M)=>{if(N&&typeof N=="object"||typeof N=="function")for(let L of s(N))!i.call($,L)&&L!==V&&e($,L,{get:()=>N[L],enumerable:!(M=t(N,L))||M.enumerable});return $},l=($,N,V)=>(V=$!=null?r(n($)):{},c(!$||!$.__esModule?e(V,"default",{value:$,enumerable:!0}):V,$)),h=$=>c(e({},"__esModule",{value:!0}),$),u={};o(u,{defaultProps:()=>C,propTypes:()=>g}),Fr=h(u);var d=l($i());const{string:f,bool:v,number:b,array:_,oneOfType:j,shape:y,object:m,func:p,node:w}=d.default,g={url:j([f,_,m]),playing:v,loop:v,controls:v,volume:b,muted:v,playbackRate:b,width:j([f,b]),height:j([f,b]),style:m,progressInterval:b,playsinline:v,pip:v,stopOnUnmount:v,light:j([v,f,m]),playIcon:w,previewTabIndex:b,previewAriaLabel:f,fallback:w,oEmbedUrl:f,wrapper:j([f,p,y({render:p.isRequired})]),config:y({soundcloud:y({options:m}),youtube:y({playerVars:m,embedOptions:m,onUnstarted:p}),facebook:y({appId:f,version:f,playerId:f,attributes:m}),dailymotion:y({params:m}),vimeo:y({playerOptions:m,title:f}),mux:y({attributes:m,version:f}),file:y({attributes:m,tracks:_,forceVideo:v,forceAudio:v,forceHLS:v,forceSafariHLS:v,forceDisableHls:v,forceDASH:v,forceFLV:v,hlsOptions:m,hlsVersion:f,dashVersion:f,flvVersion:f}),wistia:y({options:m,playerId:f,customControls:_}),mixcloud:y({options:m}),twitch:y({options:m,playerId:f}),vidyard:y({options:m})}),onReady:p,onStart:p,onPlay:p,onPause:p,onBuffer:p,onBufferEnd:p,onEnded:p,onError:p,onDuration:p,onSeek:p,onPlaybackRateChange:p,onPlaybackQualityChange:p,onProgress:p,onClickPreview:p,onEnablePIP:p,onDisablePIP:p},O=()=>{},C={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:O},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:O,onStart:O,onPlay:O,onPause:O,onBuffer:O,onBufferEnd:O,onEnded:O,onError:O,onDuration:O,onSeek:O,onPlaybackRateChange:O,onPlaybackQualityChange:O,onProgress:O,onClickPreview:O,onEnablePIP:O,onDisablePIP:O};return Fr}var Ur,Nn;function Nc(){if(Nn)return Ur;Nn=1;var r=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,n=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,o=(p,w,g)=>w in p?e(p,w,{enumerable:!0,configurable:!0,writable:!0,value:g}):p[w]=g,c=(p,w)=>{for(var g in w)e(p,g,{get:w[g],enumerable:!0})},l=(p,w,g,O)=>{if(w&&typeof w=="object"||typeof w=="function")for(let C of s(w))!i.call(p,C)&&C!==g&&e(p,C,{get:()=>w[C],enumerable:!(O=t(w,C))||O.enumerable});return p},h=(p,w,g)=>(g=p!=null?r(n(p)):{},l(!p||!p.__esModule?e(g,"default",{value:p,enumerable:!0}):g,p)),u=p=>l(e({},"__esModule",{value:!0}),p),d=(p,w,g)=>(o(p,typeof w!="symbol"?w+"":w,g),g),f={};c(f,{default:()=>m}),Ur=u(f);var v=h(vt()),b=h(Ii()),_=Fi(),j=lr();const y=5e3;class m extends v.Component{constructor(){super(...arguments),d(this,"mounted",!1),d(this,"isReady",!1),d(this,"isPlaying",!1),d(this,"isLoading",!0),d(this,"loadOnReady",null),d(this,"startOnPlay",!0),d(this,"seekOnPlay",null),d(this,"onDurationCalled",!1),d(this,"handlePlayerMount",w=>{if(this.player){this.progress();return}this.player=w,this.player.load(this.props.url),this.progress()}),d(this,"getInternalPlayer",w=>this.player?this.player[w]:null),d(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const w=this.getCurrentTime()||0,g=this.getSecondsLoaded(),O=this.getDuration();if(O){const C={playedSeconds:w,played:w/O};g!==null&&(C.loadedSeconds=g,C.loaded=g/O),(C.playedSeconds!==this.prevPlayed||C.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(C),this.prevPlayed=C.playedSeconds,this.prevLoaded=C.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),d(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:w,playing:g,volume:O,muted:C}=this.props;w(),!C&&O!==null&&this.player.setVolume(O),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):g&&this.player.play(),this.handleDurationCheck()}),d(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:w,onPlay:g,playbackRate:O}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&O!==1&&this.player.setPlaybackRate(O),w(),this.startOnPlay=!1),g(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),d(this,"handlePause",w=>{this.isPlaying=!1,this.isLoading||this.props.onPause(w)}),d(this,"handleEnded",()=>{const{activePlayer:w,loop:g,onEnded:O}=this.props;w.loopOnEnded&&g&&this.seekTo(0),g||(this.isPlaying=!1,O())}),d(this,"handleError",(...w)=>{this.isLoading=!1,this.props.onError(...w)}),d(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const w=this.getDuration();w?this.onDurationCalled||(this.props.onDuration(w),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),d(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(w){if(!this.player)return;const{url:g,playing:O,volume:C,muted:$,playbackRate:N,pip:V,loop:M,activePlayer:L,disableDeferredLoading:R}=this.props;if(!(0,b.default)(w.url,g)){if(this.isLoading&&!L.forceLoad&&!R&&!(0,j.isMediaStream)(g)){console.warn(`ReactPlayer: the attempt to load ${g} is being deferred until the player has loaded`),this.loadOnReady=g;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(g,this.isReady)}!w.playing&&O&&!this.isPlaying&&this.player.play(),w.playing&&!O&&this.isPlaying&&this.player.pause(),!w.pip&&V&&this.player.enablePIP&&this.player.enablePIP(),w.pip&&!V&&this.player.disablePIP&&this.player.disablePIP(),w.volume!==C&&C!==null&&this.player.setVolume(C),w.muted!==$&&($?this.player.mute():(this.player.unmute(),C!==null&&setTimeout(()=>this.player.setVolume(C)))),w.playbackRate!==N&&this.player.setPlaybackRate&&this.player.setPlaybackRate(N),w.loop!==M&&this.player.setLoop&&this.player.setLoop(M)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(w,g,O){if(!this.isReady){w!==0&&(this.seekOnPlay=w,setTimeout(()=>{this.seekOnPlay=null},y));return}if(g?g==="fraction":w>0&&w<1){const $=this.player.getDuration();if(!$){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo($*w,O);return}this.player.seekTo(w,O)}render(){const w=this.props.activePlayer;return w?v.default.createElement(w,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return d(m,"displayName","Player"),d(m,"propTypes",_.propTypes),d(m,"defaultProps",_.defaultProps),Ur}var qr,On;function Oc(){if(On)return qr;On=1;var r=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,n=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,o=(M,L,R)=>L in M?e(M,L,{enumerable:!0,configurable:!0,writable:!0,value:R}):M[L]=R,c=(M,L)=>{for(var R in L)e(M,R,{get:L[R],enumerable:!0})},l=(M,L,R,P)=>{if(L&&typeof L=="object"||typeof L=="function")for(let S of s(L))!i.call(M,S)&&S!==R&&e(M,S,{get:()=>L[S],enumerable:!(P=t(L,S))||P.enumerable});return M},h=(M,L,R)=>(R=M!=null?r(n(M)):{},l(!M||!M.__esModule?e(R,"default",{value:M,enumerable:!0}):R,M)),u=M=>l(e({},"__esModule",{value:!0}),M),d=(M,L,R)=>(o(M,typeof L!="symbol"?L+"":L,R),R),f={};c(f,{createReactPlayer:()=>V}),qr=u(f);var v=h(vt()),b=h(Mi()),_=h(kc),j=h(Ii()),y=Fi(),m=lr(),p=h(Nc());const w=(0,m.lazy)(()=>ce(()=>import("./Preview-rwsRkN_z.js").then(M=>M.P),__vite__mapDeps([15,1]))),g=typeof window<"u"&&window.document&&typeof document<"u",O=typeof pr<"u"&&pr.window&&pr.window.document,C=Object.keys(y.propTypes),$=g||O?v.Suspense:()=>null,N=[],V=(M,L)=>{var R;return R=class extends v.Component{constructor(){super(...arguments),d(this,"state",{showPreview:!!this.props.light}),d(this,"references",{wrapper:P=>{this.wrapper=P},player:P=>{this.player=P}}),d(this,"handleClickPreview",P=>{this.setState({showPreview:!1}),this.props.onClickPreview(P)}),d(this,"showPreview",()=>{this.setState({showPreview:!0})}),d(this,"getDuration",()=>this.player?this.player.getDuration():null),d(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),d(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),d(this,"getInternalPlayer",(P="player")=>this.player?this.player.getInternalPlayer(P):null),d(this,"seekTo",(P,S,I)=>{if(!this.player)return null;this.player.seekTo(P,S,I)}),d(this,"handleReady",()=>{this.props.onReady(this)}),d(this,"getActivePlayer",(0,_.default)(P=>{for(const S of[...N,...M])if(S.canPlay(P))return S;return L||null})),d(this,"getConfig",(0,_.default)((P,S)=>{const{config:I}=this.props;return b.default.all([y.defaultProps.config,y.defaultProps.config[S]||{},I,I[S]||{}])})),d(this,"getAttributes",(0,_.default)(P=>(0,m.omit)(this.props,C))),d(this,"renderActivePlayer",P=>{if(!P)return null;const S=this.getActivePlayer(P);if(!S)return null;const I=this.getConfig(P,S.key);return v.default.createElement(p.default,{...this.props,key:S.key,ref:this.references.player,config:I,activePlayer:S.lazyPlayer||S,onReady:this.handleReady})})}shouldComponentUpdate(P,S){return!(0,j.default)(this.props,P)||!(0,j.default)(this.state,S)}componentDidUpdate(P){const{light:S}=this.props;!P.light&&S&&this.setState({showPreview:!0}),P.light&&!S&&this.setState({showPreview:!1})}renderPreview(P){if(!P)return null;const{light:S,playIcon:I,previewTabIndex:Y,oEmbedUrl:W,previewAriaLabel:A}=this.props;return v.default.createElement(w,{url:P,light:S,playIcon:I,previewTabIndex:Y,previewAriaLabel:A,oEmbedUrl:W,onClick:this.handleClickPreview})}render(){const{url:P,style:S,width:I,height:Y,fallback:W,wrapper:A}=this.props,{showPreview:U}=this.state,J=this.getAttributes(P),ee=typeof A=="string"?this.references.wrapper:void 0;return v.default.createElement(A,{ref:ee,style:{...S,width:I,height:Y},...J},v.default.createElement($,{fallback:W},U?this.renderPreview(P):this.renderActivePlayer(P)))}},d(R,"displayName","ReactPlayer"),d(R,"propTypes",y.propTypes),d(R,"defaultProps",y.defaultProps),d(R,"addCustomPlayer",P=>{N.push(P)}),d(R,"removeCustomPlayers",()=>{N.length=0}),d(R,"canPlay",P=>{for(const S of[...N,...M])if(S.canPlay(P))return!0;return!1}),d(R,"canEnablePIP",P=>{for(const S of[...N,...M])if(S.canEnablePIP&&S.canEnablePIP(P))return!0;return!1}),R};return qr}var Vr,Cn;function Cc(){if(Cn)return Vr;Cn=1;var r=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,n=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,o=(_,j)=>{for(var y in j)e(_,y,{get:j[y],enumerable:!0})},c=(_,j,y,m)=>{if(j&&typeof j=="object"||typeof j=="function")for(let p of s(j))!i.call(_,p)&&p!==y&&e(_,p,{get:()=>j[p],enumerable:!(m=t(j,p))||m.enumerable});return _},l=(_,j,y)=>(y=_!=null?r(n(_)):{},c(!_||!_.__esModule?e(y,"default",{value:_,enumerable:!0}):y,_)),h=_=>c(e({},"__esModule",{value:!0}),_),u={};o(u,{default:()=>b}),Vr=h(u);var d=l(xc()),f=Oc();const v=d.default[d.default.length-1];var b=(0,f.createReactPlayer)(d.default,v);return Vr}var Tc=Cc();const Ui=$t(Tc),gs=({src:r,alt:e,className:t="",fallbackSrc:s="https://placehold.co/600x400?text=Image+non+disponible",loadingComponent:n,onLoad:i,onError:o,...c})=>{const[l,h]=T.useState(!0),[u,d]=T.useState(!1),[f,v]=T.useState(r);T.useEffect(()=>{v(r),h(!0),d(!1)},[r]);const b=()=>{console.log(`Image loaded successfully: ${r}`),h(!1),d(!1),i==null||i()},_=()=>{console.error(`Failed to load image: ${r}`,{originalSrc:r,fallbackSrc:s,alt:e,timestamp:new Date().toISOString()}),h(!1),d(!0),v(s),o==null||o()};return a.jsxs("div",{className:"relative overflow-hidden","data-testid":"image-container",children:[l&&n&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary-800",children:n}),a.jsx(H.img,{src:f,alt:e,className:`${t} ${l?"opacity-0":"opacity-100"} ${u?"bg-primary-800":""} transition-opacity duration-300`,onLoad:b,onError:_,loading:"lazy",...c})]})},ys=()=>a.jsx(H.div,{className:"w-8 h-8 border-4 border-accent-400 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},role:"progressbar","aria-label":"Chargement de l'image"}),Ac=()=>{const[r,e]=T.useState(null),{projects:t}=Ie(),s=()=>{e(null)},n=i=>{const o=i.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/);return o?o[1]:null};return a.jsxs(a.Fragment,{children:[a.jsx(Li,{modules:[ac,oc,lc],spaceBetween:30,slidesPerView:1,breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}},navigation:!0,pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},className:"pb-12",children:t.map(i=>a.jsx(Di,{children:a.jsxs(H.div,{whileHover:{y:-10},className:"bg-primary-800 rounded-lg overflow-hidden shadow-lg",children:[a.jsxs("div",{className:"relative h-60 overflow-hidden bg-primary-800",children:[a.jsx(gs,{src:i.image_url,alt:i.title,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-500",loadingComponent:a.jsx(ys,{})}),i.video_url&&n(i.video_url)&&a.jsx("button",{onClick:()=>e(i.video_url),className:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 hover:opacity-100 transition-opacity duration-300",children:a.jsx("span",{className:"w-16 h-16 rounded-full bg-accent-500/80 flex items-center justify-center",children:a.jsx(ri,{className:"h-8 w-8 text-white"})})}),a.jsx("div",{className:"absolute top-3 right-3 z-10",children:a.jsx("span",{className:"bg-accent-600 text-xs font-semibold px-2.5 py-1 rounded-full text-white",children:i.type==="music"?"Musique":"Vidéo"})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-xl font-bold mb-1 gold-gradient",children:i.title}),a.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:[i.artist," • ",i.year]}),a.jsx("p",{className:"text-gray-300 text-sm line-clamp-3",children:i.description})]})]})},i.id))}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-5",children:a.jsxs("div",{className:"relative w-full max-w-4xl",children:[a.jsxs("button",{onClick:s,className:"absolute -top-12 right-0 text-white hover:text-accent-400 transition-colors",children:[a.jsx("span",{className:"sr-only",children:"Fermer"}),a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),a.jsx("div",{className:"aspect-w-16 aspect-h-9",children:a.jsx(Ui,{url:r,width:"100%",height:"100%",controls:!0,playing:!0,config:{youtube:{playerVars:{showinfo:1}}}})})]})})]})},Rc=()=>{const{artists:r}=Ie(),e={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.2}}},t={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.6}}};return a.jsx(H.div,{variants:e,initial:"hidden",whileInView:"show",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(s=>a.jsxs(H.div,{variants:t,className:"bg-primary-900 rounded-lg overflow-hidden shadow-lg transition-transform duration-300 hover:shadow-[0_0_15px_rgba(185,158,119,0.2)] hover:-translate-y-2",children:[a.jsx("div",{className:"h-60 overflow-hidden relative bg-primary-800",children:a.jsx(gs,{src:s.image_url,alt:s.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",loadingComponent:a.jsx(ys,{})})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-1 gold-gradient",children:s.name}),a.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:["Dernier projet : ",s.latest_work," • ",new Date(s.release_date).toLocaleDateString()]}),a.jsx("p",{className:"text-gray-300 text-sm mb-4",children:s.description}),s.profile_url&&a.jsxs("a",{href:s.profile_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-accent-400 hover:text-accent-300 transition-colors",children:[a.jsx("span",{children:"Découvrir"}),a.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},s.id))})},Lc=()=>{const{fetchProjects:r,fetchArtists:e,fetchServices:t,isLoading:s}=Ie();return T.useEffect(()=>{r(),e(),t()},[]),s?a.jsx("div",{children:"Chargement..."}):a.jsxs("div",{className:"overflow-hidden",children:[a.jsx(ic,{}),a.jsx("section",{className:"py-20 bg-primary-950",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(H.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-12 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl xl:text-5xl font-heading font-bold mb-3 gold-gradient",children:"Nos derniers projets"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Découvrez les dernières productions musicales et visuelles réalisées par notre label"})]}),a.jsx(Ac,{})]})}),a.jsx("section",{className:"py-20 bg-black",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(H.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-12 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl xl:text-5xl font-heading font-bold mb-3 gold-gradient",children:"Actualités des artistes"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"L'actualité des artistes incontournables de la scène urbaine française"})]}),a.jsx(Rc,{})]})}),a.jsxs("section",{className:"py-20 bg-primary-950 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"bg-[url('https://images.pexels.com/photos/164829/pexels-photo-164829.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')] bg-cover bg-center h-full w-full"})}),a.jsx("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:a.jsx("div",{className:"max-w-3xl mx-auto text-center",children:a.jsxs(H.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6},viewport:{once:!0},children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold mb-6 gold-gradient",children:"Prêt à donner vie à votre projet musical?"}),a.jsx("p",{className:"text-gray-300 mb-8 text-lg",children:"Chez Black Road Music, nous mettons notre expertise et notre passion au service de votre créativité. Contactez-nous pour discuter de votre vision et découvrir comment nous pouvons la transformer en réalité."}),a.jsx(H.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx("a",{href:"/contact",className:"inline-block bg-gradient-to-r from-accent-700 to-accent-500 text-white font-medium py-3 px-8 rounded-full transition-all hover:shadow-[0_0_15px_rgba(185,158,119,0.5)]",children:"Collaborer avec nous"})})]})})})]})]})},Dc=()=>{const{projects:r,fetchProjects:e,isLoading:t}=Ie(),[s,n]=T.useState(null),[i,o]=T.useState("all"),[c,l]=T.useState([]);T.useEffect(()=>{e()},[]),T.useEffect(()=>{l(i==="all"?r:r.filter(f=>f.type===i))},[i,r]);const h=f=>{const v=f.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/);return v?v[1]:null};if(t)return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsx("div",{className:"text-accent-400",children:"Chargement..."})});const u={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},d={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"pt-24 pb-20 bg-black",children:[a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-16 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-4 gold-gradient",children:"Nos Projets"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Découvrez les projets et productions réalisés par Black Road Music, des albums aux clips vidéo en passant par les mixtapes et EP."})]}),a.jsx("div",{className:"flex justify-center mb-10",children:a.jsx("div",{className:"inline-flex bg-primary-800 rounded-full p-1",children:[{label:"Tous",value:"all"},{label:"Musique",value:"music"},{label:"Vidéo",value:"video"}].map(f=>a.jsx("button",{onClick:()=>o(f.value),className:`px-6 py-2 rounded-full text-sm font-medium transition-all ${i===f.value?"bg-accent-600 text-white shadow-lg":"text-gray-300 hover:text-white"}`,children:f.label},f.value))})}),a.jsx(H.div,{variants:u,initial:"hidden",animate:"show",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(f=>a.jsxs(H.div,{variants:d,whileHover:{y:-10},className:"bg-primary-900 rounded-lg overflow-hidden shadow-lg h-full",children:[a.jsxs("div",{className:"relative h-60 overflow-hidden bg-primary-800",children:[a.jsx(gs,{src:f.image_url,alt:f.title,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-500",loadingComponent:a.jsx(ys,{})}),f.video_url&&h(f.video_url)&&a.jsx("button",{onClick:()=>n(f.video_url),className:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 hover:opacity-100 transition-opacity duration-300",children:a.jsx("span",{className:"w-16 h-16 rounded-full bg-accent-500/80 flex items-center justify-center",children:a.jsx(ri,{className:"h-8 w-8 text-white"})})}),a.jsx("div",{className:"absolute top-3 right-3 z-10",children:a.jsx("span",{className:"bg-accent-600 text-xs font-semibold px-2.5 py-1 rounded-full text-white",children:f.type==="music"?"Musique":"Vidéo"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-1 gold-gradient",children:f.title}),a.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:[f.artist," • ",f.year]}),a.jsx("p",{className:"text-gray-300",children:f.description})]})]},f.id))})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-5",children:a.jsxs("div",{className:"relative w-full max-w-4xl",children:[a.jsxs("button",{onClick:()=>n(null),className:"absolute -top-12 right-0 text-white hover:text-accent-400 transition-colors",children:[a.jsx("span",{className:"sr-only",children:"Fermer"}),a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),a.jsx("div",{className:"aspect-w-16 aspect-h-9",children:a.jsx(Ui,{url:s,width:"100%",height:"100%",controls:!0,playing:!0,config:{youtube:{playerVars:{showinfo:1}}}})})]})})]})},Mc=({service:r})=>{const e=t=>{switch(t){case"music":return a.jsx(La,{className:"h-6 w-6"});case"video":return a.jsx(cs,{className:"h-6 w-6"});case"mic":return a.jsx(Ra,{className:"h-6 w-6"});case"image":return a.jsx(Ca,{className:"h-6 w-6"});case"radio":return a.jsx(Da,{className:"h-6 w-6"});case"users":return a.jsx(Ia,{className:"h-6 w-6"});case"calendar":return a.jsx(Ea,{className:"h-6 w-6"});case"settings":return a.jsx(Ma,{className:"h-6 w-6"});default:return null}};return a.jsx("div",{className:"group h-full",children:a.jsxs("div",{className:"bg-primary-900 rounded-xl p-6 h-full transition-all duration-300 hover:shadow-[0_0_15px_rgba(185,158,119,0.2)] hover:-translate-y-1",children:[a.jsx("div",{className:"bg-accent-600/10 w-12 h-12 rounded-lg flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:a.jsx("span",{className:"text-accent-400",children:e(r.icon)})}),a.jsx("h3",{className:"text-xl font-bold mb-3 gold-gradient",children:r.title}),a.jsx("p",{className:"text-gray-400 mb-6",children:r.description}),a.jsx("ul",{className:"space-y-3 mb-6",children:r.features.map((t,s)=>a.jsxs(H.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.3,delay:s*.1},viewport:{once:!0},className:"flex items-start",children:[a.jsx("span",{className:"text-accent-400 mr-2",children:"•"}),a.jsx("span",{className:"text-gray-300",children:t})]},s))}),a.jsx("div",{className:"pt-4 mt-auto",children:a.jsxs(H.div,{whileHover:{x:5},className:"inline-flex items-center text-accent-400 hover:text-accent-300 transition-colors",children:[a.jsx(ie,{to:"/contact",className:"font-medium",children:"En savoir plus"}),a.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})},Ic=()=>{const{services:r,fetchServices:e,isLoading:t}=Ie();return T.useEffect(()=>{e()},[]),t?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsx("div",{className:"text-accent-400",children:"Chargement..."})}):a.jsx("div",{className:"pt-24 pb-20 bg-black",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-16 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-4 gold-gradient",children:"Nos Services"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"De la production musicale à la réalisation audiovisuelle, découvrez notre gamme complète de services professionnels."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((s,n)=>a.jsx(H.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},viewport:{once:!0},children:a.jsx(Mc,{service:s})},s.id))}),a.jsxs(H.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-20 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.pexels.com/photos/164829/pexels-photo-164829.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')] bg-cover bg-center opacity-10"}),a.jsx("div",{className:"bg-primary-900/80 backdrop-blur-sm rounded-xl p-8 md:p-12 relative",children:a.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-heading font-bold mb-6 gold-gradient",children:"Prêt à donner vie à votre projet ?"}),a.jsx("p",{className:"text-gray-300 mb-8",children:"Chaque projet est unique et mérite une attention particulière. Contactez-nous pour discuter de vos besoins et obtenir un devis personnalisé."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsx(H.a,{href:"/contact",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto bg-gradient-to-r from-accent-700 to-accent-500 text-white font-medium py-3 px-8 rounded-full transition-all hover:shadow-[0_0_15px_rgba(185,158,119,0.5)]",children:"Nous contacter"}),a.jsx(H.a,{href:"/reserver",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto bg-transparent border-2 border-accent-500 text-white font-medium py-3 px-8 rounded-full transition-all hover:bg-accent-500/10",children:"Réserver une session"})]})]})})]})]})})};var Vt=r=>r.type==="checkbox",Ke=r=>r instanceof Date,xe=r=>r==null;const qi=r=>typeof r=="object";var oe=r=>!xe(r)&&!Array.isArray(r)&&qi(r)&&!Ke(r),$c=r=>oe(r)&&r.target?Vt(r.target)?r.target.checked:r.target.value:r,Fc=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,Uc=(r,e)=>r.has(Fc(e)),qc=r=>{const e=r.constructor&&r.constructor.prototype;return oe(e)&&e.hasOwnProperty("isPrototypeOf")},vs=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ye(r){let e;const t=Array.isArray(r),s=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(vs&&(r instanceof Blob||s))&&(t||oe(r)))if(e=t?[]:{},!t&&!qc(r))e=r;else for(const n in r)r.hasOwnProperty(n)&&(e[n]=ye(r[n]));else return r;return e}var cr=r=>Array.isArray(r)?r.filter(Boolean):[],ue=r=>r===void 0,z=(r,e,t)=>{if(!e||!oe(r))return t;const s=cr(e.split(/[,[\].]+?/)).reduce((n,i)=>xe(n)?n:n[i],r);return ue(s)||s===r?ue(r[e])?t:r[e]:s},Te=r=>typeof r=="boolean",bs=r=>/^\w*$/.test(r),Vi=r=>cr(r.replace(/["|']|\]/g,"").split(/\.|\[/)),ne=(r,e,t)=>{let s=-1;const n=bs(e)?[e]:Vi(e),i=n.length,o=i-1;for(;++s<i;){const c=n[s];let l=t;if(s!==o){const h=r[c];l=oe(h)||Array.isArray(h)?h:isNaN(+n[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;r[c]=l,r=r[c]}};const Tn={BLUR:"blur",FOCUS_OUT:"focusout"},Ee={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},De={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Z.createContext(null);var Vc=(r,e,t,s=!0)=>{const n={defaultValues:e._defaultValues};for(const i in r)Object.defineProperty(n,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Ee.all&&(e._proxyFormState[o]=!s||Ee.all),r[o]}});return n},es=r=>xe(r)||!qi(r);function Be(r,e){if(es(r)||es(e))return r===e;if(Ke(r)&&Ke(e))return r.getTime()===e.getTime();const t=Object.keys(r),s=Object.keys(e);if(t.length!==s.length)return!1;for(const n of t){const i=r[n];if(!s.includes(n))return!1;if(n!=="ref"){const o=e[n];if(Ke(i)&&Ke(o)||oe(i)&&oe(o)||Array.isArray(i)&&Array.isArray(o)?!Be(i,o):i!==o)return!1}}return!0}var Le=r=>typeof r=="string",Bc=(r,e,t,s,n)=>Le(r)?(s&&e.watch.add(r),z(t,r,n)):Array.isArray(r)?r.map(i=>(s&&e.watch.add(i),z(t,i))):(s&&(e.watchAll=!0),t),zc=(r,e,t,s,n)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[s]:n||!0}}:{},Lt=r=>Array.isArray(r)?r:[r],An=()=>{let r=[];return{get observers(){return r},next:n=>{for(const i of r)i.next&&i.next(n)},subscribe:n=>(r.push(n),{unsubscribe:()=>{r=r.filter(i=>i!==n)}}),unsubscribe:()=>{r=[]}}},ve=r=>oe(r)&&!Object.keys(r).length,xs=r=>r.type==="file",Ne=r=>typeof r=="function",rr=r=>{if(!vs)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Bi=r=>r.type==="select-multiple",ws=r=>r.type==="radio",Wc=r=>ws(r)||Vt(r),Br=r=>rr(r)&&r.isConnected;function Hc(r,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)r=ue(r)?s++:r[e[s++]];return r}function Jc(r){for(const e in r)if(r.hasOwnProperty(e)&&!ue(r[e]))return!1;return!0}function de(r,e){const t=Array.isArray(e)?e:bs(e)?[e]:Vi(e),s=t.length===1?r:Hc(r,t),n=t.length-1,i=t[n];return s&&delete s[i],n!==0&&(oe(s)&&ve(s)||Array.isArray(s)&&Jc(s))&&de(r,t.slice(0,-1)),r}var zi=r=>{for(const e in r)if(Ne(r[e]))return!0;return!1};function sr(r,e={}){const t=Array.isArray(r);if(oe(r)||t)for(const s in r)Array.isArray(r[s])||oe(r[s])&&!zi(r[s])?(e[s]=Array.isArray(r[s])?[]:{},sr(r[s],e[s])):xe(r[s])||(e[s]=!0);return e}function Wi(r,e,t){const s=Array.isArray(r);if(oe(r)||s)for(const n in r)Array.isArray(r[n])||oe(r[n])&&!zi(r[n])?ue(e)||es(t[n])?t[n]=Array.isArray(r[n])?sr(r[n],[]):{...sr(r[n])}:Wi(r[n],xe(e)?{}:e[n],t[n]):t[n]=!Be(r[n],e[n]);return t}var Pt=(r,e)=>Wi(r,e,sr(e));const Rn={value:!1,isValid:!1},Ln={value:!0,isValid:!0};var Hi=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!ue(r[0].attributes.value)?ue(r[0].value)||r[0].value===""?Ln:{value:r[0].value,isValid:!0}:Ln:Rn}return Rn},Ji=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>ue(r)?r:e?r===""?NaN:r&&+r:t&&Le(r)?new Date(r):s?s(r):r;const Dn={isValid:!1,value:null};var Gi=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Dn):Dn;function Mn(r){const e=r.ref;return xs(e)?e.files:ws(e)?Gi(r.refs).value:Bi(e)?[...e.selectedOptions].map(({value:t})=>t):Vt(e)?Hi(r.refs).value:Ji(ue(e.value)?r.ref.value:e.value,r)}var Gc=(r,e,t,s)=>{const n={};for(const i of r){const o=z(e,i);o&&ne(n,i,o._f)}return{criteriaMode:t,names:[...r],fields:n,shouldUseNativeValidation:s}},nr=r=>r instanceof RegExp,Et=r=>ue(r)?r:nr(r)?r.source:oe(r)?nr(r.value)?r.value.source:r.value:r,In=r=>({isOnSubmit:!r||r===Ee.onSubmit,isOnBlur:r===Ee.onBlur,isOnChange:r===Ee.onChange,isOnAll:r===Ee.all,isOnTouch:r===Ee.onTouched});const $n="AsyncFunction";var Yc=r=>!!r&&!!r.validate&&!!(Ne(r.validate)&&r.validate.constructor.name===$n||oe(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===$n)),Xc=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),Fn=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(s=>r.startsWith(s)&&/^\.\w+/.test(r.slice(s.length))));const Dt=(r,e,t,s)=>{for(const n of t||Object.keys(r)){const i=z(r,n);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(Dt(c,e))break}else if(oe(c)&&Dt(c,e))break}}};function Un(r,e,t){const s=z(r,t);if(s||bs(t))return{error:s,name:t};const n=t.split(".");for(;n.length;){const i=n.join("."),o=z(e,i),c=z(r,i);if(o&&!Array.isArray(o)&&t!==i)return{name:t};if(c&&c.type)return{name:i,error:c};n.pop()}return{name:t}}var Kc=(r,e,t,s)=>{t(r);const{name:n,...i}=r;return ve(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!s||Ee.all))},Qc=(r,e,t)=>!r||!e||r===e||Lt(r).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),Zc=(r,e,t,s,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(e||r):(t?s.isOnBlur:n.isOnBlur)?!r:(t?s.isOnChange:n.isOnChange)?r:!0,eu=(r,e)=>!cr(z(r,e)).length&&de(r,e),tu=(r,e,t)=>{const s=Lt(z(r,t));return ne(s,"root",e[t]),ne(r,t,s),r},Qt=r=>Le(r);function qn(r,e,t="validate"){if(Qt(r)||Array.isArray(r)&&r.every(Qt)||Te(r)&&!r)return{type:t,message:Qt(r)?r:"",ref:e}}var dt=r=>oe(r)&&!nr(r)?r:{value:r,message:""},Vn=async(r,e,t,s,n,i)=>{const{ref:o,refs:c,required:l,maxLength:h,minLength:u,min:d,max:f,pattern:v,validate:b,name:_,valueAsNumber:j,mount:y}=r._f,m=z(t,_);if(!y||e.has(_))return{};const p=c?c[0]:o,w=L=>{n&&p.reportValidity&&(p.setCustomValidity(Te(L)?"":L||""),p.reportValidity())},g={},O=ws(o),C=Vt(o),$=O||C,N=(j||xs(o))&&ue(o.value)&&ue(m)||rr(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,V=zc.bind(null,_,s,g),M=(L,R,P,S=De.maxLength,I=De.minLength)=>{const Y=L?R:P;g[_]={type:L?S:I,message:Y,ref:o,...V(L?S:I,Y)}};if(i?!Array.isArray(m)||!m.length:l&&(!$&&(N||xe(m))||Te(m)&&!m||C&&!Hi(c).isValid||O&&!Gi(c).isValid)){const{value:L,message:R}=Qt(l)?{value:!!l,message:l}:dt(l);if(L&&(g[_]={type:De.required,message:R,ref:p,...V(De.required,R)},!s))return w(R),g}if(!N&&(!xe(d)||!xe(f))){let L,R;const P=dt(f),S=dt(d);if(!xe(m)&&!isNaN(m)){const I=o.valueAsNumber||m&&+m;xe(P.value)||(L=I>P.value),xe(S.value)||(R=I<S.value)}else{const I=o.valueAsDate||new Date(m),Y=U=>new Date(new Date().toDateString()+" "+U),W=o.type=="time",A=o.type=="week";Le(P.value)&&m&&(L=W?Y(m)>Y(P.value):A?m>P.value:I>new Date(P.value)),Le(S.value)&&m&&(R=W?Y(m)<Y(S.value):A?m<S.value:I<new Date(S.value))}if((L||R)&&(M(!!L,P.message,S.message,De.max,De.min),!s))return w(g[_].message),g}if((h||u)&&!N&&(Le(m)||i&&Array.isArray(m))){const L=dt(h),R=dt(u),P=!xe(L.value)&&m.length>+L.value,S=!xe(R.value)&&m.length<+R.value;if((P||S)&&(M(P,L.message,R.message),!s))return w(g[_].message),g}if(v&&!N&&Le(m)){const{value:L,message:R}=dt(v);if(nr(L)&&!m.match(L)&&(g[_]={type:De.pattern,message:R,ref:o,...V(De.pattern,R)},!s))return w(R),g}if(b){if(Ne(b)){const L=await b(m,t),R=qn(L,p);if(R&&(g[_]={...R,...V(De.validate,R.message)},!s))return w(R.message),g}else if(oe(b)){let L={};for(const R in b){if(!ve(L)&&!s)break;const P=qn(await b[R](m,t),p,R);P&&(L={...P,...V(R,P.message)},w(P.message),s&&(g[_]=L))}if(!ve(L)&&(g[_]={ref:p,...L},!s))return g}}return w(!0),g};const ru={mode:Ee.onSubmit,reValidateMode:Ee.onChange,shouldFocusError:!0};function su(r={}){let e={...ru,...r},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ne(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let n=oe(e.defaultValues)||oe(e.values)?ye(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:ye(n),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,h=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const f={array:An(),state:An()},v=In(e.mode),b=In(e.reValidateMode),_=e.criteriaMode===Ee.all,j=x=>k=>{clearTimeout(h),h=setTimeout(x,k)},y=async x=>{if(!e.disabled&&(u.isValid||d.isValid||x)){const k=e.resolver?ve((await N()).errors):await M(s,!0);k!==t.isValid&&f.state.next({isValid:k})}},m=(x,k)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((x||Array.from(c.mount)).forEach(E=>{E&&(k?ne(t.validatingFields,E,k):de(t.validatingFields,E))}),f.state.next({validatingFields:t.validatingFields,isValidating:!ve(t.validatingFields)}))},p=(x,k=[],E,q,F=!0,D=!0)=>{if(q&&E&&!e.disabled){if(o.action=!0,D&&Array.isArray(z(s,x))){const B=E(z(s,x),q.argA,q.argB);F&&ne(s,x,B)}if(D&&Array.isArray(z(t.errors,x))){const B=E(z(t.errors,x),q.argA,q.argB);F&&ne(t.errors,x,B),eu(t.errors,x)}if((u.touchedFields||d.touchedFields)&&D&&Array.isArray(z(t.touchedFields,x))){const B=E(z(t.touchedFields,x),q.argA,q.argB);F&&ne(t.touchedFields,x,B)}(u.dirtyFields||d.dirtyFields)&&(t.dirtyFields=Pt(n,i)),f.state.next({name:x,isDirty:R(x,k),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ne(i,x,k)},w=(x,k)=>{ne(t.errors,x,k),f.state.next({errors:t.errors})},g=x=>{t.errors=x,f.state.next({errors:t.errors,isValid:!1})},O=(x,k,E,q)=>{const F=z(s,x);if(F){const D=z(i,x,ue(E)?z(n,x):E);ue(D)||q&&q.defaultChecked||k?ne(i,x,k?D:Mn(F._f)):I(x,D),o.mount&&y()}},C=(x,k,E,q,F)=>{let D=!1,B=!1;const Q={name:x};if(!e.disabled){if(!E||q){(u.isDirty||d.isDirty)&&(B=t.isDirty,t.isDirty=Q.isDirty=R(),D=B!==Q.isDirty);const le=Be(z(n,x),k);B=!!z(t.dirtyFields,x),le?de(t.dirtyFields,x):ne(t.dirtyFields,x,!0),Q.dirtyFields=t.dirtyFields,D=D||(u.dirtyFields||d.dirtyFields)&&B!==!le}if(E){const le=z(t.touchedFields,x);le||(ne(t.touchedFields,x,E),Q.touchedFields=t.touchedFields,D=D||(u.touchedFields||d.touchedFields)&&le!==E)}D&&F&&f.state.next(Q)}return D?Q:{}},$=(x,k,E,q)=>{const F=z(t.errors,x),D=(u.isValid||d.isValid)&&Te(k)&&t.isValid!==k;if(e.delayError&&E?(l=j(()=>w(x,E)),l(e.delayError)):(clearTimeout(h),l=null,E?ne(t.errors,x,E):de(t.errors,x)),(E?!Be(F,E):F)||!ve(q)||D){const B={...q,...D&&Te(k)?{isValid:k}:{},errors:t.errors,name:x};t={...t,...B},f.state.next(B)}},N=async x=>{m(x,!0);const k=await e.resolver(i,e.context,Gc(x||c.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return m(x),k},V=async x=>{const{errors:k}=await N(x);if(x)for(const E of x){const q=z(k,E);q?ne(t.errors,E,q):de(t.errors,E)}else t.errors=k;return k},M=async(x,k,E={valid:!0})=>{for(const q in x){const F=x[q];if(F){const{_f:D,...B}=F;if(D){const Q=c.array.has(D.name),le=F._f&&Yc(F._f);le&&u.validatingFields&&m([q],!0);const ge=await Vn(F,c.disabled,i,_,e.shouldUseNativeValidation&&!k,Q);if(le&&u.validatingFields&&m([q]),ge[D.name]&&(E.valid=!1,k))break;!k&&(z(ge,D.name)?Q?tu(t.errors,ge,D.name):ne(t.errors,D.name,ge[D.name]):de(t.errors,D.name))}!ve(B)&&await M(B,k,E)}}return E.valid},L=()=>{for(const x of c.unMount){const k=z(s,x);k&&(k._f.refs?k._f.refs.every(E=>!Br(E)):!Br(k._f.ref))&&Se(x)}c.unMount=new Set},R=(x,k)=>!e.disabled&&(x&&k&&ne(i,x,k),!Be(ee(),n)),P=(x,k,E)=>Bc(x,c,{...o.mount?i:ue(k)?n:Le(x)?{[x]:k}:k},E,k),S=x=>cr(z(o.mount?i:n,x,e.shouldUnregister?z(n,x,[]):[])),I=(x,k,E={})=>{const q=z(s,x);let F=k;if(q){const D=q._f;D&&(!D.disabled&&ne(i,x,Ji(k,D)),F=rr(D.ref)&&xe(k)?"":k,Bi(D.ref)?[...D.ref.options].forEach(B=>B.selected=F.includes(B.value)):D.refs?Vt(D.ref)?D.refs.length>1?D.refs.forEach(B=>(!B.defaultChecked||!B.disabled)&&(B.checked=Array.isArray(F)?!!F.find(Q=>Q===B.value):F===B.value)):D.refs[0]&&(D.refs[0].checked=!!F):D.refs.forEach(B=>B.checked=B.value===F):xs(D.ref)?D.ref.value="":(D.ref.value=F,D.ref.type||f.state.next({name:x,values:ye(i)})))}(E.shouldDirty||E.shouldTouch)&&C(x,F,E.shouldTouch,E.shouldDirty,!0),E.shouldValidate&&J(x)},Y=(x,k,E)=>{for(const q in k){const F=k[q],D=`${x}.${q}`,B=z(s,D);(c.array.has(x)||oe(F)||B&&!B._f)&&!Ke(F)?Y(D,F,E):I(D,F,E)}},W=(x,k,E={})=>{const q=z(s,x),F=c.array.has(x),D=ye(k);ne(i,x,D),F?(f.array.next({name:x,values:ye(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&E.shouldDirty&&f.state.next({name:x,dirtyFields:Pt(n,i),isDirty:R(x,D)})):q&&!q._f&&!xe(D)?Y(x,D,E):I(x,D,E),Fn(x,c)&&f.state.next({...t}),f.state.next({name:o.mount?x:void 0,values:ye(i)})},A=async x=>{o.mount=!0;const k=x.target;let E=k.name,q=!0;const F=z(s,E),D=B=>{q=Number.isNaN(B)||Ke(B)&&isNaN(B.getTime())||Be(B,z(i,E,B))};if(F){let B,Q;const le=k.type?Mn(F._f):$c(x),ge=x.type===Tn.BLUR||x.type===Tn.FOCUS_OUT,oa=!Xc(F._f)&&!e.resolver&&!z(t.errors,E)&&!F._f.deps||Zc(ge,z(t.touchedFields,E),t.isSubmitted,b,v),fr=Fn(E,c,ge);ne(i,E,le),ge?(F._f.onBlur&&F._f.onBlur(x),l&&l(0)):F._f.onChange&&F._f.onChange(x);const mr=C(E,le,ge),la=!ve(mr)||fr;if(!ge&&f.state.next({name:E,type:x.type,values:ye(i)}),oa)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?ge&&y():ge||y()),la&&f.state.next({name:E,...fr?{}:mr});if(!ge&&fr&&f.state.next({...t}),e.resolver){const{errors:Os}=await N([E]);if(D(le),q){const ca=Un(t.errors,s,E),Cs=Un(Os,s,ca.name||E);B=Cs.error,E=Cs.name,Q=ve(Os)}}else m([E],!0),B=(await Vn(F,c.disabled,i,_,e.shouldUseNativeValidation))[E],m([E]),D(le),q&&(B?Q=!1:(u.isValid||d.isValid)&&(Q=await M(s,!0)));q&&(F._f.deps&&J(F._f.deps),$(E,Q,B,mr))}},U=(x,k)=>{if(z(t.errors,k)&&x.focus)return x.focus(),1},J=async(x,k={})=>{let E,q;const F=Lt(x);if(e.resolver){const D=await V(ue(x)?x:F);E=ve(D),q=x?!F.some(B=>z(D,B)):E}else x?(q=(await Promise.all(F.map(async D=>{const B=z(s,D);return await M(B&&B._f?{[D]:B}:B)}))).every(Boolean),!(!q&&!t.isValid)&&y()):q=E=await M(s);return f.state.next({...!Le(x)||(u.isValid||d.isValid)&&E!==t.isValid?{}:{name:x},...e.resolver||!x?{isValid:E}:{},errors:t.errors}),k.shouldFocus&&!q&&Dt(s,U,x?F:c.mount),q},ee=x=>{const k={...o.mount?i:n};return ue(x)?k:Le(x)?z(k,x):x.map(E=>z(k,E))},he=(x,k)=>({invalid:!!z((k||t).errors,x),isDirty:!!z((k||t).dirtyFields,x),error:z((k||t).errors,x),isValidating:!!z(t.validatingFields,x),isTouched:!!z((k||t).touchedFields,x)}),He=x=>{x&&Lt(x).forEach(k=>de(t.errors,k)),f.state.next({errors:x?t.errors:{}})},tt=(x,k,E)=>{const q=(z(s,x,{_f:{}})._f||{}).ref,F=z(t.errors,x)||{},{ref:D,message:B,type:Q,...le}=F;ne(t.errors,x,{...le,...k,ref:q}),f.state.next({name:x,errors:t.errors,isValid:!1}),E&&E.shouldFocus&&q&&q.focus&&q.focus()},Bt=(x,k)=>Ne(x)?f.state.subscribe({next:E=>x(P(void 0,k),E)}):P(x,k,!0),xt=x=>f.state.subscribe({next:k=>{Qc(x.name,k.name,x.exact)&&Kc(k,x.formState||u,aa,x.reRenderRoot)&&x.callback({values:{...i},...t,...k})}}).unsubscribe,zt=x=>(o.mount=!0,d={...d,...x.formState},xt({...x,formState:d})),Se=(x,k={})=>{for(const E of x?Lt(x):c.mount)c.mount.delete(E),c.array.delete(E),k.keepValue||(de(s,E),de(i,E)),!k.keepError&&de(t.errors,E),!k.keepDirty&&de(t.dirtyFields,E),!k.keepTouched&&de(t.touchedFields,E),!k.keepIsValidating&&de(t.validatingFields,E),!e.shouldUnregister&&!k.keepDefaultValue&&de(n,E);f.state.next({values:ye(i)}),f.state.next({...t,...k.keepDirty?{isDirty:R()}:{}}),!k.keepIsValid&&y()},rt=({disabled:x,name:k})=>{(Te(x)&&o.mount||x||c.disabled.has(k))&&(x?c.disabled.add(k):c.disabled.delete(k))},hr=(x,k={})=>{let E=z(s,x);const q=Te(k.disabled)||Te(e.disabled);return ne(s,x,{...E||{},_f:{...E&&E._f?E._f:{ref:{name:x}},name:x,mount:!0,...k}}),c.mount.add(x),E?rt({disabled:Te(k.disabled)?k.disabled:e.disabled,name:x}):O(x,!0,k.value),{...q?{disabled:k.disabled||e.disabled}:{},...e.progressive?{required:!!k.required,min:Et(k.min),max:Et(k.max),minLength:Et(k.minLength),maxLength:Et(k.maxLength),pattern:Et(k.pattern)}:{},name:x,onChange:A,onBlur:A,ref:F=>{if(F){hr(x,k),E=z(s,x);const D=ue(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,B=Wc(D),Q=E._f.refs||[];if(B?Q.find(le=>le===D):D===E._f.ref)return;ne(s,x,{_f:{...E._f,...B?{refs:[...Q.filter(Br),D,...Array.isArray(z(n,x))?[{}]:[]],ref:{type:D.type,name:x}}:{ref:D}}}),O(x,!1,void 0,D)}else E=z(s,x,{}),E._f&&(E._f.mount=!1),(e.shouldUnregister||k.shouldUnregister)&&!(Uc(c.array,x)&&o.action)&&c.unMount.add(x)}}},Ss=()=>e.shouldFocusError&&Dt(s,U,c.mount),sa=x=>{Te(x)&&(f.state.next({disabled:x}),Dt(s,(k,E)=>{const q=z(s,E);q&&(k.disabled=q._f.disabled||x,Array.isArray(q._f.refs)&&q._f.refs.forEach(F=>{F.disabled=q._f.disabled||x}))},0,!1))},ks=(x,k)=>async E=>{let q;E&&(E.preventDefault&&E.preventDefault(),E.persist&&E.persist());let F=ye(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:D,values:B}=await N();t.errors=D,F=B}else await M(s);if(c.disabled.size)for(const D of c.disabled)ne(F,D,void 0);if(de(t.errors,"root"),ve(t.errors)){f.state.next({errors:{}});try{await x(F,E)}catch(D){q=D}}else k&&await k({...t.errors},E),Ss(),setTimeout(Ss);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ve(t.errors)&&!q,submitCount:t.submitCount+1,errors:t.errors}),q)throw q},na=(x,k={})=>{z(s,x)&&(ue(k.defaultValue)?W(x,ye(z(n,x))):(W(x,k.defaultValue),ne(n,x,ye(k.defaultValue))),k.keepTouched||de(t.touchedFields,x),k.keepDirty||(de(t.dirtyFields,x),t.isDirty=k.defaultValue?R(x,ye(z(n,x))):R()),k.keepError||(de(t.errors,x),u.isValid&&y()),f.state.next({...t}))},Ps=(x,k={})=>{const E=x?ye(x):n,q=ye(E),F=ve(x),D=F?n:q;if(k.keepDefaultValues||(n=E),!k.keepValues){if(k.keepDirtyValues){const B=new Set([...c.mount,...Object.keys(Pt(n,i))]);for(const Q of Array.from(B))z(t.dirtyFields,Q)?ne(D,Q,z(i,Q)):W(Q,z(D,Q))}else{if(vs&&ue(x))for(const B of c.mount){const Q=z(s,B);if(Q&&Q._f){const le=Array.isArray(Q._f.refs)?Q._f.refs[0]:Q._f.ref;if(rr(le)){const ge=le.closest("form");if(ge){ge.reset();break}}}}for(const B of c.mount)W(B,z(D,B))}i=ye(D),f.array.next({values:{...D}}),f.state.next({values:{...D}})}c={mount:k.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!k.keepIsValid||!!k.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:k.keepSubmitCount?t.submitCount:0,isDirty:F?!1:k.keepDirty?t.isDirty:!!(k.keepDefaultValues&&!Be(x,n)),isSubmitted:k.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:F?{}:k.keepDirtyValues?k.keepDefaultValues&&i?Pt(n,i):t.dirtyFields:k.keepDefaultValues&&x?Pt(n,x):k.keepDirty?t.dirtyFields:{},touchedFields:k.keepTouched?t.touchedFields:{},errors:k.keepErrors?t.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Es=(x,k)=>Ps(Ne(x)?x(i):x,k),ia=(x,k={})=>{const E=z(s,x),q=E&&E._f;if(q){const F=q.refs?q.refs[0]:q.ref;F.focus&&(F.focus(),k.shouldSelect&&Ne(F.select)&&F.select())}},aa=x=>{t={...t,...x}},Ns={control:{register:hr,unregister:Se,getFieldState:he,handleSubmit:ks,setError:tt,_subscribe:xt,_runSchema:N,_getWatch:P,_getDirty:R,_setValid:y,_setFieldArray:p,_setDisabledField:rt,_setErrors:g,_getFieldArray:S,_reset:Ps,_resetDefaultValues:()=>Ne(e.defaultValues)&&e.defaultValues().then(x=>{Es(x,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:sa,_subjects:f,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(x){o=x},get _defaultValues(){return n},get _names(){return c},set _names(x){c=x},get _formState(){return t},get _options(){return e},set _options(x){e={...e,...x}}},subscribe:zt,trigger:J,register:hr,handleSubmit:ks,watch:Bt,setValue:W,getValues:ee,reset:Es,resetField:na,clearErrors:He,unregister:Se,setError:tt,setFocus:ia,getFieldState:he};return{...Ns,formControl:Ns}}const nu=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function Yi(r={}){const e=Z.useRef(void 0),t=Z.useRef(void 0),[s,n]=Z.useState({isDirty:!1,isValidating:!1,isLoading:Ne(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:Ne(r.defaultValues)?void 0:r.defaultValues});e.current||(e.current={...r.formControl?r.formControl:su(r),formState:s},r.formControl&&r.defaultValues&&!Ne(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const i=e.current.control;return i._options=r,nu(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),Z.useEffect(()=>i._disableForm(r.disabled),[i,r.disabled]),Z.useEffect(()=>{r.mode&&(i._options.mode=r.mode),r.reValidateMode&&(i._options.reValidateMode=r.reValidateMode),r.errors&&!ve(r.errors)&&i._setErrors(r.errors)},[i,r.errors,r.mode,r.reValidateMode]),Z.useEffect(()=>{r.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,r.shouldUnregister]),Z.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),Z.useEffect(()=>{r.values&&!Be(r.values,t.current)?(i._reset(r.values,i._options.resetOptions),t.current=r.values,n(o=>({...o}))):i._resetDefaultValues()},[i,r.values]),Z.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Vc(s,i),e.current}var iu=$i();const _e=$t(iu);var au=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function ts(){return ts=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},ts.apply(this,arguments)}function ou(r,e){if(r==null)return{};var t={},s=Object.keys(r),n,i;for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}function Kt(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lu(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,rs(r,e)}function rs(r,e){return rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},rs(r,e)}var ur=function(r){lu(e,r);function e(){var s;return s=r.call(this)||this,s.handleExpired=s.handleExpired.bind(Kt(s)),s.handleErrored=s.handleErrored.bind(Kt(s)),s.handleChange=s.handleChange.bind(Kt(s)),s.handleRecaptchaRef=s.handleRecaptchaRef.bind(Kt(s)),s}var t=e.prototype;return t.getCaptchaFunction=function(n){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[n]:this.props.grecaptcha[n]:null},t.getValue=function(){var n=this.getCaptchaFunction("getResponse");return n&&this._widgetId!==void 0?n(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var n=this.getCaptchaFunction("execute");if(n&&this._widgetId!==void 0)return n(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var n=this;return new Promise(function(i,o){n.executionResolve=i,n.executionReject=o,n.execute()})},t.reset=function(){var n=this.getCaptchaFunction("reset");n&&this._widgetId!==void 0&&n(this._widgetId)},t.forceReset=function(){var n=this.getCaptchaFunction("reset");n&&n()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(n){this.props.onChange&&this.props.onChange(n),this.executionResolve&&(this.executionResolve(n),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var n=this.getCaptchaFunction("render");if(n&&this._widgetId===void 0){var i=document.createElement("div");this._widgetId=n(i,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(i)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(n){this.captcha=n},t.render=function(){var n=this.props;n.sitekey,n.onChange,n.theme,n.type,n.tabindex,n.onExpired,n.onErrored,n.size,n.stoken,n.grecaptcha,n.badge,n.hl,n.isolated;var i=ou(n,au);return T.createElement("div",ts({},i,{ref:this.handleRecaptchaRef}))},e}(T.Component);ur.displayName="ReCAPTCHA";ur.propTypes={sitekey:_e.string.isRequired,onChange:_e.func,grecaptcha:_e.object,theme:_e.oneOf(["dark","light"]),type:_e.oneOf(["image","audio"]),tabindex:_e.number,onExpired:_e.func,onErrored:_e.func,size:_e.oneOf(["compact","normal","invisible"]),stoken:_e.string,hl:_e.string,badge:_e.oneOf(["bottomright","bottomleft","inline"]),isolated:_e.bool};ur.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var zr={exports:{}},te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bn;function cu(){if(Bn)return te;Bn=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,n=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,o=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,u=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,_=r?Symbol.for("react.block"):60121,j=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,m=r?Symbol.for("react.scope"):60119;function p(g){if(typeof g=="object"&&g!==null){var O=g.$$typeof;switch(O){case e:switch(g=g.type,g){case l:case h:case s:case i:case n:case d:return g;default:switch(g=g&&g.$$typeof,g){case c:case u:case b:case v:case o:return g;default:return O}}case t:return O}}}function w(g){return p(g)===h}return te.AsyncMode=l,te.ConcurrentMode=h,te.ContextConsumer=c,te.ContextProvider=o,te.Element=e,te.ForwardRef=u,te.Fragment=s,te.Lazy=b,te.Memo=v,te.Portal=t,te.Profiler=i,te.StrictMode=n,te.Suspense=d,te.isAsyncMode=function(g){return w(g)||p(g)===l},te.isConcurrentMode=w,te.isContextConsumer=function(g){return p(g)===c},te.isContextProvider=function(g){return p(g)===o},te.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},te.isForwardRef=function(g){return p(g)===u},te.isFragment=function(g){return p(g)===s},te.isLazy=function(g){return p(g)===b},te.isMemo=function(g){return p(g)===v},te.isPortal=function(g){return p(g)===t},te.isProfiler=function(g){return p(g)===i},te.isStrictMode=function(g){return p(g)===n},te.isSuspense=function(g){return p(g)===d},te.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===s||g===h||g===i||g===n||g===d||g===f||typeof g=="object"&&g!==null&&(g.$$typeof===b||g.$$typeof===v||g.$$typeof===o||g.$$typeof===c||g.$$typeof===u||g.$$typeof===j||g.$$typeof===y||g.$$typeof===m||g.$$typeof===_)},te.typeOf=p,te}var zn;function uu(){return zn||(zn=1,zr.exports=cu()),zr.exports}var Wr,Wn;function du(){if(Wn)return Wr;Wn=1;var r=uu(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[r.ForwardRef]=s,i[r.Memo]=n;function o(b){return r.isMemo(b)?n:i[b.$$typeof]||e}var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function v(b,_,j){if(typeof _!="string"){if(f){var y=d(_);y&&y!==f&&v(b,y,j)}var m=l(_);h&&(m=m.concat(h(_)));for(var p=o(b),w=o(_),g=0;g<m.length;++g){var O=m[g];if(!t[O]&&!(j&&j[O])&&!(w&&w[O])&&!(p&&p[O])){var C=u(_,O);try{c(b,O,C)}catch{}}}}return b}return Wr=v,Wr}var hu=du();const fu=$t(hu);function ss(){return ss=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},ss.apply(this,arguments)}function mu(r,e){if(r==null)return{};var t={},s=Object.keys(r),n,i;for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}function pu(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var ke={},gu=0;function yu(r,e){return e=e||{},function(s){var n=s.displayName||s.name||"Component",i=function(c){pu(l,c);function l(u,d){var f;return f=c.call(this,u,d)||this,f.state={},f.__scriptURL="",f}var h=l.prototype;return h.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+gu++),this.__scriptLoaderID},h.setupScriptURL=function(){return this.__scriptURL=typeof r=="function"?r():r,this.__scriptURL},h.asyncScriptLoaderHandleLoad=function(d){var f=this;this.setState(d,function(){return f.props.asyncScriptOnLoad&&f.props.asyncScriptOnLoad(f.state)})},h.asyncScriptLoaderTriggerOnScriptLoaded=function(){var d=ke[this.__scriptURL];if(!d||!d.loaded)throw new Error("Script is not loaded.");for(var f in d.observers)d.observers[f](d);delete window[e.callbackName]},h.componentDidMount=function(){var d=this,f=this.setupScriptURL(),v=this.asyncScriptLoaderGetScriptLoaderID(),b=e,_=b.globalName,j=b.callbackName,y=b.scriptId;if(_&&typeof window[_]<"u"&&(ke[f]={loaded:!0,observers:{}}),ke[f]){var m=ke[f];if(m&&(m.loaded||m.errored)){this.asyncScriptLoaderHandleLoad(m);return}m.observers[v]=function(C){return d.asyncScriptLoaderHandleLoad(C)};return}var p={};p[v]=function(C){return d.asyncScriptLoaderHandleLoad(C)},ke[f]={loaded:!1,observers:p};var w=document.createElement("script");w.src=f,w.async=!0;for(var g in e.attributes)w.setAttribute(g,e.attributes[g]);y&&(w.id=y);var O=function($){if(ke[f]){var N=ke[f],V=N.observers;for(var M in V)$(V[M])&&delete V[M]}};j&&typeof window<"u"&&(window[j]=function(){return d.asyncScriptLoaderTriggerOnScriptLoaded()}),w.onload=function(){var C=ke[f];C&&(C.loaded=!0,O(function($){return j?!1:($(C),!0)}))},w.onerror=function(){var C=ke[f];C&&(C.errored=!0,O(function($){return $(C),!0}))},document.body.appendChild(w)},h.componentWillUnmount=function(){var d=this.__scriptURL;if(e.removeOnUnmount===!0)for(var f=document.getElementsByTagName("script"),v=0;v<f.length;v+=1)f[v].src.indexOf(d)>-1&&f[v].parentNode&&f[v].parentNode.removeChild(f[v]);var b=ke[d];b&&(delete b.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete ke[d])},h.render=function(){var d=e.globalName,f=this.props;f.asyncScriptOnLoad;var v=f.forwardedRef,b=mu(f,["asyncScriptOnLoad","forwardedRef"]);return d&&typeof window<"u"&&(b[d]=typeof window[d]<"u"?window[d]:void 0),b.ref=v,T.createElement(s,b)},l}(T.Component),o=T.forwardRef(function(c,l){return T.createElement(i,ss({},c,{forwardedRef:l}))});return o.displayName="AsyncScriptLoader("+n+")",o.propTypes={asyncScriptOnLoad:_e.func},fu(o,s)}}var ns="onloadcallback",vu="grecaptcha";function is(){return typeof window<"u"&&window.recaptchaOptions||{}}function bu(){var r=is(),e=r.useRecaptchaNet?"recaptcha.net":"www.google.com";return r.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+ns+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+ns+"&render=explicit"}const xu=yu(bu,{callbackName:ns,globalName:vu,attributes:is().nonce?{nonce:is().nonce}:{}})(ur),wu=()=>{const[r,e]=T.useState(!1),[t,s]=T.useState(!1),[n,i]=T.useState(null),[o,c]=T.useState(null),{register:l,handleSubmit:h,reset:u,formState:{errors:d}}=Yi(),f=async b=>{if(!n){alert("Veuillez confirmer que vous n'êtes pas un robot");return}e(!0),c(null);try{const{error:_}=await K.from("contact_messages").insert([{name:b.name,email:b.email,subject:b.subject,message:b.message,status:"new"}]);if(_)throw _;s(!0),u(),i(null)}catch(_){c("Une erreur est survenue lors de l'envoi du message. Veuillez réessayer."),console.error("Error submitting message:",_)}finally{e(!1)}},v=b=>{i(b)};return a.jsx("div",{className:"bg-primary-900 rounded-xl p-6 md:p-8",children:t?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-accent-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Message envoyé !"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Merci de nous avoir contacté. Nous vous répondrons dans les plus brefs délais."}),a.jsx("button",{className:"bg-accent-600 hover:bg-accent-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",onClick:()=>s(!1),children:"Envoyer un autre message"})]}):a.jsxs("form",{onSubmit:h(f),className:"space-y-6",children:[o&&a.jsx("div",{className:"bg-red-500/20 text-red-400 p-4 rounded-lg text-sm",children:o}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Nom"}),a.jsx("input",{type:"text",id:"name",className:`w-full px-4 py-2.5 bg-primary-800 border ${d.name?"border-red-500":"border-primary-700"} rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-500 text-white`,placeholder:"Votre nom",...l("name",{required:"Le nom est requis"})}),d.name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"email",className:`w-full px-4 py-2.5 bg-primary-800 border ${d.email?"border-red-500":"border-primary-700"} rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-500 text-white`,placeholder:"votre@email.com",...l("email",{required:"L'email est requis",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Email invalide"}})}),d.email&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-300 mb-1",children:"Sujet"}),a.jsx("input",{type:"text",id:"subject",className:`w-full px-4 py-2.5 bg-primary-800 border ${d.subject?"border-red-500":"border-primary-700"} rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-500 text-white`,placeholder:"Sujet de votre message",...l("subject",{required:"Le sujet est requis"})}),d.subject&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.subject.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:"Message"}),a.jsx("textarea",{id:"message",rows:5,className:`w-full px-4 py-2.5 bg-primary-800 border ${d.message?"border-red-500":"border-primary-700"} rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-500 text-white resize-none`,placeholder:"Votre message",...l("message",{required:"Le message est requis",minLength:{value:10,message:"Le message doit contenir au moins 10 caractères"}})}),d.message&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.message.message})]}),a.jsx("div",{children:a.jsx(xu,{sitekey:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",onChange:v,theme:"dark"})}),a.jsx("button",{type:"submit",disabled:r,className:`w-full py-3 px-4 rounded-lg font-medium transition-all ${r?"bg-accent-700 cursor-not-allowed":"bg-accent-600 hover:bg-accent-700 hover:shadow-[0_0_15px_rgba(185,158,119,0.3)]"} text-white`,children:r?"Envoi en cours...":"Envoyer"})]})})},_u=()=>{const r=e=>{switch(e){case"instagram":return a.jsx(ei,{className:"h-6 w-6"});case"youtube":return a.jsx(ni,{className:"h-6 w-6"});case"music":return a.jsx(ti,{className:"h-6 w-6"});case"video":return a.jsx(cs,{className:"h-6 w-6"});default:return null}};return a.jsx("div",{className:"pt-24 pb-20 bg-black",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-16 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-4 gold-gradient",children:"Contact"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Une question, un projet ou une idée de collaboration ? N'hésitez pas à nous contacter, nous vous répondrons dans les plus brefs délais."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs(H.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-6 gold-gradient",children:"Envoyez-nous un message"}),a.jsx(wu,{})]}),a.jsxs(H.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6},className:"lg:pl-10",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-6 gold-gradient",children:"Informations de contact"}),a.jsx("div",{className:"bg-primary-900 rounded-xl p-6 md:p-8 mb-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Adresse"}),a.jsxs("p",{className:"text-gray-400",children:["32 Rue de la Musique",a.jsx("br",{}),"75011 Paris, France"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Contact"}),a.jsx("p",{className:"text-gray-400 mb-1",children:"contact@blackroadmusic.com"}),a.jsx("p",{className:"text-gray-400",children:"+33 1 23 45 67 89"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Réseaux Sociaux"}),a.jsx("div",{className:"flex flex-wrap gap-4",children:ki.map(e=>a.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"bg-primary-800 p-2.5 rounded-full text-white hover:bg-accent-700 transition-colors","aria-label":e.platform,children:r(e.icon)},e.id))})]})]})}),a.jsx("div",{className:"rounded-xl overflow-hidden h-60 md:h-80 relative",children:a.jsx("iframe",{title:"Black Road Music Location",className:"absolute inset-0 w-full h-full border-0",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.6488531248005!2d2.3785151999999997!3d48.8629861!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66ddb27f321c3%3A0x9fbfa564159de28!2s75011%20Paris%2C%20France!5e0!3m2!1sfr!2sfr!4v1634567890123!5m2!1sfr!2sfr",loading:"lazy",style:{filter:"grayscale(100%) invert(92%) contrast(83%)"}})})]})]})]})})},ju=()=>a.jsx("div",{className:"pt-24 pb-20 bg-black",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"prose prose-invert max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-heading font-bold mb-8 gold-gradient",children:"Politique de Confidentialité"}),a.jsxs("p",{className:"text-gray-300 mb-8",children:["Dernière mise à jour : ",new Date().toLocaleDateString("fr-FR")]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"1. Collecte des Informations"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Black Road Music collecte les informations suivantes lorsque vous utilisez notre site web :"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2",children:[a.jsx("li",{children:"Nom et prénom"}),a.jsx("li",{children:"Adresse e-mail"}),a.jsx("li",{children:"Messages envoyés via le formulaire de contact"}),a.jsx("li",{children:"Données de navigation (cookies)"})]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"2. Utilisation des Informations"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Les informations collectées sont utilisées pour :"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2",children:[a.jsx("li",{children:"Répondre à vos demandes de contact"}),a.jsx("li",{children:"Améliorer notre site web et nos services"}),a.jsx("li",{children:"Vous informer sur nos actualités et offres (avec votre consentement)"}),a.jsx("li",{children:"Assurer la sécurité de notre site"})]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"3. Protection des Données"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Nous mettons en œuvre des mesures de sécurité pour protéger vos informations :"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2",children:[a.jsx("li",{children:"Utilisation du protocole HTTPS"}),a.jsx("li",{children:"Protection contre les attaques par force brute"}),a.jsx("li",{children:"Accès restreint aux données personnelles"}),a.jsx("li",{children:"Mise à jour régulière de nos systèmes de sécurité"})]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"4. Vos Droits"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Conformément au RGPD, vous disposez des droits suivants :"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2",children:[a.jsx("li",{children:"Droit d'accès à vos données"}),a.jsx("li",{children:"Droit de rectification"}),a.jsx("li",{children:"Droit à l'effacement"}),a.jsx("li",{children:"Droit à la limitation du traitement"}),a.jsx("li",{children:"Droit à la portabilité des données"}),a.jsx("li",{children:"Droit d'opposition"})]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"5. Cookies"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Notre site utilise des cookies pour améliorer votre expérience. Vous pouvez les désactiver dans les paramètres de votre navigateur."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"6. Contact"}),a.jsxs("p",{className:"text-gray-300",children:["Pour toute question concernant notre politique de confidentialité, contactez-nous à :",a.jsx("br",{}),"Email : privacy@blackroadmusic.com",a.jsx("br",{}),"Adresse : 32 Rue de la Musique, 75011 Paris, France"]})]})]})})}),Su=()=>a.jsx("div",{className:"pt-24 pb-20 bg-black",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"prose prose-invert max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-heading font-bold mb-8 gold-gradient",children:"Mentions Légales"}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"1. Informations Légales"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Le site blackroadmusic.com est édité par :"}),a.jsxs("div",{className:"text-gray-300 mb-6",children:[a.jsx("p",{children:"Black Road Music SARL"}),a.jsx("p",{children:"32 Rue de la Musique"}),a.jsx("p",{children:"75011 Paris, France"}),a.jsx("p",{children:"SIRET : XX XXX XXX XXXXX"}),a.jsx("p",{children:"Capital social : XX XXX €"}),a.jsx("p",{children:"TVA Intracommunautaire : FR XX XXX XXX XXX"})]}),a.jsxs("p",{className:"text-gray-300",children:["Directeur de la publication : [Votre Nom]",a.jsx("br",{}),"Email : contact@blackroadmusic.com",a.jsx("br",{}),"Téléphone : +33 1 23 45 67 89"]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"2. Hébergement"}),a.jsxs("p",{className:"text-gray-300",children:["Le site est hébergé par :",a.jsx("br",{}),"[Nom de l'hébergeur]",a.jsx("br",{}),"[Adresse de l'hébergeur]",a.jsx("br",{}),"[Contact de l'hébergeur]"]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"3. Propriété Intellectuelle"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"L'ensemble du contenu de ce site (textes, images, vidéos, logos, etc.) est protégé par le droit d'auteur et est la propriété exclusive de Black Road Music SARL."}),a.jsx("p",{className:"text-gray-300",children:"Toute reproduction, représentation, modification, publication, transmission, ou plus généralement toute exploitation non autorisée du site et de son contenu est strictement interdite."})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"4. Données Personnelles"}),a.jsxs("p",{className:"text-gray-300",children:["Les informations concernant la collecte et le traitement des données personnelles sont détaillées dans notre ",a.jsx("a",{href:"/politique-de-confidentialite",className:"text-accent-400 hover:text-accent-300",children:"Politique de Confidentialité"}),"."]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"5. Cookies"}),a.jsxs("p",{className:"text-gray-300",children:["Le site utilise des cookies pour améliorer l'expérience utilisateur. Pour plus d'informations, consultez notre ",a.jsx("a",{href:"/politique-de-confidentialite#cookies",className:"text-accent-400 hover:text-accent-300",children:"Politique de Cookies"}),"."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"6. Droit Applicable"}),a.jsx("p",{className:"text-gray-300",children:"Les présentes mentions légales sont régies par le droit français. En cas de litige, les tribunaux français seront seuls compétents."})]})]})})}),_s=us((r,e)=>({bookings:[],messages:[],isLoading:!1,error:null,pagination:{page:1,pageSize:10,total:0},setPagination:t=>{r(s=>({pagination:{...s.pagination,...t}}))},fetchBookings:async()=>{r({isLoading:!0,error:null});try{const{pagination:t}=e(),s=(t.page-1)*t.pageSize,n=s+t.pageSize-1,{data:i,error:o,count:c}=await K.from("studio_bookings").select("*",{count:"exact"}).order("date",{ascending:!0}).range(s,n);if(o)throw o;r({bookings:i,pagination:{...e().pagination,total:c||0}})}catch(t){r({error:t.message})}finally{r({isLoading:!1})}},fetchMessages:async()=>{r({isLoading:!0,error:null});try{const{pagination:t}=e(),s=(t.page-1)*t.pageSize,n=s+t.pageSize-1,{data:i,error:o,count:c}=await K.from("contact_messages").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(s,n);if(o)throw o;r({messages:i,pagination:{...e().pagination,total:c||0}})}catch(t){r({error:t.message})}finally{r({isLoading:!1})}},updateBookingStatus:async(t,s)=>{try{const{error:n}=await K.from("studio_bookings").update({status:s}).eq("id",t);if(n)throw n;await e().fetchBookings()}catch(n){r({error:n.message})}},deleteBooking:async t=>{try{const{error:s}=await K.from("studio_bookings").delete().eq("id",t);if(s)throw s;await e().fetchBookings()}catch(s){r({error:s.message})}},updateMessageStatus:async(t,s)=>{try{const{error:n}=await K.from("contact_messages").update({status:s}).eq("id",t);if(n)throw n;await e().fetchMessages()}catch(n){r({error:n.message})}},deleteMessage:async t=>{try{const{error:s}=await K.from("contact_messages").delete().eq("id",t);if(s)throw s;await e().fetchMessages()}catch(s){r({error:s.message})}}}));function Oe(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function Ze(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}const Xi=6048e5,ku=864e5;let Pu={};function dr(){return Pu}function It(r,e){var c,l,h,u;const t=dr(),s=(e==null?void 0:e.weekStartsOn)??((l=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(h=t.locale)==null?void 0:h.options)==null?void 0:u.weekStartsOn)??0,n=Oe(r),i=n.getDay(),o=(i<s?7:0)+i-s;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function ir(r){return It(r,{weekStartsOn:1})}function Ki(r){const e=Oe(r),t=e.getFullYear(),s=Ze(r,0);s.setFullYear(t+1,0,4),s.setHours(0,0,0,0);const n=ir(s),i=Ze(r,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const o=ir(i);return e.getTime()>=n.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Hn(r){const e=Oe(r);return e.setHours(0,0,0,0),e}function Jn(r){const e=Oe(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Eu(r,e){const t=Hn(r),s=Hn(e),n=+t-Jn(t),i=+s-Jn(s);return Math.round((n-i)/ku)}function Nu(r){const e=Ki(r),t=Ze(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),ir(t)}function Ou(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Cu(r){if(!Ou(r)&&typeof r!="number")return!1;const e=Oe(r);return!isNaN(Number(e))}function Tu(r){const e=Oe(r),t=Ze(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Au={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ru=(r,e,t)=>{let s;const n=Au[r];return typeof n=="string"?s=n:e===1?s=n.one:s=n.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function gt(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Lu={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Du={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mu={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Iu={date:gt({formats:Lu,defaultWidth:"full"}),time:gt({formats:Du,defaultWidth:"full"}),dateTime:gt({formats:Mu,defaultWidth:"full"})},$u={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fu=(r,e,t,s)=>$u[r];function Ae(r){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let n;if(s==="formatting"&&r.formattingValues){const o=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):o;n=r.formattingValues[c]||r.formattingValues[o]}else{const o=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;n=r.values[c]||r.values[o]}const i=r.argumentCallback?r.argumentCallback(e):e;return n[i]}}const Uu={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qu={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vu={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bu={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zu={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wu={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hu=(r,e)=>{const t=Number(r),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ju={ordinalNumber:Hu,era:Ae({values:Uu,defaultWidth:"wide"}),quarter:Ae({values:qu,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ae({values:Vu,defaultWidth:"wide"}),day:Ae({values:Bu,defaultWidth:"wide"}),dayPeriod:Ae({values:zu,defaultWidth:"wide",formattingValues:Wu,defaultFormattingWidth:"wide"})};function Re(r){return(e,t={})=>{const s=t.width,n=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],i=e.match(n);if(!i)return null;const o=i[0],c=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(c)?Yu(c,d=>d.test(o)):Gu(c,d=>d.test(o));let h;h=r.valueCallback?r.valueCallback(l):l,h=t.valueCallback?t.valueCallback(h):h;const u=e.slice(o.length);return{value:h,rest:u}}}function Gu(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Yu(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Qi(r){return(e,t={})=>{const s=e.match(r.matchPattern);if(!s)return null;const n=s[0],i=e.match(r.parsePattern);if(!i)return null;let o=r.valueCallback?r.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const c=e.slice(n.length);return{value:o,rest:c}}}const Xu=/^(\d+)(th|st|nd|rd)?/i,Ku=/\d+/i,Qu={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zu={any:[/^b/i,/^(a|c)/i]},ed={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},td={any:[/1/i,/2/i,/3/i,/4/i]},rd={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sd={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nd={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},id={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ad={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},od={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ld={ordinalNumber:Qi({matchPattern:Xu,parsePattern:Ku,valueCallback:r=>parseInt(r,10)}),era:Re({matchPatterns:Qu,defaultMatchWidth:"wide",parsePatterns:Zu,defaultParseWidth:"any"}),quarter:Re({matchPatterns:ed,defaultMatchWidth:"wide",parsePatterns:td,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Re({matchPatterns:rd,defaultMatchWidth:"wide",parsePatterns:sd,defaultParseWidth:"any"}),day:Re({matchPatterns:nd,defaultMatchWidth:"wide",parsePatterns:id,defaultParseWidth:"any"}),dayPeriod:Re({matchPatterns:ad,defaultMatchWidth:"any",parsePatterns:od,defaultParseWidth:"any"})},cd={code:"en-US",formatDistance:Ru,formatLong:Iu,formatRelative:Fu,localize:Ju,match:ld,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ud(r){const e=Oe(r);return Eu(e,Tu(e))+1}function dd(r){const e=Oe(r),t=+ir(e)-+Nu(e);return Math.round(t/Xi)+1}function Zi(r,e){var u,d,f,v;const t=Oe(r),s=t.getFullYear(),n=dr(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(f=n.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,o=Ze(r,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const c=It(o,e),l=Ze(r,0);l.setFullYear(s,0,i),l.setHours(0,0,0,0);const h=It(l,e);return t.getTime()>=c.getTime()?s+1:t.getTime()>=h.getTime()?s:s-1}function hd(r,e){var c,l,h,u;const t=dr(),s=(e==null?void 0:e.firstWeekContainsDate)??((l=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(h=t.locale)==null?void 0:h.options)==null?void 0:u.firstWeekContainsDate)??1,n=Zi(r,e),i=Ze(r,0);return i.setFullYear(n,0,s),i.setHours(0,0,0,0),It(i,e)}function fd(r,e){const t=Oe(r),s=+It(t,e)-+hd(t,e);return Math.round(s/Xi)+1}function re(r,e){const t=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return t+s}const $e={y(r,e){const t=r.getFullYear(),s=t>0?t:1-t;return re(e==="yy"?s%100:s,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):re(t+1,2)},d(r,e){return re(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return re(r.getHours()%12||12,e.length)},H(r,e){return re(r.getHours(),e.length)},m(r,e){return re(r.getMinutes(),e.length)},s(r,e){return re(r.getSeconds(),e.length)},S(r,e){const t=e.length,s=r.getMilliseconds(),n=Math.trunc(s*Math.pow(10,t-3));return re(n,e.length)}},ht={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gn={G:function(r,e,t){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const s=r.getFullYear(),n=s>0?s:1-s;return t.ordinalNumber(n,{unit:"year"})}return $e.y(r,e)},Y:function(r,e,t,s){const n=Zi(r,s),i=n>0?n:1-n;if(e==="YY"){const o=i%100;return re(o,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):re(i,e.length)},R:function(r,e){const t=Ki(r);return re(t,e.length)},u:function(r,e){const t=r.getFullYear();return re(t,e.length)},Q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return re(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return re(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,t){const s=r.getMonth();switch(e){case"M":case"MM":return $e.M(r,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,t){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return re(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,t,s){const n=fd(r,s);return e==="wo"?t.ordinalNumber(n,{unit:"week"}):re(n,e.length)},I:function(r,e,t){const s=dd(r);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):re(s,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):$e.d(r,e)},D:function(r,e,t){const s=ud(r);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):re(s,e.length)},E:function(r,e,t){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,t,s){const n=r.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return re(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(n,{width:"short",context:"formatting"});case"eeee":default:return t.day(n,{width:"wide",context:"formatting"})}},c:function(r,e,t,s){const n=r.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return re(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(n,{width:"narrow",context:"standalone"});case"cccccc":return t.day(n,{width:"short",context:"standalone"});case"cccc":default:return t.day(n,{width:"wide",context:"standalone"})}},i:function(r,e,t){const s=r.getDay(),n=s===0?7:s;switch(e){case"i":return String(n);case"ii":return re(n,e.length);case"io":return t.ordinalNumber(n,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,t){const n=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(r,e,t){const s=r.getHours();let n;switch(s===12?n=ht.noon:s===0?n=ht.midnight:n=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(r,e,t){const s=r.getHours();let n;switch(s>=17?n=ht.evening:s>=12?n=ht.afternoon:s>=4?n=ht.morning:n=ht.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return $e.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):$e.H(r,e)},K:function(r,e,t){const s=r.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):re(s,e.length)},k:function(r,e,t){let s=r.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):re(s,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):$e.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):$e.s(r,e)},S:function(r,e){return $e.S(r,e)},X:function(r,e,t){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Xn(s);case"XXXX":case"XX":return Ye(s);case"XXXXX":case"XXX":default:return Ye(s,":")}},x:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"x":return Xn(s);case"xxxx":case"xx":return Ye(s);case"xxxxx":case"xxx":default:return Ye(s,":")}},O:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Yn(s,":");case"OOOO":default:return"GMT"+Ye(s,":")}},z:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Yn(s,":");case"zzzz":default:return"GMT"+Ye(s,":")}},t:function(r,e,t){const s=Math.trunc(r.getTime()/1e3);return re(s,e.length)},T:function(r,e,t){const s=r.getTime();return re(s,e.length)}};function Yn(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),n=Math.trunc(s/60),i=s%60;return i===0?t+String(n):t+String(n)+e+re(i,2)}function Xn(r,e){return r%60===0?(r>0?"-":"+")+re(Math.abs(r)/60,2):Ye(r,e)}function Ye(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),n=re(Math.trunc(s/60),2),i=re(s%60,2);return t+n+e+i}const Kn=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ea=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},md=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],s=t[1],n=t[2];if(!n)return Kn(r,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Kn(s,e)).replace("{{time}}",ea(n,e))},pd={p:ea,P:md},gd=/^D+$/,yd=/^Y+$/,vd=["D","DD","YY","YYYY"];function bd(r){return gd.test(r)}function xd(r){return yd.test(r)}function wd(r,e,t){const s=_d(r,e,t);if(console.warn(s),vd.includes(r))throw new RangeError(s)}function _d(r,e,t){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kd=/^'([^]*?)'?$/,Pd=/''/g,Ed=/[a-zA-Z]/;function js(r,e,t){var u,d,f,v,b,_,j,y;const s=dr(),n=(t==null?void 0:t.locale)??s.locale??cd,i=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(f=s.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((_=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:_.weekStartsOn)??s.weekStartsOn??((y=(j=s.locale)==null?void 0:j.options)==null?void 0:y.weekStartsOn)??0,c=Oe(r);if(!Cu(c))throw new RangeError("Invalid time value");let l=e.match(Sd).map(m=>{const p=m[0];if(p==="p"||p==="P"){const w=pd[p];return w(m,n.formatLong)}return m}).join("").match(jd).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:Nd(m)};if(Gn[p])return{isToken:!0,value:m};if(p.match(Ed))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});n.localize.preprocessor&&(l=n.localize.preprocessor(c,l));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return l.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&xd(p)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&bd(p))&&wd(p,e,String(r));const w=Gn[p[0]];return w(c,p,n.localize,h)}).join("")}function Nd(r){const e=r.match(kd);return e?e[1].replace(Pd,"'"):r}const Od={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},Cd=(r,e,t)=>{let s;const n=Od[r];return typeof n=="string"?s=n:e===1?s=n.one:s=n.other.replace("{{count}}",String(e)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"dans "+s:"il y a "+s:s},Td={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Ad={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Rd={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ld={date:gt({formats:Td,defaultWidth:"full"}),time:gt({formats:Ad,defaultWidth:"full"}),dateTime:gt({formats:Rd,defaultWidth:"full"})},Dd={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},Md=(r,e,t,s)=>Dd[r],Id={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},$d={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Fd={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},Ud={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},qd={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},Vd=(r,e)=>{const t=Number(r),s=e==null?void 0:e.unit;if(t===0)return"0";const n=["year","week","hour","minute","second"];let i;return t===1?i=s&&n.includes(s)?"ère":"er":i="ème",t+i},Bd=["MMM","MMMM"],zd={preprocessor:(r,e)=>r.getDate()===1||!e.some(s=>s.isToken&&Bd.includes(s.value))?e:e.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:Vd,era:Ae({values:Id,defaultWidth:"wide"}),quarter:Ae({values:$d,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ae({values:Fd,defaultWidth:"wide"}),day:Ae({values:Ud,defaultWidth:"wide"}),dayPeriod:Ae({values:qd,defaultWidth:"wide"})},Wd=/^(\d+)(ième|ère|ème|er|e)?/i,Hd=/\d+/i,Jd={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},Gd={any:[/^av/i,/^ap/i]},Yd={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},Xd={any:[/1/i,/2/i,/3/i,/4/i]},Kd={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Qd={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zd={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},eh={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},th={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},rh={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},sh={ordinalNumber:Qi({matchPattern:Wd,parsePattern:Hd,valueCallback:r=>parseInt(r)}),era:Re({matchPatterns:Jd,defaultMatchWidth:"wide",parsePatterns:Gd,defaultParseWidth:"any"}),quarter:Re({matchPatterns:Yd,defaultMatchWidth:"wide",parsePatterns:Xd,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Re({matchPatterns:Kd,defaultMatchWidth:"wide",parsePatterns:Qd,defaultParseWidth:"any"}),day:Re({matchPatterns:Zd,defaultMatchWidth:"wide",parsePatterns:eh,defaultParseWidth:"any"}),dayPeriod:Re({matchPatterns:th,defaultMatchWidth:"any",parsePatterns:rh,defaultParseWidth:"any"})},ta={code:"fr",formatDistance:Cd,formatLong:Ld,formatRelative:Md,localize:zd,match:sh,options:{weekStartsOn:1,firstWeekContainsDate:4}},ra=({currentPage:r,totalPages:e,onPageChange:t})=>{const n=Array.from({length:e},(i,o)=>o+1).slice(Math.max(0,r-2),Math.min(e,r+1));return a.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>t(r-1),disabled:r===1,className:"p-2 rounded-lg bg-primary-800 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-700 transition-colors",children:a.jsx(Na,{className:"h-5 w-5"})}),r>3&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>t(1),className:"px-4 py-2 rounded-lg hover:bg-primary-800 transition-colors",children:"1"}),a.jsx("span",{className:"text-gray-500",children:"..."})]}),n.map(i=>a.jsx("button",{onClick:()=>t(i),className:`px-4 py-2 rounded-lg transition-colors ${r===i?"bg-accent-600 text-white":"hover:bg-primary-800"}`,children:i},i)),r<e-2&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-500",children:"..."}),a.jsx("button",{onClick:()=>t(e),className:"px-4 py-2 rounded-lg hover:bg-primary-800 transition-colors",children:e})]}),a.jsx("button",{onClick:()=>t(r+1),disabled:r===e,className:"p-2 rounded-lg bg-primary-800 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-700 transition-colors",children:a.jsx(Oa,{className:"h-5 w-5"})})]})},ze=({isOpen:r,onClose:e,onConfirm:t,title:s,message:n,confirmText:i="Confirmer",cancelText:o="Annuler",type:c="warning"})=>a.jsx(yr,{appear:!0,show:r,as:T.Fragment,children:a.jsxs(vr,{as:"div",className:"relative z-50",onClose:e,children:[a.jsx(yr.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black/75"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx(yr.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsxs(vr.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-lg bg-primary-900 p-6 text-left align-middle shadow-xl transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:`p-2 rounded-full ${c==="danger"?"bg-red-500/10 text-red-500":"bg-yellow-500/10 text-yellow-500"}`,children:a.jsx(Pa,{className:"h-6 w-6"})}),a.jsx(vr.Title,{as:"h3",className:"text-lg font-medium leading-6 text-white",children:s})]}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-gray-300",children:n})}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{type:"button",className:"inline-flex justify-center rounded-lg px-4 py-2 text-sm font-medium text-gray-300 hover:text-white bg-primary-800 hover:bg-primary-700 transition-colors",onClick:e,children:o}),a.jsx("button",{type:"button",className:`inline-flex justify-center rounded-lg px-4 py-2 text-sm font-medium text-white transition-colors ${c==="danger"?"bg-red-600 hover:bg-red-700":"bg-yellow-600 hover:bg-yellow-700"}`,onClick:()=>{t(),e()},children:i})]})]})})})})]})}),nh=()=>{const{bookings:r,updateBookingStatus:e,deleteBooking:t,isLoading:s,pagination:n,setPagination:i,fetchBookings:o}=_s(),[c,l]=T.useState(!1),[h,u]=T.useState(null),d=j=>{switch(j){case"confirmed":return"bg-green-500/20 text-green-400";case"cancelled":return"bg-red-500/20 text-red-400";default:return"bg-yellow-500/20 text-yellow-400"}},f=j=>{i({page:j}),o()},v=j=>{u(j),l(!0)},b=async()=>{h&&(await t(h),u(null),l(!1))},_=Math.ceil(n.total/n.pageSize);return s?a.jsx("div",{children:"Chargement..."}):a.jsxs("div",{className:"bg-primary-900 rounded-xl p-6",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-primary-700",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Client"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Horaires"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Notes"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Statut"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(j=>a.jsxs("tr",{className:"border-b border-primary-800",children:[a.jsx("td",{className:"py-3 px-4",children:j.client_name}),a.jsx("td",{className:"py-3 px-4",children:js(new Date(j.date),"dd MMMM yyyy",{locale:ta})}),a.jsxs("td",{className:"py-3 px-4",children:[j.start_time," - ",j.end_time]}),a.jsx("td",{className:"py-3 px-4 capitalize",children:j.studio_type}),a.jsx("td",{className:"py-3 px-4",children:j.notes||"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d(j.status)}`,children:j.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:j.status,onChange:y=>e(j.id,y.target.value),className:"bg-primary-800 border border-primary-700 rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"pending",children:"En attente"}),a.jsx("option",{value:"confirmed",children:"Confirmé"}),a.jsx("option",{value:"cancelled",children:"Annulé"})]}),a.jsx("button",{onClick:()=>v(j.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Supprimer",children:a.jsx(Ft,{className:"w-5 h-5"})})]})})]},j.id))})]})}),_>1&&a.jsx(ra,{currentPage:n.page,totalPages:_,onPageChange:f}),a.jsx(ze,{isOpen:c,onClose:()=>l(!1),onConfirm:b,title:"Supprimer la réservation",message:"Êtes-vous sûr de vouloir supprimer cette réservation ? Cette action est irréversible.",confirmText:"Supprimer",cancelText:"Annuler",type:"danger"})]})},ih=()=>{const{messages:r,updateMessageStatus:e,deleteMessage:t,isLoading:s,pagination:n,setPagination:i,fetchMessages:o}=_s(),[c,l]=T.useState(!1),[h,u]=T.useState(null),d=j=>{switch(j){case"replied":return"bg-green-500/20 text-green-400";case"read":return"bg-blue-500/20 text-blue-400";default:return"bg-yellow-500/20 text-yellow-400"}},f=j=>{i({page:j}),o()},v=j=>{u(j),l(!0)},b=async()=>{h&&(await t(h),u(null),l(!1))},_=Math.ceil(n.total/n.pageSize);return s?a.jsx("div",{children:"Chargement..."}):a.jsxs("div",{className:"bg-primary-900 rounded-xl p-6",children:[a.jsx("div",{className:"space-y-6",children:r.map(j=>a.jsxs("div",{className:"bg-primary-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-1",children:j.subject}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["De : ",j.name," (",j.email,")"]}),a.jsx("p",{className:"text-gray-500 text-xs",children:js(new Date(j.created_at),"dd MMMM yyyy à HH:mm",{locale:ta})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("select",{value:j.status,onChange:y=>e(j.id,y.target.value),className:"bg-primary-700 border border-primary-600 rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"new",children:"Nouveau"}),a.jsx("option",{value:"read",children:"Lu"}),a.jsx("option",{value:"replied",children:"Répondu"})]}),a.jsx("button",{onClick:()=>v(j.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Supprimer",children:a.jsx(Ft,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"bg-primary-900 rounded-lg p-4 mb-4",children:a.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:j.message})}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d(j.status)}`,children:j.status==="new"?"Nouveau":j.status==="read"?"Lu":"Répondu"})})]},j.id))}),_>1&&a.jsx(ra,{currentPage:n.page,totalPages:_,onPageChange:f}),a.jsx(ze,{isOpen:c,onClose:()=>l(!1),onConfirm:b,title:"Supprimer le message",message:"Êtes-vous sûr de vouloir supprimer ce message ? Cette action est irréversible.",confirmText:"Supprimer",cancelText:"Annuler",type:"danger"})]})},ah=()=>{const{projects:r,createProject:e,updateProject:t,deleteProject:s,isLoading:n,error:i}=Ie(),[o,c]=T.useState(!1),[l,h]=T.useState(null),[u,d]=T.useState({}),[f,v]=T.useState(null),[b,_]=T.useState(!1),[j,y]=T.useState(null),[m,p]=T.useState(!1),[w,g]=T.useState(null),[O,C]=T.useState(null),$=S=>{if(S.target.files&&S.target.files[0]){const I=S.target.files[0];if(I.size>5*1024*1024){g("L'image ne doit pas dépasser 5MB");return}if(!["image/jpeg","image/png","image/webp"].includes(I.type)){g("Le fichier doit être une image (JPG, PNG ou WebP)");return}v(I),g(null);const Y=new FileReader;Y.onloadend=()=>{C(Y.result)},Y.readAsDataURL(I)}},N=S=>S?/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})$/.test(S):!0,V=async S=>{try{const I=Date.now(),Y=S.name.split(".").pop(),A=`projects/${`${I}-${Math.random().toString(36).substring(2)}.${Y}`}`,{error:U}=await K.storage.from("media").upload(A,S,{cacheControl:"3600",contentType:S.type,upsert:!1});if(U)throw console.error("Upload error:",U),new Error("Erreur lors de l'upload de l'image");const{data:{publicUrl:J}}=K.storage.from("media").getPublicUrl(A);return J}catch(I){throw console.error("Upload error:",I),new Error("Erreur lors de l'upload de l'image")}},M=async S=>{S.preventDefault(),g(null);try{if(!u.title||!u.artist||!u.description||!u.type)throw new Error("Veuillez remplir tous les champs obligatoires");if(u.video_url&&!N(u.video_url))throw new Error("L'URL de la vidéo YouTube n'est pas valide");let I=u.image_url;if(f)I=await V(f);else if(!l&&!I)throw new Error("Une image est requise");l?await t(l,{...u,image_url:I}):await e({...u,image_url:I}),c(!1),h(null),d({}),v(null),g(null),C(null)}catch(I){g(I instanceof Error?I.message:"Une erreur est survenue"),console.error("Error saving project:",I)}},L=S=>{y(S),_(!0)},R=async()=>{j&&(await s(j),y(null))},P=()=>{Object.keys(u).length>0||f?p(!0):(c(!1),h(null),d({}),v(null),g(null),C(null))};return n?a.jsx("div",{children:"Chargement..."}):i?a.jsxs("div",{className:"text-red-500",children:["Erreur: ",i]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold gold-gradient",children:"Gestion des Projets"}),a.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-accent-600 text-white px-4 py-2 rounded-lg hover:bg-accent-700 transition-colors",children:[a.jsx(ls,{className:"w-4 h-4"}),"Nouveau Projet"]})]}),o&&a.jsxs("form",{onSubmit:M,className:"bg-primary-800 p-6 rounded-lg space-y-4",children:[w&&a.jsx("div",{className:"bg-red-500/20 text-red-400 p-4 rounded-lg",children:w}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Titre"}),a.jsx("input",{type:"text",value:u.title||"",onChange:S=>d({...u,title:S.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Artiste"}),a.jsx("input",{type:"text",value:u.artist||"",onChange:S=>d({...u,artist:S.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),a.jsx("textarea",{value:u.description||"",onChange:S=>d({...u,description:S.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",rows:3,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Année"}),a.jsx("input",{type:"number",value:u.year||"",onChange:S=>d({...u,year:parseInt(S.target.value)}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),a.jsxs("select",{value:u.type||"",onChange:S=>d({...u,type:S.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Sélectionner..."}),a.jsx("option",{value:"music",children:"Musique"}),a.jsx("option",{value:"video",children:"Vidéo"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Image"}),(O||u.image_url)&&a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:O||u.image_url,alt:"Prévisualisation",className:"w-40 h-40 object-cover rounded-lg"})}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:$,className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!u.image_url}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Formats acceptés : JPG, PNG, WebP. Taille maximale : 5MB"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"URL Vidéo YouTube (optionnel)"}),a.jsx("input",{type:"url",value:u.video_url||"",onChange:S=>d({...u,video_url:S.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",placeholder:"https://youtube.com/watch?v=..."}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Format accepté : URL YouTube (ex: https://youtube.com/watch?v=XXXXXXXXXXX)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors",children:l?"Mettre à jour":"Créer"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(S=>a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-primary-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"relative h-60",children:[a.jsx("img",{src:S.image_url,alt:S.title,className:"w-full h-full object-cover",onError:I=>{const Y=I.target;Y.src="https://placehold.co/600x400?text=Image+non+disponible"}}),a.jsx("div",{className:"absolute top-3 right-3 z-10",children:a.jsx("span",{className:"bg-accent-600 text-xs font-semibold px-2.5 py-1 rounded-full text-white",children:S.type==="music"?"Musique":"Vidéo"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-bold mb-1 gold-gradient",children:S.title}),a.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:[S.artist," • ",S.year]}),a.jsx("p",{className:"text-gray-300 mb-4",children:S.description}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{h(S.id),d(S),c(!0)},className:"p-2 text-accent-400 hover:text-accent-300 transition-colors",children:a.jsx(os,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>L(S.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Ft,{className:"w-5 h-5"})})]})]})]},S.id))}),a.jsx(ze,{isOpen:b,onClose:()=>_(!1),onConfirm:R,title:"Supprimer le projet",message:"Êtes-vous sûr de vouloir supprimer ce projet ? Cette action est irréversible.",confirmText:"Supprimer",cancelText:"Annuler",type:"danger"}),a.jsx(ze,{isOpen:m,onClose:()=>p(!1),onConfirm:()=>{c(!1),h(null),d({}),v(null),g(null),C(null),p(!1)},title:"Fermer le formulaire",message:"Vous avez des modifications non enregistrées. Êtes-vous sûr de vouloir fermer le formulaire ?",confirmText:"Fermer",cancelText:"Continuer l'édition",type:"warning"})]})},oh=r=>r.size>5*1024*1024?"L'image ne doit pas dépasser 5MB":["image/jpeg","image/png","image/webp"].includes(r.type)?r.name.includes("..")||r.name.includes("/")?"Nom de fichier invalide":null:"Le fichier doit être une image (JPG, PNG ou WebP)",lh=()=>{const{artists:r,createArtist:e,updateArtist:t,deleteArtist:s}=Ie(),[n,i]=T.useState(!1),[o,c]=T.useState(null),[l,h]=T.useState({}),[u,d]=T.useState(null),[f,v]=T.useState(!1),[b,_]=T.useState(null),[j,y]=T.useState(!1),[m,p]=T.useState(null),[w,g]=T.useState(null),[O,C]=T.useState(!1),$=S=>{if(S.target.files&&S.target.files[0]){const I=S.target.files[0],Y=oh(I);if(Y){p(Y);return}d(I),p(null);const W=new FileReader;W.onloadend=()=>{g(W.result)},W.readAsDataURL(I)}},N=async S=>{var I;try{C(!0);const Y=Date.now(),W=Math.random().toString(36).substring(2,15),A=(I=S.name.split(".").pop())==null?void 0:I.toLowerCase(),J=`artists/${`${Y}-${W}.${A}`}`,{error:ee}=await K.storage.from("media").upload(J,S,{cacheControl:"3600",contentType:S.type,upsert:!1});if(ee)throw console.error("Upload error:",ee),new Error("Erreur lors de l'upload de l'image");const{data:{publicUrl:he}}=K.storage.from("media").getPublicUrl(J);return he}catch(Y){throw console.error("Upload error:",Y),new Error("Erreur lors de l'upload de l'image")}finally{C(!1)}},V=async S=>{S.preventDefault(),p(null);try{if(!l.name||!l.description||!l.latest_work||!l.release_date)throw new Error("Veuillez remplir tous les champs obligatoires");let I=l.image_url;if(u)I=await N(u);else if(!o&&!I)throw new Error("Une image est requise");o?await t(o,{...l,image_url:I}):await e({...l,image_url:I}),M()}catch(I){p(I instanceof Error?I.message:"Une erreur est survenue"),console.error("Error saving artist:",I)}},M=()=>{i(!1),c(null),h({}),d(null),g(null),p(null)},L=S=>{_(S),v(!0)},R=async()=>{b&&(await s(b),_(null))},P=()=>{Object.keys(l).length>0||u?y(!0):M()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold gold-gradient",children:"Gestion des Artistes"}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-accent-600 text-white px-4 py-2 rounded-lg hover:bg-accent-700 transition-colors",children:[a.jsx(ls,{className:"w-4 h-4"}),"Nouvel Artiste"]})]}),n&&a.jsxs("form",{onSubmit:V,className:"bg-primary-800 p-6 rounded-lg space-y-4",children:[m&&a.jsx("div",{className:"bg-red-500/20 text-red-400 p-4 rounded-lg",children:m}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nom"}),a.jsx("input",{type:"text",value:l.name||"",onChange:S=>h({...l,name:S.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),a.jsx("textarea",{value:l.description||"",onChange:S=>h({...l,description:S.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",rows:3,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Image"}),(w||l.image_url)&&a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:w||l.image_url,alt:"Prévisualisation",className:"w-40 h-40 object-cover rounded-lg"})}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:$,className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!l.image_url}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Formats acceptés : JPG, PNG, WebP. Taille maximale : 5MB"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Dernier Projet"}),a.jsx("input",{type:"text",value:l.latest_work||"",onChange:S=>h({...l,latest_work:S.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date de Sortie"}),a.jsx("input",{type:"date",value:l.release_date||"",onChange:S=>h({...l,release_date:S.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Lien du profil (optionnel)"}),a.jsx("input",{type:"url",value:l.profile_url||"",onChange:S=>h({...l,profile_url:S.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",placeholder:"https://..."}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"URL vers le profil de l'artiste (site web, réseaux sociaux, etc.)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",disabled:O,children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors",disabled:O,children:O?"Upload en cours...":o?"Mettre à jour":"Créer"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(S=>a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-primary-800 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"relative h-48 bg-primary-900",children:a.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-full object-cover",onError:I=>{const Y=I.target;Y.src="https://placehold.co/600x400?text=Image+non+disponible"},loading:"lazy"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-bold mb-1 gold-gradient",children:S.name}),a.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:["Dernier projet : ",S.latest_work," (",new Date(S.release_date).toLocaleDateString(),")"]}),a.jsx("p",{className:"text-gray-300 mb-4",children:S.description}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{c(S.id),h(S),i(!0)},className:"p-2 text-accent-400 hover:text-accent-300 transition-colors",children:a.jsx(os,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>L(S.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Ft,{className:"w-5 h-5"})})]})]})]},S.id))}),a.jsx(ze,{isOpen:f,onClose:()=>v(!1),onConfirm:R,title:"Supprimer l'artiste",message:"Êtes-vous sûr de vouloir supprimer cet artiste ? Cette action est irréversible.",confirmText:"Supprimer",cancelText:"Annuler",type:"danger"}),a.jsx(ze,{isOpen:j,onClose:()=>y(!1),onConfirm:M,title:"Fermer le formulaire",message:"Vous avez des modifications non enregistrées. Êtes-vous sûr de vouloir fermer le formulaire ?",confirmText:"Fermer",cancelText:"Continuer l'édition",type:"warning"})]})},ch=()=>{var O;const{services:r,createService:e,updateService:t,deleteService:s}=Ie(),[n,i]=T.useState(null),[o,c]=T.useState({features:[]}),[l,h]=T.useState(""),[u,d]=T.useState(!1),[f,v]=T.useState(null),[b,_]=T.useState(!1),j=()=>{l.trim()&&o.features&&(c({...o,features:[...o.features,l.trim()]}),h(""))},y=C=>{o.features&&c({...o,features:o.features.filter(($,N)=>N!==C)})},m=async C=>{C.preventDefault();try{n&&n!=="new"?await t(n,o):await e(o),i(null),c({features:[]})}catch($){console.error("Error saving service:",$)}},p=C=>{v(C),d(!0)},w=async()=>{f&&(await s(f),v(null))},g=()=>{var C;Object.keys(o).length>1||((C=o.features)==null?void 0:C.length)>0?_(!0):(i(null),c({features:[]}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold gold-gradient",children:"Gestion des Services"}),a.jsxs("button",{onClick:()=>i("new"),className:"flex items-center gap-2 bg-accent-600 text-white px-4 py-2 rounded-lg hover:bg-accent-700 transition-colors",children:[a.jsx(ls,{className:"w-4 h-4"}),"Nouveau Service"]})]}),(n==="new"||n)&&a.jsxs("form",{onSubmit:m,className:"bg-primary-800 p-6 rounded-lg space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Titre"}),a.jsx("input",{type:"text",value:o.title||"",onChange:C=>c({...o,title:C.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),a.jsx("textarea",{value:o.description||"",onChange:C=>c({...o,description:C.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",rows:3,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Icône"}),a.jsxs("select",{value:o.icon||"",onChange:C=>c({...o,icon:C.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Sélectionner..."}),a.jsx("option",{value:"music",children:"Musique"}),a.jsx("option",{value:"video",children:"Vidéo"}),a.jsx("option",{value:"mic",children:"Microphone"}),a.jsx("option",{value:"image",children:"Image"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Caractéristiques"}),a.jsxs("div",{className:"space-y-2",children:[(O=o.features)==null?void 0:O.map((C,$)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-grow bg-primary-700 px-3 py-2 rounded-lg",children:C}),a.jsx("button",{type:"button",onClick:()=>y($),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(si,{className:"w-4 h-4"})})]},$)),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l,onChange:C=>h(C.target.value),className:"flex-grow px-3 py-2 bg-primary-700 rounded-lg",placeholder:"Nouvelle caractéristique..."}),a.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors",children:"Ajouter"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors",children:n==="new"?"Créer":"Mettre à jour"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(C=>a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-primary-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:C.title}),a.jsx("p",{className:"text-gray-300 mb-4",children:C.description}),a.jsx("div",{className:"space-y-2 mb-4",children:C.features.map(($,N)=>a.jsx("div",{className:"bg-primary-700 px-3 py-2 rounded-lg text-sm",children:$},N))}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{i(C.id),c(C)},className:"p-2 text-accent-400 hover:text-accent-300 transition-colors",children:a.jsx(os,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>p(C.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Ft,{className:"w-5 h-5"})})]})]},C.id))}),a.jsx(ze,{isOpen:u,onClose:()=>d(!1),onConfirm:w,title:"Supprimer le service",message:"Êtes-vous sûr de vouloir supprimer ce service ? Cette action est irréversible.",confirmText:"Supprimer",cancelText:"Annuler",type:"danger"}),a.jsx(ze,{isOpen:b,onClose:()=>_(!1),onConfirm:()=>{i(null),c({features:[]}),_(!1)},title:"Fermer le formulaire",message:"Vous avez des modifications non enregistrées. Êtes-vous sûr de vouloir fermer le formulaire ?",confirmText:"Fermer",cancelText:"Continuer l'édition",type:"warning"})]})},uh=()=>{const r=ar(),{fetchBookings:e,fetchMessages:t}=_s(),{fetchProjects:s,fetchArtists:n,fetchServices:i}=Ie();return T.useEffect(()=>{e(),t(),s(),n(),i()},[]),r.pathname==="/backstage"?a.jsx(Zt,{to:"/backstage/bookings",replace:!0}):a.jsx("div",{className:"pt-24 pb-20 bg-black min-h-screen",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-4xl font-heading font-bold mb-8 gold-gradient",children:"Dashboard Administrateur"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[a.jsx(ie,{to:"/backstage/bookings",className:`px-4 py-2 rounded-lg transition-colors ${r.pathname==="/backstage/bookings"?"bg-accent-600 text-white":"bg-primary-800 text-gray-300 hover:bg-primary-700"}`,children:"Réservations"}),a.jsx(ie,{to:"/backstage/messages",className:`px-4 py-2 rounded-lg transition-colors ${r.pathname==="/backstage/messages"?"bg-accent-600 text-white":"bg-primary-800 text-gray-300 hover:bg-primary-700"}`,children:"Messages"}),a.jsx(ie,{to:"/backstage/projects",className:`px-4 py-2 rounded-lg transition-colors ${r.pathname==="/backstage/projects"?"bg-accent-600 text-white":"bg-primary-800 text-gray-300 hover:bg-primary-700"}`,children:"Projets"}),a.jsx(ie,{to:"/backstage/artists",className:`px-4 py-2 rounded-lg transition-colors ${r.pathname==="/backstage/artists"?"bg-accent-600 text-white":"bg-primary-800 text-gray-300 hover:bg-primary-700"}`,children:"Artistes"}),a.jsx(ie,{to:"/backstage/services",className:`px-4 py-2 rounded-lg transition-colors ${r.pathname==="/backstage/services"?"bg-accent-600 text-white":"bg-primary-800 text-gray-300 hover:bg-primary-700"}`,children:"Services"})]}),a.jsxs(Zn,{children:[a.jsx(be,{path:"/bookings",element:a.jsx(nh,{})}),a.jsx(be,{path:"/messages",element:a.jsx(ih,{})}),a.jsx(be,{path:"/projects",element:a.jsx(ah,{})}),a.jsx(be,{path:"/artists",element:a.jsx(lh,{})}),a.jsx(be,{path:"/services",element:a.jsx(ch,{})}),a.jsx(be,{path:"*",element:a.jsx(Zt,{to:"/backstage/bookings",replace:!0})})]})]})})})},dh=()=>{const[r,e]=T.useState(!1),[t,s]=T.useState(!1),[n,i]=T.useState(null),{register:o,handleSubmit:c,formState:{errors:l},reset:h}=Yi(),u=async d=>{e(!0),i(null);try{const{error:f}=await K.from("studio_bookings").insert([{...d,status:"pending"}]);if(f)throw f.code==="23514"?new Error("L'heure de fin doit être après l'heure de début."):f;s(!0),h()}catch(f){const v=f instanceof Error?f.message:"Une erreur est survenue lors de la réservation.";i(v),console.error("Error booking studio:",f)}finally{e(!1)}};return a.jsx("div",{className:"pt-24 pb-20 bg-black",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-2xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-heading font-bold mb-6 gold-gradient",children:"Réserver le Studio"}),t?a.jsxs("div",{className:"bg-primary-900 rounded-xl p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Réservation Envoyée !"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"Nous avons bien reçu votre demande de réservation. Notre équipe la traitera dans les plus brefs délais."}),a.jsx("button",{onClick:()=>s(!1),className:"bg-accent-600 hover:bg-accent-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Nouvelle réservation"})]}):a.jsxs("form",{onSubmit:c(u),className:"space-y-6",children:[n&&a.jsx("div",{className:"bg-red-500/20 text-red-400 p-4 rounded-lg",children:n}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",placeholder:"Nom du client ou de l'artiste",...o("client_name",{required:"Le nom du client est requis"})}),l.client_name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.client_name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),a.jsx("input",{type:"date",min:js(new Date,"yyyy-MM-dd"),className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",...o("date",{required:"La date est requise"})}),l.date&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.date.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Heure de début"}),a.jsx("input",{type:"time",className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",...o("start_time",{required:"L'heure de début est requise"})}),l.start_time&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.start_time.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Heure de fin"}),a.jsx("input",{type:"time",className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",...o("end_time",{required:"L'heure de fin est requise"})}),l.end_time&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.end_time.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Type de session"}),a.jsxs("select",{className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",...o("studio_type",{required:"Le type de session est requis"}),children:[a.jsx("option",{value:"recording",children:"Enregistrement"}),a.jsx("option",{value:"mixing",children:"Mixage"}),a.jsx("option",{value:"mastering",children:"Mastering"}),a.jsx("option",{value:"composition",children:"Composition"})]}),l.studio_type&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.studio_type.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes supplémentaires"}),a.jsx("textarea",{rows:4,className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white resize-none",placeholder:"Détails sur votre projet, besoins spécifiques...",...o("notes")})]}),a.jsx("button",{type:"submit",disabled:r,className:`w-full py-3 px-4 rounded-lg font-medium transition-all ${r?"bg-accent-700 cursor-not-allowed":"bg-accent-600 hover:bg-accent-700"} text-white`,children:r?"Envoi en cours...":"Réserver"})]})]})})})},hh=()=>{var f;const[r,e]=T.useState(""),[t,s]=T.useState(""),{signIn:n,isAuthenticated:i,isAdmin:o,isLoading:c,error:l}=qt(),h=as(),u=ar(),d=async v=>{var b;v.preventDefault();try{await n(r,t);const _=((b=u.state)==null?void 0:b.from)||"/backstage/bookings";h(_,{replace:!0})}catch{}};if(i&&o){const v=((f=u.state)==null?void 0:f.from)||"/backstage/bookings";return a.jsx(Zt,{to:v,replace:!0})}return a.jsx("div",{className:"pt-24 pb-20 bg-black min-h-screen",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-accent-600/10 mb-4",children:a.jsx(Ta,{className:"w-8 h-8 text-accent-400"})}),a.jsx("h1",{className:"text-4xl font-heading font-bold mb-4 gold-gradient",children:"Espace Administration"}),a.jsx("p",{className:"text-gray-400",children:"Accédez à votre espace de gestion sécurisé"})]}),a.jsxs("form",{onSubmit:d,className:"bg-primary-900 rounded-xl p-8 space-y-6",children:[l&&a.jsx("div",{className:"bg-red-500/20 text-red-400 p-4 rounded-lg",children:l}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:r,onChange:v=>e(v.target.value),className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Mot de passe"}),a.jsx("input",{type:"password",value:t,onChange:v=>s(v.target.value),className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",required:!0})]}),a.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-lg font-medium transition-all ${c?"bg-accent-700 cursor-not-allowed":"bg-accent-600 hover:bg-accent-700"} text-white`,children:c?"Connexion...":"Se connecter"})]})]})})})},fh=({children:r})=>{const{isAuthenticated:e,isAdmin:t,isLoading:s}=qt(),n=as(),i=ar();return T.useEffect(()=>{!s&&!e&&n("/backstage/login",{state:{from:i.pathname}})},[e,s,i]),s?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsx("div",{className:"text-accent-400",children:"Chargement..."})}):!e||!t?a.jsx(Zt,{to:"/backstage/login",state:{from:i.pathname},replace:!0}):a.jsx(a.Fragment,{children:r})};function mh(){const{checkAuth:r}=qt();return T.useEffect(()=>{r()},[]),a.jsx(nc,{children:a.jsxs(Zn,{children:[a.jsx(be,{path:"/",element:a.jsx(Lc,{})}),a.jsx(be,{path:"/projets",element:a.jsx(Dc,{})}),a.jsx(be,{path:"/services",element:a.jsx(Ic,{})}),a.jsx(be,{path:"/contact",element:a.jsx(_u,{})}),a.jsx(be,{path:"/politique-de-confidentialite",element:a.jsx(ju,{})}),a.jsx(be,{path:"/mentions-legales",element:a.jsx(Su,{})}),a.jsx(be,{path:"/reserver",element:a.jsx(dh,{})}),a.jsx(be,{path:"/backstage/login",element:a.jsx(hh,{})}),a.jsx(be,{path:"/backstage/*",element:a.jsx(fh,{children:a.jsx(uh,{})})})]})})}class ph extends T.Component{constructor(){super(...arguments);Ts(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4 gold-gradient",children:"Une erreur est survenue"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Nous nous excusons pour la gêne occasionnée. Veuillez rafraîchir la page ou réessayer plus tard."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-accent-600 hover:bg-accent-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Rafraîchir la page"})]})}):this.props.children}}if(!K)throw new Error("Failed to initialize Supabase client");ja.createRoot(document.getElementById("root")).render(a.jsx(T.StrictMode,{children:a.jsx(ph,{children:a.jsx(fa,{children:a.jsx(mh,{})})})}));export{ce as _,bc as a,lr as r};
//# sourceMappingURL=index-EIT5iHtc.js.map
