const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-LxTLCSUG.js","assets/react-vendor-ChOEzWKD.js","assets/YouTube-CaFiUxuN.js","assets/SoundCloud-C3DtR5R8.js","assets/Vimeo-QBrm0Bjn.js","assets/Mux-CpaHb3Gy.js","assets/Facebook-g-_o90Pz.js","assets/Streamable-B6VyDntB.js","assets/Wistia-D4TBVpue.js","assets/Twitch-BG-ar_4O.js","assets/DailyMotion-f-xH112t.js","assets/Mixcloud-CRlOp__r.js","assets/Vidyard-DgccTbAM.js","assets/Kaltura-Bv2mvxTn.js","assets/FilePlayer-C1d6-yeb.js","assets/Preview-BCX1E_iV.js"])))=>i.map(i=>d[i]);
import{r as E,a as _o,g as mr,R as X,b as ai,c as Ee,u as oi,L as se,d as li,f as Ce,h as ci,N as ui,B as jo}from"./react-vendor-ChOEzWKD.js";import{q as Nt,A as It,m as M,e as So,c as Eo,a as me,b as Po,d as un,f as ko,g as Jr,h as No,S as Oo,i as Yr,_ as Gr}from"./ui-vendor-BzXLinS9.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var di={exports:{}},pr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Co=E,To=Symbol.for("react.element"),Ao=Symbol.for("react.fragment"),Ro=Object.prototype.hasOwnProperty,Lo=Co.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$o={key:!0,ref:!0,__self:!0,__source:!0};function hi(t,e,r){var s,n={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Ro.call(e,s)&&!$o.hasOwnProperty(s)&&(n[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)n[s]===void 0&&(n[s]=e[s]);return{$$typeof:To,type:t,key:i,ref:o,props:n,_owner:Lo.current}}pr.Fragment=Ao;pr.jsx=hi;pr.jsxs=hi;di.exports=pr;var a=di.exports,fi,dn=_o;fi=dn.createRoot,dn.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Do={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(t,e)=>{const r=E.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>E.createElement("svg",{ref:u,...Do,width:n,height:n,stroke:s,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Io(t)}`,l].join(" "),...d},[...e.map(([h,f])=>E.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=oe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=oe("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=oe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=oe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=oe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=oe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=oe("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=oe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Go={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpvdWNsZWJvam5tc2VjcG1kdHRoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMDk1MTksImV4cCI6MjA2MjU4NTUxOX0.ZtriNf7xDswUWCNQUen575DuKaMRtUnEcVW940RLx0Q",VITE_SUPABASE_URL:"https://zouclebojnmsecpmdtth.supabase.co"},fn=t=>{let e;const r=new Set,s=(u,h)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const v=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(g=>g(e,v))}},n=()=>e,c={setState:s,getState:n,getInitialState:()=>d,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(Go?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=e=t(s,n,c);return c},Xo=t=>t?fn(t):fn;var bi={exports:{}},xi={},wi={exports:{}},_i={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jt=E;function Ko(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qo=typeof Object.is=="function"?Object.is:Ko,Zo=jt.useState,el=jt.useEffect,tl=jt.useLayoutEffect,rl=jt.useDebugValue;function sl(t,e){var r=e(),s=Zo({inst:{value:r,getSnapshot:e}}),n=s[0].inst,i=s[1];return tl(function(){n.value=r,n.getSnapshot=e,Xr(n)&&i({inst:n})},[t,r,e]),el(function(){return Xr(n)&&i({inst:n}),t(function(){Xr(n)&&i({inst:n})})},[t]),rl(r),r}function Xr(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qo(t,r)}catch{return!0}}function nl(t,e){return e()}var il=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nl:sl;_i.useSyncExternalStore=jt.useSyncExternalStore!==void 0?jt.useSyncExternalStore:il;wi.exports=_i;var al=wi.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=E,ol=al;function ll(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cl=typeof Object.is=="function"?Object.is:ll,ul=ol.useSyncExternalStore,dl=gr.useRef,hl=gr.useEffect,fl=gr.useMemo,ml=gr.useDebugValue;xi.useSyncExternalStoreWithSelector=function(t,e,r,s,n){var i=dl(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=fl(function(){function c(v){if(!d){if(d=!0,u=v,v=s(v),n!==void 0&&o.hasValue){var g=o.value;if(n(g,v))return h=g}return h=v}if(g=h,cl(u,v))return g;var x=s(v);return n!==void 0&&n(g,x)?(u=v,g):(u=v,h=x)}var d=!1,u,h,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,s,n]);var l=ul(t,i[0],i[1]);return hl(function(){o.hasValue=!0,o.value=l},[l]),ml(l),l};bi.exports=xi;var pl=bi.exports;const gl=mr(pl),ji={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpvdWNsZWJvam5tc2VjcG1kdHRoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMDk1MTksImV4cCI6MjA2MjU4NTUxOX0.ZtriNf7xDswUWCNQUen575DuKaMRtUnEcVW940RLx0Q",VITE_SUPABASE_URL:"https://zouclebojnmsecpmdtth.supabase.co"},{useDebugValue:yl}=X,{useSyncExternalStoreWithSelector:vl}=gl;let mn=!1;const bl=t=>t;function xl(t,e=bl,r){(ji?"production":void 0)!=="production"&&r&&!mn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),mn=!0);const s=vl(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return yl(s),s}const pn=t=>{(ji?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Xo(t):t,r=(s,n)=>xl(e,s,n);return Object.assign(r,e),r},Ns=t=>t?pn(t):pn,wl="modulepreload",_l=function(t){return"/"+t},gn={},ce=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=_l(c),c in gn)return;gn[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":wl,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},jl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ce(async()=>{const{default:s}=await Promise.resolve().then(()=>Pt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class Os extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Sl extends Os{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class El extends Os{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pl extends Os{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var os;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(os||(os={}));var kl=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class Nl{constructor(e,{headers:r={},customFetch:s,region:n=os.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=jl(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var s;return kl(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:d}).catch(g=>{throw new Sl(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new El(u);if(!u.ok)throw new Pl(u);let f=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield u.json():f==="application/octet-stream"?v=yield u.blob():f==="text/event-stream"?v=u:f==="multipart/form-data"?v=yield u.formData():v=yield u.text(),{data:v,error:null}}catch(n){return{data:null,error:n}}})}}var Te={},Cs={},yr={},Yt={},vr={},br={},Ol=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},St=Ol();const Cl=St.fetch,Si=St.fetch.bind(St),Ei=St.Headers,Tl=St.Request,Al=St.Response,Pt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ei,Request:Tl,Response:Al,default:Si,fetch:Cl},Symbol.toStringTag,{value:"Module"})),Rl=ai(Pt);var xr={};Object.defineProperty(xr,"__esModule",{value:!0});let Ll=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xr.default=Ll;var Pi=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(br,"__esModule",{value:!0});const $l=Pi(Rl),Dl=Pi(xr);let Il=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$l.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=j:u=JSON.parse(j))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(u=[],d=null,f=200,v="OK")}catch{i.status===404&&x===""?(f=204,v="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,v="OK"),d&&this.shouldThrowOnError)throw new Dl.default(d)}return{error:d,data:u,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,r)}returns(){return this}overrideTypes(){return this}};br.default=Il;var Ml=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vr,"__esModule",{value:!0});const Fl=Ml(br);let Ul=class extends Fl.default{select(e){let r=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!r?"":(n==='"'&&(r=!r),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vr.default=Ul;var Vl=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yt,"__esModule",{value:!0});const ql=Vl(vr);let Bl=class extends ql.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const s=Array.from(new Set(r)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(e,r,s){return this.url.searchParams.append(e,`not.${r}.${s}`),this}or(e,{foreignTable:r,referencedTable:s=r}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,r,s){return this.url.searchParams.append(e,`${r}.${s}`),this}};Yt.default=Bl;var zl=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yr,"__esModule",{value:!0});const Ot=zl(Yt);let Wl=class{constructor(e,{headers:r={},schema:s,fetch:n}){this.url=e,this.headers=r,this.schema=s,this.fetch=n}select(e,{head:r=!1,count:s}={}){const n=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Ot.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:s=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ot.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ot.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new Ot.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Ot.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};yr.default=Wl;var wr={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.version=void 0;_r.version="0.0.0-automated";Object.defineProperty(wr,"__esModule",{value:!0});wr.DEFAULT_HEADERS=void 0;const Hl=_r;wr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Hl.version}`};var ki=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cs,"__esModule",{value:!0});const Jl=ki(yr),Yl=ki(Yt),Gl=wr;let Xl=class Ni{constructor(e,{headers:r={},schema:s,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Gl.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=n}from(e){const r=new URL(`${this.url}/${e}`);return new Jl.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ni(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:s=!1,get:n=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;s||n?(o=s?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new Yl.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Cs.default=Xl;var kt=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const Oi=kt(Cs);Te.PostgrestClient=Oi.default;const Ci=kt(yr);Te.PostgrestQueryBuilder=Ci.default;const Ti=kt(Yt);Te.PostgrestFilterBuilder=Ti.default;const Ai=kt(vr);Te.PostgrestTransformBuilder=Ai.default;const Ri=kt(br);Te.PostgrestBuilder=Ri.default;const Li=kt(xr);Te.PostgrestError=Li.default;var Kl=Te.default={PostgrestClient:Oi.default,PostgrestQueryBuilder:Ci.default,PostgrestFilterBuilder:Ti.default,PostgrestTransformBuilder:Ai.default,PostgrestBuilder:Ri.default,PostgrestError:Li.default};const{PostgrestClient:Ql,PostgrestQueryBuilder:yg,PostgrestFilterBuilder:vg,PostgrestTransformBuilder:bg,PostgrestBuilder:xg,PostgrestError:wg}=Kl,Zl="2.11.2",ec={"X-Client-Info":`realtime-js/${Zl}`},tc="1.0.0",$i=1e4,rc=1e3;var xt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xt||(xt={}));var Re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Re||(Re={}));var De;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(De||(De={}));var ls;(function(t){t.websocket="websocket"})(ls||(ls={}));var at;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(at||(at={}));class sc{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(e.slice(o,o+n));o=o+n;const c=s.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class Di{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(te||(te={}));const yn=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=nc(o,t,e,n),i),{})},nc=(t,e,r,s)=>{const n=e.find(l=>l.name===t),i=n==null?void 0:n.type,o=r[t];return i&&!s.includes(i)?Ii(i,o):cs(o)},Ii=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return lc(e,r)}switch(t){case te.bool:return ic(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return ac(e);case te.json:case te.jsonb:return oc(e);case te.timestamp:return cc(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return cs(e);default:return cs(e)}},cs=t=>t,ic=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ac=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},oc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lc=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Ii(e,l))}return t},cc=t=>typeof t=="string"?t.replace(" ","T"):t,Mi=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Kr{constructor(e,r,s={},n=$i){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vn;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vn||(vn={}));class Mt{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mt.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=Mt.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Mt.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(w=>w.presence_ref),v=h.map(w=>w.presence_ref),g=u.filter(w=>v.indexOf(w.presence_ref)<0),x=h.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(l[d]=g),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(v=>v.presence_ref),f=u.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}s(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,n(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bn;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bn||(bn={}));var xn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xn||(xn={}));var He;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(He||(He={}));class Ts{constructor(e,r={config:{}},s){this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kr(this,De.join,this.params,this.timeout),this.rejoinTimer=new Di(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(De.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Mt(this),this.broadcastEndpointURL=Mi(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>e==null?void 0:e(He.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(He.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&n!==void 0?n:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(He.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let x=0;x<v;x++){const w=f[x],{filter:{event:j,schema:p,table:y,filter:S}}=w,k=u&&u[x];if(k&&k.event===j&&k.schema===p&&k.table===y&&k.filter===S)g.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),e==null||e(He.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(He.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(He.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(He.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this._on(e,r,s)}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(De.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const n=new Kr(this,De.leave,{},e);n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Kr(this,e,r,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=De;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(v=>{var g,x,w;return((g=v.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(x=v.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(v=>v.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var g,x,w,j,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const S=v.id,k=(g=v.filter)===null||g===void 0?void 0:g.event;return S&&((x=r.ids)===null||x===void 0?void 0:x.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(p=(j=v==null?void 0:v.filter)===null||j===void 0?void 0:j.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return S==="*"||S===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:x,table:w,commit_timestamp:j,type:p,errors:y}=g;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:j,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(g))}v.callback(f,s)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ts.isEqual(n.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(De.close,{},e)}_onError(e){this._on(De.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=yn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=yn(e.columns,e.old_record)),r}}const uc=()=>{},dc=typeof WebSocket<"u",hc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fc{constructor(e,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ec,this.params={},this.timeout=$i,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=uc,this.conn=null,this.sendBuffer=[],this.serializer=new sc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ce(async()=>{const{default:c}=await Promise.resolve().then(()=>Pt);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${ls.websocket}`,this.httpEndpoint=Mi(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const n=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Di(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(dc){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new mc(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ce(async()=>{const{default:e}=await import("./browser-LxTLCSUG.js").then(r=>r.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tc}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case xt.connecting:return at.Connecting;case xt.open:return at.Open;case xt.closing:return at.Closing;default:return at.Closed}}isConnected(){return this.connectionState()===at.Open}channel(e,r={config:{}}){const s=new Ts(`realtime:${e}`,r,this);return this.channels.push(s),s}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let s=null;try{s=JSON.parse(atob(r.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r}),n.joinedOnce&&n._isJoined()&&n._push(De.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(rc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:s,event:n,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(s)).forEach(l=>l._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(De.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([hc],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class mc{constructor(e,r,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class As extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class pc extends As{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class us extends As{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var gc=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Fi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ce(async()=>{const{default:s}=await Promise.resolve().then(()=>Pt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},yc=()=>gc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ce(()=>Promise.resolve().then(()=>Pt),void 0)).Response:Response}),ds=t=>{if(Array.isArray(t))return t.map(r=>ds(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=ds(s)}),e};var ut=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Qr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vc=(t,e,r)=>ut(void 0,void 0,void 0,function*(){const s=yield yc();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{e(new pc(Qr(n),t.status||500))}).catch(n=>{e(new us(Qr(n),n))}):e(new us(Qr(t),t))}),bc=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),r))};function Gt(t,e,r,s,n,i){return ut(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,bc(e,s,n,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>vc(c,l,s))})})}function lr(t,e,r,s){return ut(this,void 0,void 0,function*(){return Gt(t,"GET",e,r,s)})}function Qe(t,e,r,s,n){return ut(this,void 0,void 0,function*(){return Gt(t,"POST",e,s,n,r)})}function xc(t,e,r,s,n){return ut(this,void 0,void 0,function*(){return Gt(t,"PUT",e,s,n,r)})}function wc(t,e,r,s){return ut(this,void 0,void 0,function*(){return Gt(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Ui(t,e,r,s,n){return ut(this,void 0,void 0,function*(){return Gt(t,"DELETE",e,s,n,r)})}var ke=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const _c={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jc{constructor(e,r={},s,n){this.url=e,this.headers=r,this.bucketId=s,this.fetch=Fi(n)}uploadOrUpdate(e,r,s,n){return ke(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wn),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}upload(e,r,s){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:wn.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(fe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield Qe(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new As("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}update(e,r,s){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return ke(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}copy(e,r,s){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Qe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Qe(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return ke(this,void 0,void 0,function*(){try{const n=yield Qe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}download(e,r){return ke(this,void 0,void 0,function*(){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield lr(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(fe(l))return{data:null,error:l};throw l}})}info(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield lr(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ds(s),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}exists(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield wc(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(fe(s)&&s instanceof us){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}list(e,r,s){return ke(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},_c),r),{prefix:e||""});return{data:yield Qe(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Sc="2.7.1",Ec={"X-Client-Info":`storage-js/${Sc}`};var dt=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class Pc{constructor(e,r={},s){this.url=e,this.headers=Object.assign(Object.assign({},Ec),r),this.fetch=Fi(s)}listBuckets(){return dt(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(fe(e))return{data:null,error:e};throw e}})}getBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return dt(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return dt(this,void 0,void 0,function*(){try{return{data:yield xc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}emptyBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}}class kc extends Pc{constructor(e,r={},s){super(e,r,s)}from(e){return new jc(this.url,this.headers,e,this.fetch)}}const Nc="2.49.4";let $t="";typeof Deno<"u"?$t="deno":typeof document<"u"?$t="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$t="react-native":$t="node";const Oc={"X-Client-Info":`supabase-js-${$t}/${Nc}`},Cc={headers:Oc},Tc={schema:"public"},Ac={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rc={};var Lc=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const $c=t=>{let e;return t?e=t:typeof fetch>"u"?e=Si:e=fetch,(...r)=>e(...r)},Dc=()=>typeof Headers>"u"?Ei:Headers,Ic=(t,e,r)=>{const s=$c(r),n=Dc();return(i,o)=>Lc(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new n(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var Mc=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};function Fc(t){return t.replace(/\/$/,"")}function Uc(t,e){const{db:r,auth:s,realtime:n,global:i}=t,{db:o,auth:l,realtime:c,global:d}=e,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},c),n),global:Object.assign(Object.assign({},d),i),accessToken:()=>Mc(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Vi="2.69.1",vt=30*1e3,hs=3,Zr=hs*vt,Vc="http://localhost:9999",qc="supabase.auth.token",Bc={"X-Client-Info":`gotrue-js/${Vi}`},fs="X-Supabase-Api-Version",qi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zc=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wc=6e5;class Rs extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Hc extends Rs{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Jc(t){return z(t)&&t.name==="AuthApiError"}class Bi extends Rs{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class rt extends Rs{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class Xe extends rt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yc(t){return z(t)&&t.name==="AuthSessionMissingError"}class es extends rt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tr extends rt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class rr extends rt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gc(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class _n extends rt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ms extends rt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ts(t){return z(t)&&t.name==="AuthRetryableFetchError"}class jn extends rt{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Ft extends rt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),En=` 	
\r=`.split(""),Xc=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<En.length;e+=1)t[En[e].charCodeAt(0)]=-2;for(let e=0;e<Sn.length;e+=1)t[Sn[e].charCodeAt(0)]=e;return t})();function zi(t,e,r){const s=Xc[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Pn(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Zc(o,s,r)};for(let o=0;o<t.length;o+=1)zi(t.charCodeAt(o),n,i);return e.join("")}function Kc(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Qc(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Kc(s,e)}}function Zc(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function eu(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)zi(t.charCodeAt(n),r,s);return new Uint8Array(e)}function tu(t){const e=[];return Qc(t,r=>e.push(r)),new Uint8Array(e)}function ru(t){return Math.round(Date.now()/1e3)+t}function su(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ue=()=>typeof window<"u"&&typeof document<"u",st={tested:!1,writable:!1},Ut=()=>{if(!Ue())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(st.tested)return st.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),st.tested=!0,st.writable=!0}catch{st.tested=!0,st.writable=!1}return st.writable};function nu(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const Wi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ce(async()=>{const{default:s}=await Promise.resolve().then(()=>Pt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},iu=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Hi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},sr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nr=async(t,e)=>{await t.removeItem(e)};class jr{constructor(){this.promise=new jr.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}jr.promiseConstructor=Promise;function rs(t){const e=t.split(".");if(e.length!==3)throw new Ft("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!zc.test(e[s]))throw new Ft("JWT not in base64url format");return{header:JSON.parse(Pn(e[0])),payload:JSON.parse(Pn(e[1])),signature:eu(e[2]),raw:{header:e[0],payload:e[1]}}}async function au(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ou(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function lu(t){return("0"+t.toString(16)).substr(-2)}function cu(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,lu).join("")}async function uu(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function du(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await uu(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ht(t,e,r=!1){const s=cu();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Hi(t,`${e}-code-verifier`,n);const i=await du(s);return[i,s===i?"plain":"s256"]}const hu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fu(t){const e=t.headers.get(fs);if(!e||!e.match(hu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mu(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pu(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var gu=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};const nt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yu=[502,503,504];async function kn(t){var e;if(!iu(t))throw new ms(nt(t),0);if(yu.includes(t.status))throw new ms(nt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Bi(nt(i),i)}let s;const n=fu(t);if(n&&n.getTime()>=qi["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new jn(nt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Xe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new jn(nt(r),t.status,r.weak_password.reasons);throw new Hc(nt(r),t.status||500,s)}const vu=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function H(t,e,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[fs]||(i[fs]=qi["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await bu(t,e,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function bu(t,e,r,s,n,i){const o=vu(e,s,n,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new ms(nt(c),0)}if(l.ok||await kn(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await kn(c)}}function Ke(t){var e;let r=null;ju(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ru(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Nn(t){const e=Ke(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ze(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xu(t){return{data:t,error:null}}function wu(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=gu(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function _u(t){return t}function ju(t){return t.access_token&&t.refresh_token&&t.expires_in}var Su=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};class Eu{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Wi(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ze})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Su(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:wu,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ze})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:_u});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(z(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ze})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ze})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ze})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:r,error:s}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}const Pu={getItem:t=>Ut()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ut()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ut()&&globalThis.localStorage.removeItem(t)}};function On(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function ku(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ft={debug:!!(globalThis&&Ut()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ji extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nu extends Ji{}async function Ou(t,e,r){ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ft.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Nu(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ft.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}ku();const Cu={url:Vc,storageKey:qc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cn(t,e,r){return await r()}class zt{constructor(e){var r,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zt.nextInstanceID,zt.nextInstanceID+=1,this.instanceID>0&&Ue()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Cu),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Eu({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Wi(n.fetch),this.lock=n.lock||Cn,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ue()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ou:this.lock=Cn,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ut()?this.storage=Pu:(this.memoryStorage={},this.storage=On(this.memoryStorage)):(this.memoryStorage={},this.storage=On(this.memoryStorage)),Ue()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vi}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=nu(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),Ue()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Gc(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new Bi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ke}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let v=null,g=null;this.flowType==="pkce"&&([v,g]=await ht(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:g},xform:Ke})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ke})}else throw new tr("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Nn})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Nn})}else throw new tr("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new es}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await sr(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Ke});if(await nr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new es}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,l=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ke}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new es}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await ht(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new tr("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ke});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ht(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:xu})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Xe;const{error:n}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await H(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:l}=await H(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new tr("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Zr:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ze}):await this._useSession(async r=>{var s,n,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xe}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ze})})}catch(r){if(z(r))return Yc(r)&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Xe;const o=n.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await ht(this.storage,this.storageKey));const{data:d,error:u}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ze});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xe;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=rs(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Xe;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ue())throw new rr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new rr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _n("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _n("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new rr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const v=f-u;v*1e3<=vt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const j={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(s){if(z(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Jc(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=su(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await ht(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Ue()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(z(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await ou(async n=>(n>0&&await au(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ke})),(n,i)=>{const o=200*Math.pow(2,n);return i&&ts(i)&&Date.now()+o-s<vt})}catch(s){if(this._debug(r,"error",s),z(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Ue()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await sr(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const n=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Zr;if(this._debug(r,`session has${n?"":" not"} expired with margin of ${Zr}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ts(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Xe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new jr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Xe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),z(i)){const o={session:null,error:i};return ts(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Hi(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await nr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ue()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/vt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${vt}ms, refresh threshold is ${hs} ticks`),n<=hs&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ji)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ue()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await ht(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await H(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(e==null?void 0:e.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rs(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(o=>o.kid===e);if(s||(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+Wc>Date.now()))return s;const{data:n,error:i}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Ft("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),s=n.keys.find(o=>o.kid===e),!s)throw new Ft("No matching signing key found in JWKS");return s}async getClaims(e,r={keys:[]}){try{let s=e;if(!s){const{data:v,error:g}=await this.getSession();if(g||!v.session)return{data:null,error:g};s=v.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:c}}=rs(s);if(mu(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(s);if(v)throw v;return{data:{claims:i,header:n,signature:o},error:null}}const d=pu(n.alg),u=await this.fetchJwk(n.kid,r),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,tu(`${l}.${c}`)))throw new Ft("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}}zt.nextInstanceID=0;const Tu=zt;class Au extends Tu{constructor(e){super(e)}}var Ru=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class Lu{constructor(e,r,s){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Fc(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:Tc,realtime:Rc,auth:Object.assign(Object.assign({},Ac),{storageKey:c}),global:Cc},u=Uc(s??{},d);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Ic(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ql(`${l}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Nl(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kc(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Ru(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Au({url:this.authUrl,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fc(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $u=(t,e,r)=>new Lu(t,e,r),Du="https://zouclebojnmsecpmdtth.supabase.co",Iu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpvdWNsZWJvam5tc2VjcG1kdHRoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMDk1MTksImV4cCI6MjA2MjU4NTUxOX0.ZtriNf7xDswUWCNQUen575DuKaMRtUnEcVW940RLx0Q",Y=$u(Du,Iu,{auth:{persistSession:!0,detectSessionInUrl:!0,autoRefreshToken:!0,storage:window.localStorage},global:{headers:{"X-Client-Info":"black-road-music@0.1.0","X-Client-Env":"production"}}}),Sr=Ns(t=>({isAuthenticated:!1,isAdmin:!1,isLoading:!0,error:null,signIn:async(e,r)=>{var s;t({isLoading:!0,error:null});try{const{data:{user:n},error:i}=await Y.auth.signInWithPassword({email:e,password:r});if(i)throw i;if(!n)throw new Error("No user returned after sign in");if(!(((s=n.app_metadata)==null?void 0:s.role)==="admin"))throw await Y.auth.signOut(),new Error("Accès non autorisé. Seuls les administrateurs peuvent se connecter.");t({isAuthenticated:!0,isAdmin:!0})}catch(n){throw t({error:n.message,isAuthenticated:!1,isAdmin:!1}),n}finally{t({isLoading:!1})}},signOut:async()=>{t({isLoading:!0,error:null});try{const{error:e}=await Y.auth.signOut();if(e)throw e;t({isAuthenticated:!1,isAdmin:!1})}catch(e){t({error:e.message})}finally{t({isLoading:!1})}},checkAuth:async()=>{var e;t({isLoading:!0,error:null});try{const{data:{session:r}}=await Y.auth.getSession();if(!r){t({isAuthenticated:!1,isAdmin:!1});return}const s=((e=r.user.app_metadata)==null?void 0:e.role)==="admin";t({isAuthenticated:!!r,isAdmin:s})}catch(r){t({error:r.message,isAuthenticated:!1,isAdmin:!1})}finally{t({isLoading:!1})}}})),Mu=()=>{const[t,e]=E.useState(!1),[r,s]=E.useState(!1),[n,i]=E.useState(!1),o=oi(),{isAuthenticated:l,isAdmin:c}=Sr(),d=()=>{e(!t),document.body.classList.toggle("mobile-menu-open")};E.useEffect(()=>{const g=()=>{const x=window.scrollY;s(x>50)};return window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g),document.body.classList.remove("mobile-menu-open")}},[]),E.useEffect(()=>{e(!1),i(!1),document.body.classList.remove("mobile-menu-open")},[o]);const u=[{name:"Accueil",path:"/"},{name:"Projets",path:"/projets"}],h={closed:{opacity:0,transition:{duration:.2}},open:{opacity:1,transition:{duration:.2}}},f={closed:{transition:{staggerChildren:.05,staggerDirection:-1}},open:{transition:{staggerChildren:.05,delayChildren:.1}}},v={closed:{opacity:0,x:-20},open:{opacity:1,x:0}};return a.jsx("header",{className:`fixed w-full z-40 transition-all duration-300 ${r||t?"bg-black/90 backdrop-blur-sm py-3 shadow-md":"bg-transparent py-5"}`,children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(se,{to:"/",className:"flex items-center z-50",children:a.jsx("span",{className:"text-2xl md:text-3xl font-heading font-bold gold-gradient",children:"BlackRoadMusic"})}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[a.jsxs("div",{className:"flex items-center space-x-8",children:[u.map(g=>a.jsx(se,{to:g.path,className:`link-underline font-medium transition-colors ${o.pathname===g.path?"text-accent-400":"text-white hover:text-accent-400"}`,children:g.name},g.name)),a.jsx(Nt,{as:"div",className:"relative",children:({open:g})=>a.jsxs(a.Fragment,{children:[a.jsxs(Nt.Button,{className:"flex items-center space-x-1 font-medium text-white hover:text-accent-400 transition-colors",children:[a.jsx("span",{children:"Services"}),a.jsx(hn,{className:`h-4 w-4 transition-transform duration-200 ${g?"rotate-180":""}`})]}),a.jsxs(Nt.Items,{className:"absolute right-0 mt-2 w-56 bg-black/90 backdrop-blur-sm rounded-lg shadow-lg py-2 focus:outline-none",children:[a.jsx(Nt.Item,{children:({active:x})=>a.jsx(se,{to:"/services",className:`block px-4 py-2 text-sm ${x?"bg-accent-600/10 text-accent-400":"text-white"}`,children:"Nos services"})}),a.jsx(Nt.Item,{children:({active:x})=>a.jsx(se,{to:"/reserver",className:`block px-4 py-2 text-sm ${x?"bg-accent-600/10 text-accent-400":"text-white"}`,children:"Réserver"})})]})]})}),a.jsx(se,{to:"/contact",className:`link-underline font-medium transition-colors ${o.pathname==="/contact"?"text-accent-400":"text-white hover:text-accent-400"}`,children:"Contact"})]}),l&&c&&a.jsx(se,{to:"/admin",className:`font-medium transition-colors ${o.pathname.startsWith("/admin")?"text-accent-400":"text-white hover:text-accent-400"}`,children:"Admin"})]}),a.jsx("button",{className:"md:hidden flex items-center text-white p-2 z-50",onClick:d,"aria-label":"Toggle menu",children:a.jsx(It,{mode:"wait",children:t?a.jsx(M.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:a.jsx(yi,{className:"h-6 w-6 text-accent-400"})},"close"):a.jsx(M.div,{initial:{opacity:0,rotate:90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:-90},transition:{duration:.2},children:a.jsx(Bo,{className:"h-6 w-6"})},"menu")})})]}),a.jsx(It,{children:t&&a.jsx(M.div,{initial:"closed",animate:"open",exit:"closed",variants:h,className:"mobile-menu md:hidden",children:a.jsxs(M.nav,{variants:f,className:"flex flex-col py-6",children:[u.map(g=>a.jsx(M.div,{variants:v,children:a.jsx(se,{to:g.path,className:`mobile-menu-item ${o.pathname===g.path?"text-accent-400":"text-white hover:text-accent-400"}`,children:g.name})},g.name)),a.jsxs(M.div,{variants:v,children:[a.jsxs("button",{onClick:()=>i(!n),className:"mobile-menu-item text-left flex items-center justify-between w-full",children:[a.jsx("span",{children:"Services"}),a.jsx(hn,{className:`h-4 w-4 transition-transform duration-200 ${n?"rotate-180":""}`})]}),a.jsx(It,{children:n&&a.jsxs(M.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden bg-primary-900/50",children:[a.jsx(se,{to:"/services",className:"mobile-menu-subitem",children:"Nos services"}),a.jsx(se,{to:"/reserver",className:"mobile-menu-subitem",children:"Réserver"})]})})]}),a.jsx(M.div,{variants:v,children:a.jsx(se,{to:"/contact",className:`mobile-menu-item ${o.pathname==="/contact"?"text-accent-400":"text-white hover:text-accent-400"}`,children:"Contact"})}),l&&c&&a.jsx(M.div,{variants:v,children:a.jsx(se,{to:"/admin",className:`mobile-menu-item ${o.pathname.startsWith("/admin")?"text-accent-400":"text-white hover:text-accent-400"}`,children:"Admin"})})]})})})]})})},Yi=[{id:1,platform:"Instagram",url:"https://instagram.com/blackroadmusic",icon:"instagram"},{id:2,platform:"YouTube",url:"https://youtube.com/blackroadmusic",icon:"youtube"},{id:3,platform:"Spotify",url:"https://open.spotify.com/artist/blackroadmusic",icon:"music"},{id:4,platform:"TikTok",url:"https://tiktok.com/@blackroadmusic",icon:"video"}],Fu=()=>{const t=new Date().getFullYear(),e=r=>{switch(r){case"instagram":return a.jsx(mi,{className:"h-5 w-5"});case"youtube":return a.jsx(vi,{className:"h-5 w-5"});case"music":return a.jsx(pi,{className:"h-5 w-5"});case"video":return a.jsx(ks,{className:"h-5 w-5"});default:return null}};return a.jsx("footer",{className:"bg-primary-950 pt-12 pb-6",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-2xl font-heading font-bold gold-gradient mb-4",children:"BlackRoadMusic"}),a.jsx("p",{className:"text-gray-400 max-w-md",children:"Label de production musicale et visuelle spécialisé dans les musiques urbaines et l'accompagnement artistique complet."})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-semibold mb-4",children:"Navigation"}),a.jsx("ul",{className:"space-y-2",children:[{name:"Accueil",path:"/"},{name:"Projets",path:"/projets"},{name:"Services",path:"/services"},{name:"Contact",path:"/contact"}].map(r=>a.jsx("li",{children:a.jsx(se,{to:r.path,className:"text-gray-400 hover:text-accent-400 transition-colors",children:r.name})},r.name))})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-semibold mb-4",children:"Suivez-nous"}),a.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:Yi.map(r=>a.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"bg-primary-800 p-2.5 rounded-full text-white hover:bg-accent-700 transition-colors","aria-label":r.platform,children:e(r.icon)},r.id))}),a.jsx("p",{className:"text-gray-400",children:"Email: contact@blackroadmusic.com"})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-semibold mb-4",children:"Informations Légales"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(se,{to:"/mentions-legales",className:"text-gray-400 hover:text-accent-400 transition-colors",children:"Mentions légales"})}),a.jsx("li",{children:a.jsx(se,{to:"/politique-de-confidentialite",className:"text-gray-400 hover:text-accent-400 transition-colors",children:"Politique de confidentialité"})})]})]})]}),a.jsx("div",{className:"mt-10 pt-6 border-t border-primary-800",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("p",{className:"text-gray-500 text-sm text-center md:text-left",children:["© ",t," Black Road Music. Tous droits réservés."]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-500",children:[a.jsx(se,{to:"/mentions-legales",className:"hover:text-accent-400 transition-colors",children:"Mentions légales"}),a.jsx(se,{to:"/politique-de-confidentialite",className:"hover:text-accent-400 transition-colors",children:"Politique de confidentialité"})]})]})})]})})},Uu=({children:t})=>{const[e,r]=E.useState(!0);return E.useEffect(()=>{const s=setTimeout(()=>{r(!1)},1200);return()=>clearTimeout(s)},[]),a.jsx("div",{className:"flex flex-col min-h-screen",children:a.jsx(It,{children:e?a.jsx(M.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 z-50 flex items-center justify-center bg-black",children:a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-4xl md:text-6xl gold-gradient font-heading font-bold",children:"Black Road Music"})},"loader"):a.jsxs(a.Fragment,{children:[a.jsx(Mu,{}),a.jsx("main",{className:"flex-grow",children:a.jsx(It,{mode:"wait",children:a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:t},"page")})}),a.jsx(Fu,{})]})})})},Je=Ns((t,e)=>({projects:[],artists:[],services:[],isLoading:!1,error:null,fetchProjects:async()=>{t({isLoading:!0,error:null});try{const{data:r,error:s}=await Y.from("projects").select("*").order("created_at",{ascending:!1});if(s)throw s;t({projects:r||[]})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},fetchArtists:async()=>{t({isLoading:!0,error:null});try{const{data:r,error:s}=await Y.from("artists").select("*").order("created_at",{ascending:!1});if(s)throw s;t({artists:r||[]})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},fetchServices:async()=>{t({isLoading:!0,error:null});try{const{data:r,error:s}=await Y.from("services").select("*").order("created_at",{ascending:!1});if(s)throw s;const{data:n,error:i}=await Y.from("service_features").select("*");if(i)throw i;const o=(r||[]).map(l=>({...l,features:(n||[]).filter(c=>c.service_id===l.id).map(c=>c.feature)}));t({services:o})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},createProject:async r=>{t({isLoading:!0,error:null});try{const{error:s}=await Y.from("projects").insert([r]).select().single();if(s)throw s;await e().fetchProjects()}catch(s){t({error:s.message})}finally{t({isLoading:!1})}},updateProject:async(r,s)=>{t({isLoading:!0,error:null});try{const{error:n}=await Y.from("projects").update(s).eq("id",r).select().single();if(n)throw n;await e().fetchProjects()}catch(n){t({error:n.message})}finally{t({isLoading:!1})}},deleteProject:async r=>{t({isLoading:!0,error:null});try{const{error:s}=await Y.from("projects").delete().eq("id",r);if(s)throw s;await e().fetchProjects()}catch(s){t({error:s.message})}finally{t({isLoading:!1})}},createArtist:async r=>{try{const{error:s}=await Y.from("artists").insert([r]);if(s)throw s;await e().fetchArtists()}catch(s){t({error:s.message})}},updateArtist:async(r,s)=>{try{const{error:n}=await Y.from("artists").update(s).eq("id",r);if(n)throw n;await e().fetchArtists()}catch(n){t({error:n.message})}},deleteArtist:async r=>{try{const{error:s}=await Y.from("artists").delete().eq("id",r);if(s)throw s;await e().fetchArtists()}catch(s){t({error:s.message})}},createService:async r=>{try{const{data:s,error:n}=await Y.from("services").insert([{title:r.title,description:r.description,icon:r.icon}]).select().single();if(n)throw n;if(r.features&&r.features.length>0){const i=r.features.map(l=>({service_id:s.id,feature:l})),{error:o}=await Y.from("service_features").insert(i);if(o)throw o}await e().fetchServices()}catch(s){t({error:s.message})}},updateService:async(r,s)=>{try{const{error:n}=await Y.from("services").update({title:s.title,description:s.description,icon:s.icon}).eq("id",r);if(n)throw n;if(s.features){const{error:i}=await Y.from("service_features").delete().eq("service_id",r);if(i)throw i;const o=s.features.map(c=>({service_id:r,feature:c})),{error:l}=await Y.from("service_features").insert(o);if(l)throw l}await e().fetchServices()}catch(n){t({error:n.message})}},deleteService:async r=>{try{const{error:s}=await Y.from("services").delete().eq("id",r);if(s)throw s;await e().fetchServices()}catch(s){t({error:s.message})}}})),Vu=()=>{const t=E.useRef(null),e=E.useRef(null);return E.useEffect(()=>{const r=()=>{if(!t.current||!e.current)return;const s=window.scrollY,n=Math.max(1-s/700,0),i=s*.4;e.current.style.opacity=n.toString(),e.current.style.transform=`translateY(${i}px)`};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]),a.jsxs("div",{ref:t,className:"relative h-screen flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black z-0",style:{backgroundImage:"url(https://images.pexels.com/photos/167092/pexels-photo-167092.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2)",backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.4)"}}),a.jsxs("div",{ref:e,className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:[a.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},children:a.jsx("h1",{className:"text-4xl md:text-6xl xl:text-7xl font-heading font-bold mb-6 text-shadow",children:a.jsx("span",{className:"gold-gradient",children:"Black Road Music"})})}),a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1},children:a.jsx("p",{className:"text-xl md:text-2xl font-light mb-8 text-gray-200 text-shadow max-w-3xl mx-auto",children:"Label de production spécialisé dans les musiques urbaines et l'accompagnement artistique complet"})}),a.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[a.jsx(M.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"/projets",className:"bg-gradient-to-r from-accent-700 to-accent-500 text-white font-medium py-3 px-8 rounded-full shadow-lg transition-all hover:shadow-[0_0_15px_rgba(185,158,119,0.5)] w-full sm:w-auto text-center",children:"Découvrir nos projets"}),a.jsx(M.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"/contact",className:"bg-transparent border-2 border-accent-500 text-white font-medium py-3 px-8 rounded-full transition-all hover:bg-accent-500/10 w-full sm:w-auto text-center",children:"Nous contacter"})]})]}),a.jsx("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 z-10 animate-bounce",children:a.jsx("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent-400",children:a.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})};function Gi(t,e,r,s){return t.params.createElements&&Object.keys(s).forEach(n=>{if(!r[n]&&r.auto===!0){let i=So(t.el,`.${s[n]}`)[0];i||(i=Eo("div",s[n]),i.className=s[n],t.el.append(i)),r[n]=i,e[n]=i}}),r}function qu(t){let{swiper:e,extendParams:r,on:s,emit:n}=t;r({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let x;return g&&typeof g=="string"&&e.isElement&&(x=e.el.querySelector(g)||e.hostEl.querySelector(g),x)?x:(g&&(typeof g=="string"&&(x=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&x&&x.length>1&&e.el.querySelectorAll(g).length===1?x=e.el.querySelector(g):x&&x.length===1&&(x=x[0])),g&&!x?g:x)}function o(g,x){const w=e.params.navigation;g=me(g),g.forEach(j=>{j&&(j.classList[x?"add":"remove"](...w.disabledClass.split(" ")),j.tagName==="BUTTON"&&(j.disabled=x),e.params.watchOverflow&&e.enabled&&j.classList[e.isLocked?"add":"remove"](w.lockClass))})}function l(){const{nextEl:g,prevEl:x}=e.navigation;if(e.params.loop){o(x,!1),o(g,!1);return}o(x,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function c(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function d(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=Gi(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let x=i(g.nextEl),w=i(g.prevEl);Object.assign(e.navigation,{nextEl:x,prevEl:w}),x=me(x),w=me(w);const j=(p,y)=>{p&&p.addEventListener("click",y==="next"?d:c),!e.enabled&&p&&p.classList.add(...g.lockClass.split(" "))};x.forEach(p=>j(p,"next")),w.forEach(p=>j(p,"prev"))}function h(){let{nextEl:g,prevEl:x}=e.navigation;g=me(g),x=me(x);const w=(j,p)=>{j.removeEventListener("click",p==="next"?d:c),j.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(j=>w(j,"next")),x.forEach(j=>w(j,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?v():(u(),l())}),s("toEdge fromEdge lock unlock",()=>{l()}),s("destroy",()=>{h()}),s("enable disable",()=>{let{nextEl:g,prevEl:x}=e.navigation;if(g=me(g),x=me(x),e.enabled){l();return}[...g,...x].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),s("click",(g,x)=>{let{nextEl:w,prevEl:j}=e.navigation;w=me(w),j=me(j);const p=x.target;let y=j.includes(p)||w.includes(p);if(e.isElement&&!y){const S=x.path||x.composedPath&&x.composedPath();S&&(y=S.find(k=>w.includes(k)||j.includes(k)))}if(e.params.navigation.hideOnClick&&!y){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===p||e.pagination.el.contains(p)))return;let S;w.length?S=w[0].classList.contains(e.params.navigation.hiddenClass):j.length&&(S=j[0].classList.contains(e.params.navigation.hiddenClass)),n(S===!0?"navigationShow":"navigationHide"),[...w,...j].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),l()},v=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:v,update:l,init:u,destroy:h})}function Ct(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Bu(t){let{swiper:e,extendParams:r,on:s,emit:n}=t;const i="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:p=>p,formatFractionTotal:p=>p,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(p,y){const{bulletActiveClass:S}=e.params.pagination;p&&(p=p[`${y==="prev"?"previous":"next"}ElementSibling`],p&&(p.classList.add(`${S}-${y}`),p=p[`${y==="prev"?"previous":"next"}ElementSibling`],p&&p.classList.add(`${S}-${y}-${y}`)))}function u(p,y,S){if(p=p%S,y=y%S,y===p+1)return"next";if(y===p-1)return"previous"}function h(p){const y=p.target.closest(Ct(e.params.pagination.bulletClass));if(!y)return;p.preventDefault();const S=un(y)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const k=u(e.realIndex,S,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function f(){const p=e.rtl,y=e.params.pagination;if(c())return;let S=e.pagination.el;S=me(S);let k,F;const T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,q=e.params.loop?Math.ceil(T/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(F=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,F=e.previousSnapIndex):(F=e.previousIndex||0,k=e.activeIndex||0),y.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const N=e.pagination.bullets;let W,B,I;if(y.dynamicBullets&&(o=Po(N[0],e.isHorizontal()?"width":"height"),S.forEach(R=>{R.style[e.isHorizontal()?"width":"height"]=`${o*(y.dynamicMainBullets+4)}px`}),y.dynamicMainBullets>1&&F!==void 0&&(l+=k-(F||0),l>y.dynamicMainBullets-1?l=y.dynamicMainBullets-1:l<0&&(l=0)),W=Math.max(k-l,0),B=W+(Math.min(N.length,y.dynamicMainBullets)-1),I=(B+W)/2),N.forEach(R=>{const U=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(P=>`${y.bulletActiveClass}${P}`)].map(P=>typeof P=="string"&&P.includes(" ")?P.split(" "):P).flat();R.classList.remove(...U)}),S.length>1)N.forEach(R=>{const U=un(R);U===k?R.classList.add(...y.bulletActiveClass.split(" ")):e.isElement&&R.setAttribute("part","bullet"),y.dynamicBullets&&(U>=W&&U<=B&&R.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),U===W&&d(R,"prev"),U===B&&d(R,"next"))});else{const R=N[k];if(R&&R.classList.add(...y.bulletActiveClass.split(" ")),e.isElement&&N.forEach((U,P)=>{U.setAttribute("part",P===k?"bullet-active":"bullet")}),y.dynamicBullets){const U=N[W],P=N[B];for(let L=W;L<=B;L+=1)N[L]&&N[L].classList.add(...`${y.bulletActiveClass}-main`.split(" "));d(U,"prev"),d(P,"next")}}if(y.dynamicBullets){const R=Math.min(N.length,y.dynamicMainBullets+4),U=(o*R-o)/2-I*o,P=p?"right":"left";N.forEach(L=>{L.style[e.isHorizontal()?P:"top"]=`${U}px`})}}S.forEach((N,W)=>{if(y.type==="fraction"&&(N.querySelectorAll(Ct(y.currentClass)).forEach(B=>{B.textContent=y.formatFractionCurrent(k+1)}),N.querySelectorAll(Ct(y.totalClass)).forEach(B=>{B.textContent=y.formatFractionTotal(q)})),y.type==="progressbar"){let B;y.progressbarOpposite?B=e.isHorizontal()?"vertical":"horizontal":B=e.isHorizontal()?"horizontal":"vertical";const I=(k+1)/q;let R=1,U=1;B==="horizontal"?R=I:U=I,N.querySelectorAll(Ct(y.progressbarFillClass)).forEach(P=>{P.style.transform=`translate3d(0,0,0) scaleX(${R}) scaleY(${U})`,P.style.transitionDuration=`${e.params.speed}ms`})}y.type==="custom"&&y.renderCustom?(N.innerHTML=y.renderCustom(e,k+1,q),W===0&&n("paginationRender",N)):(W===0&&n("paginationRender",N),n("paginationUpdate",N)),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](y.lockClass)})}function v(){const p=e.params.pagination;if(c())return;const y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=me(S);let k="";if(p.type==="bullets"){let F=e.params.loop?Math.ceil(y/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&F>y&&(F=y);for(let T=0;T<F;T+=1)p.renderBullet?k+=p.renderBullet.call(e,T,p.bulletClass):k+=`<${p.bulletElement} ${e.isElement?'part="bullet"':""} class="${p.bulletClass}"></${p.bulletElement}>`}p.type==="fraction"&&(p.renderFraction?k=p.renderFraction.call(e,p.currentClass,p.totalClass):k=`<span class="${p.currentClass}"></span> / <span class="${p.totalClass}"></span>`),p.type==="progressbar"&&(p.renderProgressbar?k=p.renderProgressbar.call(e,p.progressbarFillClass):k=`<span class="${p.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(F=>{p.type!=="custom"&&(F.innerHTML=k||""),p.type==="bullets"&&e.pagination.bullets.push(...F.querySelectorAll(Ct(p.bulletClass)))}),p.type!=="custom"&&n("paginationRender",S[0])}function g(){e.params.pagination=Gi(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const p=e.params.pagination;if(!p.el)return;let y;typeof p.el=="string"&&e.isElement&&(y=e.el.querySelector(p.el)),!y&&typeof p.el=="string"&&(y=[...document.querySelectorAll(p.el)]),y||(y=p.el),!(!y||y.length===0)&&(e.params.uniqueNavElements&&typeof p.el=="string"&&Array.isArray(y)&&y.length>1&&(y=[...e.el.querySelectorAll(p.el)],y.length>1&&(y=y.find(S=>ko(S,".swiper")[0]===e.el))),Array.isArray(y)&&y.length===1&&(y=y[0]),Object.assign(e.pagination,{el:y}),y=me(y),y.forEach(S=>{p.type==="bullets"&&p.clickable&&S.classList.add(...(p.clickableClass||"").split(" ")),S.classList.add(p.modifierClass+p.type),S.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.type==="bullets"&&p.dynamicBullets&&(S.classList.add(`${p.modifierClass}${p.type}-dynamic`),l=0,p.dynamicMainBullets<1&&(p.dynamicMainBullets=1)),p.type==="progressbar"&&p.progressbarOpposite&&S.classList.add(p.progressbarOppositeClass),p.clickable&&S.addEventListener("click",h),e.enabled||S.classList.add(p.lockClass)}))}function x(){const p=e.params.pagination;if(c())return;let y=e.pagination.el;y&&(y=me(y),y.forEach(S=>{S.classList.remove(p.hiddenClass),S.classList.remove(p.modifierClass+p.type),S.classList.remove(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.clickable&&(S.classList.remove(...(p.clickableClass||"").split(" ")),S.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...p.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const p=e.params.pagination;let{el:y}=e.pagination;y=me(y),y.forEach(S=>{S.classList.remove(p.horizontalClass,p.verticalClass),S.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?j():(g(),v(),f())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),s("snapIndexChange",()=>{f()}),s("snapGridLengthChange",()=>{v(),f()}),s("destroy",()=>{x()}),s("enable disable",()=>{let{el:p}=e.pagination;p&&(p=me(p),p.forEach(y=>y.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{f()}),s("click",(p,y)=>{const S=y.target,k=me(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const F=k[0].classList.contains(e.params.pagination.hiddenClass);n(F===!0?"paginationShow":"paginationHide"),k.forEach(T=>T.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=me(p),p.forEach(y=>y.classList.remove(e.params.pagination.paginationDisabledClass))),g(),v(),f()},j=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=me(p),p.forEach(y=>y.classList.add(e.params.pagination.paginationDisabledClass))),x()};Object.assign(e.pagination,{enable:w,disable:j,render:v,update:f,init:g,destroy:x})}function zu(t){let{swiper:e,extendParams:r,on:s,emit:n,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,c=i&&i.autoplay?i.autoplay.delay:3e3,d=i&&i.autoplay?i.autoplay.delay:3e3,u,h=new Date().getTime(),f,v,g,x,w,j,p;function y(V){!e||e.destroyed||!e.wrapperEl||V.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",y),!(p||V.detail&&V.detail.bySwiperTouchMove)&&W())}const S=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(d=u,f=!1);const V=e.autoplay.paused?u:h+d-new Date().getTime();e.autoplay.timeLeft=V,n("autoplayTimeLeft",V,V/c),l=requestAnimationFrame(()=>{S()})},k=()=>{let V;return e.virtual&&e.params.virtual.enabled?V=e.slides.find(Q=>Q.classList.contains("swiper-slide-active")):V=e.slides[e.activeIndex],V?parseInt(V.getAttribute("data-swiper-autoplay"),10):void 0},F=V=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),S();let J=typeof V>"u"?e.params.autoplay.delay:V;c=e.params.autoplay.delay,d=e.params.autoplay.delay;const Q=k();!Number.isNaN(Q)&&Q>0&&typeof V>"u"&&(J=Q,c=Q,d=Q),u=J;const Pe=e.params.speed,Ye=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Pe,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Pe,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Pe,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Pe,!0,!0),n("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{F()})))};return J>0?(clearTimeout(o),o=setTimeout(()=>{Ye()},J)):requestAnimationFrame(()=>{Ye()}),J},T=()=>{h=new Date().getTime(),e.autoplay.running=!0,F(),n("autoplayStart")},q=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),n("autoplayStop")},N=(V,J)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),V||(j=!0);const Q=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",y):W()};if(e.autoplay.paused=!0,J){w&&(u=e.params.autoplay.delay),w=!1,Q();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),Q())},W=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),j?(j=!1,F(u)):F(),e.autoplay.paused=!1,n("autoplayResume"))},B=()=>{if(e.destroyed||!e.autoplay.running)return;const V=Jr();V.visibilityState==="hidden"&&(j=!0,N(!0)),V.visibilityState==="visible"&&W()},I=V=>{V.pointerType==="mouse"&&(j=!0,p=!0,!(e.animating||e.autoplay.paused)&&N(!0))},R=V=>{V.pointerType==="mouse"&&(p=!1,e.autoplay.paused&&W())},U=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",R))},P=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",R))},L=()=>{Jr().addEventListener("visibilitychange",B)},K=()=>{Jr().removeEventListener("visibilitychange",B)};s("init",()=>{e.params.autoplay.enabled&&(U(),L(),T())}),s("destroy",()=>{P(),K(),e.autoplay.running&&q()}),s("_freeModeStaticRelease",()=>{(g||j)&&W()}),s("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?q():N(!0,!0)}),s("beforeTransitionStart",(V,J,Q)=>{e.destroyed||!e.autoplay.running||(Q||!e.params.autoplay.disableOnInteraction?N(!0,!0):q())}),s("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){q();return}v=!0,g=!1,j=!1,x=setTimeout(()=>{j=!0,g=!0,N(!0)},200)}}),s("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!v)){if(clearTimeout(x),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,v=!1;return}g&&e.params.cssMode&&W(),g=!1,v=!1}}),s("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:T,stop:q,pause:N,resume:W})}const Xi=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function lt(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function wt(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>r.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:lt(e[s])&&lt(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:wt(t[s],e[s]):t[s]=e[s]})}function Ki(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Qi(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Zi(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function ea(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),r=[];return e.forEach(s=>{r.indexOf(s)<0&&r.push(s)}),r.join(" ")}function Wu(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Hu(t){let{swiper:e,slides:r,passedParams:s,changedParams:n,nextEl:i,prevEl:o,scrollbarEl:l,paginationEl:c}=t;const d=n.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:u,pagination:h,navigation:f,scrollbar:v,virtual:g,thumbs:x}=e;let w,j,p,y,S,k,F,T;n.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(w=!0),n.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(j=!0),n.includes("pagination")&&s.pagination&&(s.pagination.el||c)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(p=!0),n.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&v&&!v.el&&(y=!0),n.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(S=!0);const q=N=>{e[N]&&(e[N].destroy(),N==="navigation"?(e.isElement&&(e[N].prevEl.remove(),e[N].nextEl.remove()),u[N].prevEl=void 0,u[N].nextEl=void 0,e[N].prevEl=void 0,e[N].nextEl=void 0):(e.isElement&&e[N].el.remove(),u[N].el=void 0,e[N].el=void 0))};n.includes("loop")&&e.isElement&&(u.loop&&!s.loop?k=!0:!u.loop&&s.loop?F=!0:T=!0),d.forEach(N=>{if(lt(u[N])&&lt(s[N]))Object.assign(u[N],s[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in s[N]&&!s[N].enabled&&q(N);else{const W=s[N];(W===!0||W===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?W===!1&&q(N):u[N]=s[N]}}),d.includes("controller")&&!j&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),n.includes("children")&&r&&g&&u.virtual.enabled?(g.slides=r,g.update(!0)):n.includes("virtual")&&g&&u.virtual.enabled&&(r&&(g.slides=r),g.update(!0)),n.includes("children")&&r&&u.loop&&(T=!0),w&&x.init()&&x.update(!0),j&&(e.controller.control=u.controller.control),p&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),h.init(),h.render(),h.update()),y&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(u.scrollbar.el=l),v.init(),v.updateSize(),v.setTranslate()),S&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(u.navigation.nextEl=i),o&&(u.navigation.prevEl=o),f.init(),f.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),n.includes("direction")&&e.changeDirection(s.direction,!1),(k||T)&&e.loopDestroy(),(F||T)&&e.loopCreate(),e.update()}function Ju(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const r={on:{}},s={},n={};wt(r,No),r._emitClasses=!0,r.init=!1;const i={},o=Xi.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?lt(t[c])?(r[c]={},n[c]={},wt(r[c],t[c]),wt(n[c],t[c])):(r[c]=t[c],n[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?s[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:r.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{r[c]===!0&&(r[c]={}),r[c]===!1&&delete r[c]}),{params:r,passedParams:n,rest:i,events:s}}function Yu(t,e){let{el:r,nextEl:s,prevEl:n,paginationEl:i,scrollbarEl:o,swiper:l}=t;Ki(e)&&s&&n&&(l.params.navigation.nextEl=s,l.originalParams.navigation.nextEl=s,l.params.navigation.prevEl=n,l.originalParams.navigation.prevEl=n),Qi(e)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),Zi(e)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(r)}function Gu(t,e,r,s,n){const i=[];if(!e)return i;const o=c=>{i.indexOf(c)<0&&i.push(c)};if(r&&s){const c=s.map(n),d=r.map(n);c.join("")!==d.join("")&&o("children"),s.length!==r.length&&o("children")}return Xi.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(lt(t[c])&&lt(e[c])){const d=Object.keys(t[c]),u=Object.keys(e[c]);d.length!==u.length?o(c):(d.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}),u.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}))}else t[c]!==e[c]&&o(c)}),i}const Xu=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function cr(){return cr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},cr.apply(this,arguments)}function ta(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function ra(t){const e=[];return X.Children.toArray(t).forEach(r=>{ta(r)?e.push(r):r.props&&r.props.children&&ra(r.props.children).forEach(s=>e.push(s))}),e}function Ku(t){const e=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return X.Children.toArray(t).forEach(s=>{if(ta(s))e.push(s);else if(s.props&&s.props.slot&&r[s.props.slot])r[s.props.slot].push(s);else if(s.props&&s.props.children){const n=ra(s.props.children);n.length>0?n.forEach(i=>e.push(i)):r["container-end"].push(s)}else r["container-end"].push(s)}),{slides:e,slots:r}}function Qu(t,e,r){if(!r)return null;const s=u=>{let h=u;return u<0?h=e.length+u:h>=e.length&&(h=h-e.length),h},n=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:i,to:o}=r,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let u=l;u<c;u+=1)u>=i&&u<=o&&d.push(e[s(u)]);return d.map((u,h)=>X.cloneElement(u,{swiper:t,style:n,key:u.props.virtualIndex||u.key||`slide-${h}`}))}function Vt(t,e){return typeof window>"u"?E.useEffect(t,e):E.useLayoutEffect(t,e)}const Tn=E.createContext(null),Zu=E.createContext(null),sa=E.forwardRef(function(t,e){let{className:r,tag:s="div",wrapperTag:n="div",children:i,onSwiper:o,...l}=t===void 0?{}:t,c=!1;const[d,u]=E.useState("swiper"),[h,f]=E.useState(null),[v,g]=E.useState(!1),x=E.useRef(!1),w=E.useRef(null),j=E.useRef(null),p=E.useRef(null),y=E.useRef(null),S=E.useRef(null),k=E.useRef(null),F=E.useRef(null),T=E.useRef(null),{params:q,passedParams:N,rest:W,events:B}=Ju(l),{slides:I,slots:R}=Ku(i),U=()=>{g(!v)};Object.assign(q.on,{_containerClasses(J,Q){u(Q)}});const P=()=>{Object.assign(q.on,B),c=!0;const J={...q};if(delete J.wrapperClass,j.current=new Oo(J),j.current.virtual&&j.current.params.virtual.enabled){j.current.virtual.slides=I;const Q={cache:!1,slides:I,renderExternal:f,renderExternalUpdate:!1};wt(j.current.params.virtual,Q),wt(j.current.originalParams.virtual,Q)}};w.current||P(),j.current&&j.current.on("_beforeBreakpoint",U);const L=()=>{c||!B||!j.current||Object.keys(B).forEach(J=>{j.current.on(J,B[J])})},K=()=>{!B||!j.current||Object.keys(B).forEach(J=>{j.current.off(J,B[J])})};E.useEffect(()=>()=>{j.current&&j.current.off("_beforeBreakpoint",U)}),E.useEffect(()=>{!x.current&&j.current&&(j.current.emitSlidesClasses(),x.current=!0)}),Vt(()=>{if(e&&(e.current=w.current),!!w.current)return j.current.destroyed&&P(),Yu({el:w.current,nextEl:S.current,prevEl:k.current,paginationEl:F.current,scrollbarEl:T.current,swiper:j.current},q),o&&!j.current.destroyed&&o(j.current),()=>{j.current&&!j.current.destroyed&&j.current.destroy(!0,!1)}},[]),Vt(()=>{L();const J=Gu(N,p.current,I,y.current,Q=>Q.key);return p.current=N,y.current=I,J.length&&j.current&&!j.current.destroyed&&Hu({swiper:j.current,slides:I,passedParams:N,changedParams:J,nextEl:S.current,prevEl:k.current,scrollbarEl:T.current,paginationEl:F.current}),()=>{K()}}),Vt(()=>{Xu(j.current)},[h]);function V(){return q.virtual?Qu(j.current,I,h):I.map((J,Q)=>X.cloneElement(J,{swiper:j.current,swiperSlideIndex:Q}))}return X.createElement(s,cr({ref:w,className:ea(`${d}${r?` ${r}`:""}`)},W),X.createElement(Zu.Provider,{value:j.current},R["container-start"],X.createElement(n,{className:Wu(q.wrapperClass)},R["wrapper-start"],V(),R["wrapper-end"]),Ki(q)&&X.createElement(X.Fragment,null,X.createElement("div",{ref:k,className:"swiper-button-prev"}),X.createElement("div",{ref:S,className:"swiper-button-next"})),Zi(q)&&X.createElement("div",{ref:T,className:"swiper-scrollbar"}),Qi(q)&&X.createElement("div",{ref:F,className:"swiper-pagination"}),R["container-end"]))});sa.displayName="Swiper";const na=E.forwardRef(function(t,e){let{tag:r="div",children:s,className:n="",swiper:i,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:d,...u}=t===void 0?{}:t;const h=E.useRef(null),[f,v]=E.useState("swiper-slide"),[g,x]=E.useState(!1);function w(S,k,F){k===h.current&&v(F)}Vt(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),e&&(e.current=h.current),!(!h.current||!i)){if(i.destroyed){f!=="swiper-slide"&&v("swiper-slide");return}return i.on("_slideClass",w),()=>{i&&i.off("_slideClass",w)}}}),Vt(()=>{i&&h.current&&!i.destroyed&&v(i.getSlideClasses(h.current))},[i]);const j={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},p=()=>typeof s=="function"?s(j):s,y=()=>{x(!0)};return X.createElement(r,cr({ref:h,className:ea(`${f}${n?` ${n}`:""}`),"data-swiper-slide-index":c,onLoad:y},u),o&&X.createElement(Tn.Provider,{value:j},X.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},p(),l&&!g&&X.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&X.createElement(Tn.Provider,{value:j},p(),l&&!g&&X.createElement("div",{className:"swiper-lazy-preloader"})))});na.displayName="SwiperSlide";var ed=function(e,r,s){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");typeof r=="function"&&(s=r,r={}),r=r||{},s=s||function(){},i.type=r.type||"text/javascript",i.charset=r.charset||"utf8",i.async="async"in r?!!r.async:!0,i.src=e,r.attrs&&td(i,r.attrs),r.text&&(i.text=""+r.text);var o="onload"in i?An:rd;o(i,s),i.onload||An(i,s),n.appendChild(i)};function td(t,e){for(var r in e)t.setAttribute(r,e[r])}function An(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function rd(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var sd=function(e){return nd(e)&&!id(e)};function nd(t){return!!t&&typeof t=="object"}function id(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||ld(t)}var ad=typeof Symbol=="function"&&Symbol.for,od=ad?Symbol.for("react.element"):60103;function ld(t){return t.$$typeof===od}function cd(t){return Array.isArray(t)?[]:{}}function Wt(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Et(cd(t),t,e):t}function ud(t,e,r){return t.concat(e).map(function(s){return Wt(s,r)})}function dd(t,e){if(!e.customMerge)return Et;var r=e.customMerge(t);return typeof r=="function"?r:Et}function hd(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function Rn(t){return Object.keys(t).concat(hd(t))}function ia(t,e){try{return e in t}catch{return!1}}function fd(t,e){return ia(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function md(t,e,r){var s={};return r.isMergeableObject(t)&&Rn(t).forEach(function(n){s[n]=Wt(t[n],r)}),Rn(e).forEach(function(n){fd(t,n)||(ia(t,n)&&r.isMergeableObject(e[n])?s[n]=dd(n,r)(t[n],e[n],r):s[n]=Wt(e[n],r))}),s}function Et(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||ud,r.isMergeableObject=r.isMergeableObject||sd,r.cloneUnlessOtherwiseSpecified=Wt;var s=Array.isArray(e),n=Array.isArray(t),i=s===n;return i?s?r.arrayMerge(t,e,r):md(t,e,r):Wt(e,r)}Et.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(s,n){return Et(s,n,r)},{})};var pd=Et,aa=pd,gd=Object.create,Er=Object.defineProperty,yd=Object.getOwnPropertyDescriptor,vd=Object.getOwnPropertyNames,bd=Object.getPrototypeOf,xd=Object.prototype.hasOwnProperty,wd=(t,e)=>{for(var r in e)Er(t,r,{get:e[r],enumerable:!0})},oa=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of vd(e))!xd.call(t,n)&&n!==r&&Er(t,n,{get:()=>e[n],enumerable:!(s=yd(e,n))||s.enumerable});return t},Ls=(t,e,r)=>(r=t!=null?gd(bd(t)):{},oa(!t||!t.__esModule?Er(r,"default",{value:t,enumerable:!0}):r,t)),_d=t=>oa(Er({},"__esModule",{value:!0}),t),la={};wd(la,{callPlayer:()=>Md,getConfig:()=>Dd,getSDK:()=>$d,isBlobUrl:()=>Ud,isMediaStream:()=>Fd,lazy:()=>Pd,omit:()=>Id,parseEndTime:()=>Ad,parseStartTime:()=>Td,queryString:()=>Ld,randomString:()=>Rd,supportsWebKitPresentationMode:()=>Vd});var Pr=_d(la),jd=Ls(E),Sd=Ls(ed),Ed=Ls(aa);const Pd=t=>jd.default.lazy(async()=>{const e=await t();return typeof e.default=="function"?e:e.default}),kd=/[?&#](?:start|t)=([0-9hms]+)/,Nd=/[?&#]end=([0-9hms]+)/,ps=/(\d+)(h|m|s)/g,Od=/^\d+$/;function ca(t,e){if(t instanceof Array)return;const r=t.match(e);if(r){const s=r[1];if(s.match(ps))return Cd(s);if(Od.test(s))return parseInt(s)}}function Cd(t){let e=0,r=ps.exec(t);for(;r!==null;){const[,s,n]=r;n==="h"&&(e+=parseInt(s,10)*60*60),n==="m"&&(e+=parseInt(s,10)*60),n==="s"&&(e+=parseInt(s,10)),r=ps.exec(t)}return e}function Td(t){return ca(t,kd)}function Ad(t){return ca(t,Nd)}function Rd(){return Math.random().toString(36).substr(2,5)}function Ld(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function ss(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}const mt={},$d=function(e,r,s=null,n=()=>!0,i=Sd.default){const o=ss(r);return o&&n(o)?Promise.resolve(o):new Promise((l,c)=>{if(mt[e]){mt[e].push({resolve:l,reject:c});return}mt[e]=[{resolve:l,reject:c}];const d=u=>{mt[e].forEach(h=>h.resolve(u))};if(s){const u=window[s];window[s]=function(){u&&u(),d(ss(r))}}i(e,u=>{u?(mt[e].forEach(h=>h.reject(u)),mt[e]=null):s||d(ss(r))})})};function Dd(t,e){return(0,Ed.default)(e.config,t.config)}function Id(t,...e){const r=[].concat(...e),s={},n=Object.keys(t);for(const i of n)r.indexOf(i)===-1&&(s[i]=t[i]);return s}function Md(t,...e){if(!this.player||!this.player[t]){let r=`ReactPlayer: ${this.constructor.displayName} player could not call %c${t}%c – `;return this.player?this.player[t]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}return this.player[t](...e)}function Fd(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function Ud(t){return/^blob:/.test(t)}function Vd(t=document.createElement("video")){const e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var $s=Object.defineProperty,qd=Object.getOwnPropertyDescriptor,Bd=Object.getOwnPropertyNames,zd=Object.prototype.hasOwnProperty,Wd=(t,e)=>{for(var r in e)$s(t,r,{get:e[r],enumerable:!0})},Hd=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Bd(e))!zd.call(t,n)&&n!==r&&$s(t,n,{get:()=>e[n],enumerable:!(s=qd(e,n))||s.enumerable});return t},Jd=t=>Hd($s({},"__esModule",{value:!0}),t),ua={};Wd(ua,{AUDIO_EXTENSIONS:()=>Ds,DASH_EXTENSIONS:()=>Sa,FLV_EXTENSIONS:()=>Ea,HLS_EXTENSIONS:()=>Ms,MATCH_URL_DAILYMOTION:()=>xa,MATCH_URL_FACEBOOK:()=>ma,MATCH_URL_FACEBOOK_WATCH:()=>pa,MATCH_URL_KALTURA:()=>ja,MATCH_URL_MIXCLOUD:()=>wa,MATCH_URL_MUX:()=>fa,MATCH_URL_SOUNDCLOUD:()=>da,MATCH_URL_STREAMABLE:()=>ga,MATCH_URL_TWITCH_CHANNEL:()=>ba,MATCH_URL_TWITCH_VIDEO:()=>va,MATCH_URL_VIDYARD:()=>_a,MATCH_URL_VIMEO:()=>ha,MATCH_URL_WISTIA:()=>ya,MATCH_URL_YOUTUBE:()=>gs,VIDEO_EXTENSIONS:()=>Is,canPlay:()=>Gd});var Yd=Jd(ua),Ln=Pr;const gs=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,da=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,ha=/vimeo\.com\/(?!progressive_redirect).+/,fa=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,ma=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,pa=/^https?:\/\/fb\.watch\/.+$/,ga=/streamable\.com\/([a-z0-9]+)$/,ya=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,va=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,ba=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,xa=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,wa=/mixcloud\.com\/([^/]+\/[^/]+)/,_a=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,ja=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,Ds=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Is=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,Ms=/\.(m3u8)($|\?)/i,Sa=/\.(mpd)($|\?)/i,Ea=/\.(flv)($|\?)/i,ys=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&ys(e)||ys(e.src))return!0;return!1}return(0,Ln.isMediaStream)(t)||(0,Ln.isBlobUrl)(t)?!0:Ds.test(t)||Is.test(t)||Ms.test(t)||Sa.test(t)||Ea.test(t)},Gd={youtube:t=>t instanceof Array?t.every(e=>gs.test(e)):gs.test(t),soundcloud:t=>da.test(t)&&!Ds.test(t),vimeo:t=>ha.test(t)&&!Is.test(t)&&!Ms.test(t),mux:t=>fa.test(t),facebook:t=>ma.test(t)||pa.test(t),streamable:t=>ga.test(t),wistia:t=>ya.test(t),twitch:t=>va.test(t)||ba.test(t),dailymotion:t=>xa.test(t),mixcloud:t=>wa.test(t),vidyard:t=>_a.test(t),kaltura:t=>ja.test(t),file:ys};var Fs=Object.defineProperty,Xd=Object.getOwnPropertyDescriptor,Kd=Object.getOwnPropertyNames,Qd=Object.prototype.hasOwnProperty,Zd=(t,e)=>{for(var r in e)Fs(t,r,{get:e[r],enumerable:!0})},eh=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Kd(e))!Qd.call(t,n)&&n!==r&&Fs(t,n,{get:()=>e[n],enumerable:!(s=Xd(e,n))||s.enumerable});return t},th=t=>eh(Fs({},"__esModule",{value:!0}),t),Pa={};Zd(Pa,{default:()=>sh});var rh=th(Pa),Ne=Pr,we=Yd,sh=[{key:"youtube",name:"YouTube",canPlay:we.canPlay.youtube,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./YouTube-CaFiUxuN.js").then(t=>t.Y),__vite__mapDeps([2,1])))},{key:"soundcloud",name:"SoundCloud",canPlay:we.canPlay.soundcloud,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./SoundCloud-C3DtR5R8.js").then(t=>t.S),__vite__mapDeps([3,1])))},{key:"vimeo",name:"Vimeo",canPlay:we.canPlay.vimeo,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./Vimeo-QBrm0Bjn.js").then(t=>t.V),__vite__mapDeps([4,1])))},{key:"mux",name:"Mux",canPlay:we.canPlay.mux,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./Mux-CpaHb3Gy.js").then(t=>t.M),__vite__mapDeps([5,1])))},{key:"facebook",name:"Facebook",canPlay:we.canPlay.facebook,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./Facebook-g-_o90Pz.js").then(t=>t.F),__vite__mapDeps([6,1])))},{key:"streamable",name:"Streamable",canPlay:we.canPlay.streamable,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./Streamable-B6VyDntB.js").then(t=>t.S),__vite__mapDeps([7,1])))},{key:"wistia",name:"Wistia",canPlay:we.canPlay.wistia,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./Wistia-D4TBVpue.js").then(t=>t.W),__vite__mapDeps([8,1])))},{key:"twitch",name:"Twitch",canPlay:we.canPlay.twitch,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./Twitch-BG-ar_4O.js").then(t=>t.T),__vite__mapDeps([9,1])))},{key:"dailymotion",name:"DailyMotion",canPlay:we.canPlay.dailymotion,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./DailyMotion-f-xH112t.js").then(t=>t.D),__vite__mapDeps([10,1])))},{key:"mixcloud",name:"Mixcloud",canPlay:we.canPlay.mixcloud,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./Mixcloud-CRlOp__r.js").then(t=>t.M),__vite__mapDeps([11,1])))},{key:"vidyard",name:"Vidyard",canPlay:we.canPlay.vidyard,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./Vidyard-DgccTbAM.js").then(t=>t.V),__vite__mapDeps([12,1])))},{key:"kaltura",name:"Kaltura",canPlay:we.canPlay.kaltura,lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./Kaltura-Bv2mvxTn.js").then(t=>t.K),__vite__mapDeps([13,1])))},{key:"file",name:"FilePlayer",canPlay:we.canPlay.file,canEnablePIP:t=>we.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,Ne.supportsWebKitPresentationMode)())&&!we.AUDIO_EXTENSIONS.test(t),lazyPlayer:(0,Ne.lazy)(()=>ce(()=>import("./FilePlayer-C1d6-yeb.js").then(t=>t.F),__vite__mapDeps([14,1])))}],$n=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function nh(t,e){return!!(t===e||$n(t)&&$n(e))}function ih(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!nh(t[r],e[r]))return!1;return!0}function ah(t,e){e===void 0&&(e=ih);var r,s=[],n,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&e(l,s)||(n=t.apply(this,l),i=!0,r=this,s=l),n}return o}const oh=Object.freeze(Object.defineProperty({__proto__:null,default:ah},Symbol.toStringTag,{value:"Module"})),lh=ai(oh);var ch=typeof Element<"u",uh=typeof Map=="function",dh=typeof Set=="function",hh=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ar(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,s,n;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(s=r;s--!==0;)if(!ar(t[s],e[s]))return!1;return!0}var i;if(uh&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;for(i=t.entries();!(s=i.next()).done;)if(!ar(s.value[1],e.get(s.value[0])))return!1;return!0}if(dh&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;return!0}if(hh&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(s=r;s--!==0;)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(n=Object.keys(t),r=n.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[s]))return!1;if(ch&&t instanceof Element)return!1;for(s=r;s--!==0;)if(!((n[s]==="_owner"||n[s]==="__v"||n[s]==="__o")&&t.$$typeof)&&!ar(t[n[s]],e[n[s]]))return!1;return!0}return t!==t&&e!==e}var ka=function(e,r){try{return ar(e,r)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}},Na={exports:{}},fh="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mh=fh,ph=mh;function Oa(){}function Ca(){}Ca.resetWarningCache=Oa;var gh=function(){function t(s,n,i,o,l,c){if(c!==ph){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ca,resetWarningCache:Oa};return r.PropTypes=r,r};Na.exports=gh();var Ta=Na.exports;const Oe=mr(Ta);var yh=Object.create,kr=Object.defineProperty,vh=Object.getOwnPropertyDescriptor,bh=Object.getOwnPropertyNames,xh=Object.getPrototypeOf,wh=Object.prototype.hasOwnProperty,_h=(t,e)=>{for(var r in e)kr(t,r,{get:e[r],enumerable:!0})},Aa=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of bh(e))!wh.call(t,n)&&n!==r&&kr(t,n,{get:()=>e[n],enumerable:!(s=vh(e,n))||s.enumerable});return t},jh=(t,e,r)=>(r=t!=null?yh(xh(t)):{},Aa(!t||!t.__esModule?kr(r,"default",{value:t,enumerable:!0}):r,t)),Sh=t=>Aa(kr({},"__esModule",{value:!0}),t),Ra={};_h(Ra,{defaultProps:()=>kh,propTypes:()=>Ph});var La=Sh(Ra),Eh=jh(Ta);const{string:ge,bool:_e,number:pt,array:ns,oneOfType:Tt,shape:Ae,object:be,func:de,node:Dn}=Eh.default,Ph={url:Tt([ge,ns,be]),playing:_e,loop:_e,controls:_e,volume:pt,muted:_e,playbackRate:pt,width:Tt([ge,pt]),height:Tt([ge,pt]),style:be,progressInterval:pt,playsinline:_e,pip:_e,stopOnUnmount:_e,light:Tt([_e,ge,be]),playIcon:Dn,previewTabIndex:pt,previewAriaLabel:ge,fallback:Dn,oEmbedUrl:ge,wrapper:Tt([ge,de,Ae({render:de.isRequired})]),config:Ae({soundcloud:Ae({options:be}),youtube:Ae({playerVars:be,embedOptions:be,onUnstarted:de}),facebook:Ae({appId:ge,version:ge,playerId:ge,attributes:be}),dailymotion:Ae({params:be}),vimeo:Ae({playerOptions:be,title:ge}),mux:Ae({attributes:be,version:ge}),file:Ae({attributes:be,tracks:ns,forceVideo:_e,forceAudio:_e,forceHLS:_e,forceSafariHLS:_e,forceDisableHls:_e,forceDASH:_e,forceFLV:_e,hlsOptions:be,hlsVersion:ge,dashVersion:ge,flvVersion:ge}),wistia:Ae({options:be,playerId:ge,customControls:ns}),mixcloud:Ae({options:be}),twitch:Ae({options:be,playerId:ge}),vidyard:Ae({options:be})}),onReady:de,onStart:de,onPlay:de,onPause:de,onBuffer:de,onBufferEnd:de,onEnded:de,onError:de,onDuration:de,onSeek:de,onPlaybackRateChange:de,onPlaybackQualityChange:de,onProgress:de,onClickPreview:de,onEnablePIP:de,onDisablePIP:de},ye=()=>{},kh={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:ye},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:ye,onStart:ye,onPlay:ye,onPause:ye,onBuffer:ye,onBufferEnd:ye,onEnded:ye,onError:ye,onDuration:ye,onSeek:ye,onPlaybackRateChange:ye,onPlaybackQualityChange:ye,onProgress:ye,onClickPreview:ye,onEnablePIP:ye,onDisablePIP:ye};var Nh=Object.create,Xt=Object.defineProperty,Oh=Object.getOwnPropertyDescriptor,Ch=Object.getOwnPropertyNames,Th=Object.getPrototypeOf,Ah=Object.prototype.hasOwnProperty,Rh=(t,e,r)=>e in t?Xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lh=(t,e)=>{for(var r in e)Xt(t,r,{get:e[r],enumerable:!0})},$a=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Ch(e))!Ah.call(t,n)&&n!==r&&Xt(t,n,{get:()=>e[n],enumerable:!(s=Oh(e,n))||s.enumerable});return t},Da=(t,e,r)=>(r=t!=null?Nh(Th(t)):{},$a(!t||!t.__esModule?Xt(r,"default",{value:t,enumerable:!0}):r,t)),$h=t=>$a(Xt({},"__esModule",{value:!0}),t),ie=(t,e,r)=>(Rh(t,typeof e!="symbol"?e+"":e,r),r),Ia={};Lh(Ia,{default:()=>Nr});var Dh=$h(Ia),In=Da(E),Ih=Da(ka),Ma=La,Mh=Pr;const Fh=5e3;class Nr extends In.Component{constructor(){super(...arguments),ie(this,"mounted",!1),ie(this,"isReady",!1),ie(this,"isPlaying",!1),ie(this,"isLoading",!0),ie(this,"loadOnReady",null),ie(this,"startOnPlay",!0),ie(this,"seekOnPlay",null),ie(this,"onDurationCalled",!1),ie(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),ie(this,"getInternalPlayer",e=>this.player?this.player[e]:null),ie(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,r=this.getSecondsLoaded(),s=this.getDuration();if(s){const n={playedSeconds:e,played:e/s};r!==null&&(n.loadedSeconds=r,n.loaded=r/s),(n.playedSeconds!==this.prevPlayed||n.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(n),this.prevPlayed=n.playedSeconds,this.prevLoaded=n.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),ie(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:r,volume:s,muted:n}=this.props;e(),!n&&s!==null&&this.player.setVolume(s),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):r&&this.player.play(),this.handleDurationCheck()}),ie(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:r,playbackRate:s}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&s!==1&&this.player.setPlaybackRate(s),e(),this.startOnPlay=!1),r(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),ie(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),ie(this,"handleEnded",()=>{const{activePlayer:e,loop:r,onEnded:s}=this.props;e.loopOnEnded&&r&&this.seekTo(0),r||(this.isPlaying=!1,s())}),ie(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),ie(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),ie(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:r,playing:s,volume:n,muted:i,playbackRate:o,pip:l,loop:c,activePlayer:d,disableDeferredLoading:u}=this.props;if(!(0,Ih.default)(e.url,r)){if(this.isLoading&&!d.forceLoad&&!u&&!(0,Mh.isMediaStream)(r)){console.warn(`ReactPlayer: the attempt to load ${r} is being deferred until the player has loaded`),this.loadOnReady=r;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}!e.playing&&s&&!this.isPlaying&&this.player.play(),e.playing&&!s&&this.isPlaying&&this.player.pause(),!e.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==n&&n!==null&&this.player.setVolume(n),e.muted!==i&&(i?this.player.mute():(this.player.unmute(),n!==null&&setTimeout(()=>this.player.setVolume(n)))),e.playbackRate!==o&&this.player.setPlaybackRate&&this.player.setPlaybackRate(o),e.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,r,s){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},Fh));return}if(r?r==="fraction":e>0&&e<1){const i=this.player.getDuration();if(!i){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(i*e,s);return}this.player.seekTo(e,s)}render(){const e=this.props.activePlayer;return e?In.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}ie(Nr,"displayName","Player");ie(Nr,"propTypes",Ma.propTypes);ie(Nr,"defaultProps",Ma.defaultProps);var Uh=Object.create,Kt=Object.defineProperty,Vh=Object.getOwnPropertyDescriptor,qh=Object.getOwnPropertyNames,Bh=Object.getPrototypeOf,zh=Object.prototype.hasOwnProperty,Wh=(t,e,r)=>e in t?Kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hh=(t,e)=>{for(var r in e)Kt(t,r,{get:e[r],enumerable:!0})},Fa=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of qh(e))!zh.call(t,n)&&n!==r&&Kt(t,n,{get:()=>e[n],enumerable:!(s=Vh(e,n))||s.enumerable});return t},Qt=(t,e,r)=>(r=t!=null?Uh(Bh(t)):{},Fa(!t||!t.__esModule?Kt(r,"default",{value:t,enumerable:!0}):r,t)),Jh=t=>Fa(Kt({},"__esModule",{value:!0}),t),ne=(t,e,r)=>(Wh(t,typeof e!="symbol"?e+"":e,r),r),Ua={};Hh(Ua,{createReactPlayer:()=>rf});var Yh=Jh(Ua),bt=Qt(E),Gh=Qt(aa),is=Qt(lh),Mn=Qt(ka),Dt=La,Va=Pr,Xh=Qt(Dh);const Kh=(0,Va.lazy)(()=>ce(()=>import("./Preview-BCX1E_iV.js").then(t=>t.P),__vite__mapDeps([15,1]))),Qh=typeof window<"u"&&window.document&&typeof document<"u",Zh=typeof Ee<"u"&&Ee.window&&Ee.window.document,ef=Object.keys(Dt.propTypes),tf=Qh||Zh?bt.Suspense:()=>null,At=[],rf=(t,e)=>{var r;return r=class extends bt.Component{constructor(){super(...arguments),ne(this,"state",{showPreview:!!this.props.light}),ne(this,"references",{wrapper:s=>{this.wrapper=s},player:s=>{this.player=s}}),ne(this,"handleClickPreview",s=>{this.setState({showPreview:!1}),this.props.onClickPreview(s)}),ne(this,"showPreview",()=>{this.setState({showPreview:!0})}),ne(this,"getDuration",()=>this.player?this.player.getDuration():null),ne(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),ne(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),ne(this,"getInternalPlayer",(s="player")=>this.player?this.player.getInternalPlayer(s):null),ne(this,"seekTo",(s,n,i)=>{if(!this.player)return null;this.player.seekTo(s,n,i)}),ne(this,"handleReady",()=>{this.props.onReady(this)}),ne(this,"getActivePlayer",(0,is.default)(s=>{for(const n of[...At,...t])if(n.canPlay(s))return n;return e||null})),ne(this,"getConfig",(0,is.default)((s,n)=>{const{config:i}=this.props;return Gh.default.all([Dt.defaultProps.config,Dt.defaultProps.config[n]||{},i,i[n]||{}])})),ne(this,"getAttributes",(0,is.default)(s=>(0,Va.omit)(this.props,ef))),ne(this,"renderActivePlayer",s=>{if(!s)return null;const n=this.getActivePlayer(s);if(!n)return null;const i=this.getConfig(s,n.key);return bt.default.createElement(Xh.default,{...this.props,key:n.key,ref:this.references.player,config:i,activePlayer:n.lazyPlayer||n,onReady:this.handleReady})})}shouldComponentUpdate(s,n){return!(0,Mn.default)(this.props,s)||!(0,Mn.default)(this.state,n)}componentDidUpdate(s){const{light:n}=this.props;!s.light&&n&&this.setState({showPreview:!0}),s.light&&!n&&this.setState({showPreview:!1})}renderPreview(s){if(!s)return null;const{light:n,playIcon:i,previewTabIndex:o,oEmbedUrl:l,previewAriaLabel:c}=this.props;return bt.default.createElement(Kh,{url:s,light:n,playIcon:i,previewTabIndex:o,previewAriaLabel:c,oEmbedUrl:l,onClick:this.handleClickPreview})}render(){const{url:s,style:n,width:i,height:o,fallback:l,wrapper:c}=this.props,{showPreview:d}=this.state,u=this.getAttributes(s),h=typeof c=="string"?this.references.wrapper:void 0;return bt.default.createElement(c,{ref:h,style:{...n,width:i,height:o},...u},bt.default.createElement(tf,{fallback:l},d?this.renderPreview(s):this.renderActivePlayer(s)))}},ne(r,"displayName","ReactPlayer"),ne(r,"propTypes",Dt.propTypes),ne(r,"defaultProps",Dt.defaultProps),ne(r,"addCustomPlayer",s=>{At.push(s)}),ne(r,"removeCustomPlayers",()=>{At.length=0}),ne(r,"canPlay",s=>{for(const n of[...At,...t])if(n.canPlay(s))return!0;return!1}),ne(r,"canEnablePIP",s=>{for(const n of[...At,...t])if(n.canEnablePIP&&n.canEnablePIP(s))return!0;return!1}),r};var sf=Object.create,Or=Object.defineProperty,nf=Object.getOwnPropertyDescriptor,af=Object.getOwnPropertyNames,of=Object.getPrototypeOf,lf=Object.prototype.hasOwnProperty,cf=(t,e)=>{for(var r in e)Or(t,r,{get:e[r],enumerable:!0})},qa=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of af(e))!lf.call(t,n)&&n!==r&&Or(t,n,{get:()=>e[n],enumerable:!(s=nf(e,n))||s.enumerable});return t},uf=(t,e,r)=>(r=t!=null?sf(of(t)):{},qa(!t||!t.__esModule?Or(r,"default",{value:t,enumerable:!0}):r,t)),df=t=>qa(Or({},"__esModule",{value:!0}),t),Ba={};cf(Ba,{default:()=>pf});var hf=df(Ba),vs=uf(rh),ff=Yh;const mf=vs.default[vs.default.length-1];var pf=(0,ff.createReactPlayer)(vs.default,mf);const za=mr(hf),Us=({src:t,alt:e,className:r="",fallbackSrc:s="https://placehold.co/600x400?text=Image+non+disponible",loadingComponent:n,onLoad:i,onError:o,...l})=>{const[c,d]=E.useState(!0),[u,h]=E.useState(!1),[f,v]=E.useState(t);E.useEffect(()=>{v(t),d(!0),h(!1)},[t]);const g=()=>{console.log(`Image loaded successfully: ${t}`),d(!1),h(!1),i==null||i()},x=()=>{console.error(`Failed to load image: ${t}`,{originalSrc:t,fallbackSrc:s,alt:e,timestamp:new Date().toISOString()}),d(!1),h(!0),v(s),o==null||o()};return a.jsxs("div",{className:"relative overflow-hidden","data-testid":"image-container",children:[c&&n&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary-800",children:n}),a.jsx(M.img,{src:f,alt:e,className:`${r} ${c?"opacity-0":"opacity-100"} ${u?"bg-primary-800":""} transition-opacity duration-300`,onLoad:g,onError:x,loading:"lazy",...l})]})},Vs=()=>a.jsx(M.div,{className:"w-8 h-8 border-4 border-accent-400 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},role:"progressbar","aria-label":"Chargement de l'image"}),gf=()=>{const[t,e]=E.useState(null),{projects:r}=Je(),s=()=>{e(null)},n=i=>{const o=i.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/);return o?o[1]:null};return a.jsxs(a.Fragment,{children:[a.jsx(sa,{modules:[qu,Bu,zu],spaceBetween:30,slidesPerView:1,breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}},navigation:!0,pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},className:"pb-12",children:r.map(i=>a.jsx(na,{children:a.jsxs(M.div,{whileHover:{y:-10},className:"bg-primary-800 rounded-lg overflow-hidden shadow-lg",children:[a.jsxs("div",{className:"relative h-60 overflow-hidden bg-primary-800",children:[a.jsx(Us,{src:i.image_url,alt:i.title,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-500",loadingComponent:a.jsx(Vs,{})}),i.video_url&&n(i.video_url)&&a.jsx("button",{onClick:()=>e(i.video_url),className:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 hover:opacity-100 transition-opacity duration-300",children:a.jsx("span",{className:"w-16 h-16 rounded-full bg-accent-500/80 flex items-center justify-center",children:a.jsx(gi,{className:"h-8 w-8 text-white"})})}),a.jsx("div",{className:"absolute top-3 right-3 z-10",children:a.jsx("span",{className:"bg-accent-600 text-xs font-semibold px-2.5 py-1 rounded-full text-white",children:i.type==="music"?"Musique":"Vidéo"})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-xl font-bold mb-1 gold-gradient",children:i.title}),a.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:[i.artist," • ",i.year]}),a.jsx("p",{className:"text-gray-300 text-sm line-clamp-3",children:i.description})]})]})},i.id))}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-5",children:a.jsxs("div",{className:"relative w-full max-w-4xl",children:[a.jsxs("button",{onClick:s,className:"absolute -top-12 right-0 text-white hover:text-accent-400 transition-colors",children:[a.jsx("span",{className:"sr-only",children:"Fermer"}),a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),a.jsx("div",{className:"aspect-w-16 aspect-h-9",children:a.jsx(za,{url:t,width:"100%",height:"100%",controls:!0,playing:!0,config:{youtube:{playerVars:{showinfo:1}}}})})]})})]})},yf=()=>{const{artists:t}=Je(),e={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.2}}},r={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.6}}};return a.jsx(M.div,{variants:e,initial:"hidden",whileInView:"show",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(s=>a.jsxs(M.div,{variants:r,className:"bg-primary-900 rounded-lg overflow-hidden shadow-lg transition-transform duration-300 hover:shadow-[0_0_15px_rgba(185,158,119,0.2)] hover:-translate-y-2",children:[a.jsx("div",{className:"h-60 overflow-hidden relative bg-primary-800",children:a.jsx(Us,{src:s.image_url,alt:s.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",loadingComponent:a.jsx(Vs,{})})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-1 gold-gradient",children:s.name}),a.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:["Dernier projet : ",s.latest_work," • ",new Date(s.release_date).toLocaleDateString()]}),a.jsx("p",{className:"text-gray-300 text-sm mb-4",children:s.description}),a.jsxs(M.div,{whileHover:{x:5},className:"inline-flex items-center text-accent-400 hover:text-accent-300 transition-colors",children:[a.jsx("span",{children:"Découvrir"}),a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"ml-1",children:[a.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),a.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]},s.id))})},vf=()=>{const{fetchProjects:t,fetchArtists:e,fetchServices:r,isLoading:s}=Je();return E.useEffect(()=>{t(),e(),r()},[]),s?a.jsx("div",{children:"Chargement..."}):a.jsxs("div",{className:"overflow-hidden",children:[a.jsx(Vu,{}),a.jsx("section",{className:"py-20 bg-primary-950",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(M.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-12 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl xl:text-5xl font-heading font-bold mb-3 gold-gradient",children:"Nos derniers projets"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Découvrez les dernières productions musicales et visuelles réalisées par notre label"})]}),a.jsx(gf,{})]})}),a.jsx("section",{className:"py-20 bg-black",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(M.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-12 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl xl:text-5xl font-heading font-bold mb-3 gold-gradient",children:"Actualités des artistes"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"L'actualité des artistes incontournables de la scène urbaine française"})]}),a.jsx(yf,{})]})}),a.jsxs("section",{className:"py-20 bg-primary-950 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"bg-[url('https://images.pexels.com/photos/164829/pexels-photo-164829.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')] bg-cover bg-center h-full w-full"})}),a.jsx("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:a.jsx("div",{className:"max-w-3xl mx-auto text-center",children:a.jsxs(M.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6},viewport:{once:!0},children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold mb-6 gold-gradient",children:"Prêt à donner vie à votre projet musical?"}),a.jsx("p",{className:"text-gray-300 mb-8 text-lg",children:"Chez Black Road Music, nous mettons notre expertise et notre passion au service de votre créativité. Contactez-nous pour discuter de votre vision et découvrir comment nous pouvons la transformer en réalité."}),a.jsx(M.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx("a",{href:"/contact",className:"inline-block bg-gradient-to-r from-accent-700 to-accent-500 text-white font-medium py-3 px-8 rounded-full transition-all hover:shadow-[0_0_15px_rgba(185,158,119,0.5)]",children:"Collaborer avec nous"})})]})})})]})]})},bf=()=>{const{projects:t,fetchProjects:e,isLoading:r}=Je(),[s,n]=E.useState(null),[i,o]=E.useState("all"),[l,c]=E.useState([]);E.useEffect(()=>{e()},[]),E.useEffect(()=>{c(i==="all"?t:t.filter(f=>f.type===i))},[i,t]);const d=f=>{const v=f.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/);return v?v[1]:null};if(r)return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsx("div",{className:"text-accent-400",children:"Chargement..."})});const u={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},h={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"pt-24 pb-20 bg-black",children:[a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-16 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-4 gold-gradient",children:"Nos Projets"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Découvrez les projets et productions réalisés par Black Road Music, des albums aux clips vidéo en passant par les mixtapes et EP."})]}),a.jsx("div",{className:"flex justify-center mb-10",children:a.jsx("div",{className:"inline-flex bg-primary-800 rounded-full p-1",children:[{label:"Tous",value:"all"},{label:"Musique",value:"music"},{label:"Vidéo",value:"video"}].map(f=>a.jsx("button",{onClick:()=>o(f.value),className:`px-6 py-2 rounded-full text-sm font-medium transition-all ${i===f.value?"bg-accent-600 text-white shadow-lg":"text-gray-300 hover:text-white"}`,children:f.label},f.value))})}),a.jsx(M.div,{variants:u,initial:"hidden",animate:"show",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(f=>a.jsxs(M.div,{variants:h,whileHover:{y:-10},className:"bg-primary-900 rounded-lg overflow-hidden shadow-lg h-full",children:[a.jsxs("div",{className:"relative h-60 overflow-hidden bg-primary-800",children:[a.jsx(Us,{src:f.image_url,alt:f.title,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-500",loadingComponent:a.jsx(Vs,{})}),f.video_url&&d(f.video_url)&&a.jsx("button",{onClick:()=>n(f.video_url),className:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 hover:opacity-100 transition-opacity duration-300",children:a.jsx("span",{className:"w-16 h-16 rounded-full bg-accent-500/80 flex items-center justify-center",children:a.jsx(gi,{className:"h-8 w-8 text-white"})})}),a.jsx("div",{className:"absolute top-3 right-3 z-10",children:a.jsx("span",{className:"bg-accent-600 text-xs font-semibold px-2.5 py-1 rounded-full text-white",children:f.type==="music"?"Musique":"Vidéo"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-1 gold-gradient",children:f.title}),a.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:[f.artist," • ",f.year]}),a.jsx("p",{className:"text-gray-300",children:f.description})]})]},f.id))})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-5",children:a.jsxs("div",{className:"relative w-full max-w-4xl",children:[a.jsxs("button",{onClick:()=>n(null),className:"absolute -top-12 right-0 text-white hover:text-accent-400 transition-colors",children:[a.jsx("span",{className:"sr-only",children:"Fermer"}),a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),a.jsx("div",{className:"aspect-w-16 aspect-h-9",children:a.jsx(za,{url:s,width:"100%",height:"100%",controls:!0,playing:!0,config:{youtube:{playerVars:{showinfo:1}}}})})]})})]})},xf=({service:t})=>{const e=r=>{switch(r){case"music":return a.jsx(Wo,{className:"h-6 w-6"});case"video":return a.jsx(ks,{className:"h-6 w-6"});case"mic":return a.jsx(zo,{className:"h-6 w-6"});case"image":return a.jsx(qo,{className:"h-6 w-6"});case"radio":return a.jsx(Ho,{className:"h-6 w-6"});case"users":return a.jsx(Yo,{className:"h-6 w-6"});case"calendar":return a.jsx(Fo,{className:"h-6 w-6"});case"settings":return a.jsx(Jo,{className:"h-6 w-6"});default:return null}};return a.jsx("div",{className:"group h-full",children:a.jsxs("div",{className:"bg-primary-900 rounded-xl p-6 h-full transition-all duration-300 hover:shadow-[0_0_15px_rgba(185,158,119,0.2)] hover:-translate-y-1",children:[a.jsx("div",{className:"bg-accent-600/10 w-12 h-12 rounded-lg flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:a.jsx("span",{className:"text-accent-400",children:e(t.icon)})}),a.jsx("h3",{className:"text-xl font-bold mb-3 gold-gradient",children:t.title}),a.jsx("p",{className:"text-gray-400 mb-6",children:t.description}),a.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((r,s)=>a.jsxs(M.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.3,delay:s*.1},viewport:{once:!0},className:"flex items-start",children:[a.jsx("span",{className:"text-accent-400 mr-2",children:"•"}),a.jsx("span",{className:"text-gray-300",children:r})]},s))}),a.jsx("div",{className:"pt-4 mt-auto",children:a.jsxs(M.div,{whileHover:{x:5},className:"inline-flex items-center text-accent-400 hover:text-accent-300 transition-colors",children:[a.jsx(se,{to:"/contact",className:"font-medium",children:"En savoir plus"}),a.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})},wf=()=>{const{services:t,fetchServices:e,isLoading:r}=Je();return E.useEffect(()=>{e()},[]),r?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsx("div",{className:"text-accent-400",children:"Chargement..."})}):a.jsx("div",{className:"pt-24 pb-20 bg-black",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-16 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-4 gold-gradient",children:"Nos Services"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"De la production musicale à la réalisation audiovisuelle, découvrez notre gamme complète de services professionnels."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((s,n)=>a.jsx(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},viewport:{once:!0},children:a.jsx(xf,{service:s})},s.id))}),a.jsxs(M.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-20 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.pexels.com/photos/164829/pexels-photo-164829.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')] bg-cover bg-center opacity-10"}),a.jsx("div",{className:"bg-primary-900/80 backdrop-blur-sm rounded-xl p-8 md:p-12 relative",children:a.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-heading font-bold mb-6 gold-gradient",children:"Prêt à donner vie à votre projet ?"}),a.jsx("p",{className:"text-gray-300 mb-8",children:"Chaque projet est unique et mérite une attention particulière. Contactez-nous pour discuter de vos besoins et obtenir un devis personnalisé."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsx(M.a,{href:"/contact",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto bg-gradient-to-r from-accent-700 to-accent-500 text-white font-medium py-3 px-8 rounded-full transition-all hover:shadow-[0_0_15px_rgba(185,158,119,0.5)]",children:"Nous contacter"}),a.jsx(M.a,{href:"/reserver",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto bg-transparent border-2 border-accent-500 text-white font-medium py-3 px-8 rounded-full transition-all hover:bg-accent-500/10",children:"Réserver une session"})]})]})})]})]})})};var Zt=t=>t.type==="checkbox",ot=t=>t instanceof Date,Se=t=>t==null;const Wa=t=>typeof t=="object";var ae=t=>!Se(t)&&!Array.isArray(t)&&Wa(t)&&!ot(t),_f=t=>ae(t)&&t.target?Zt(t.target)?t.target.checked:t.target.value:t,jf=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Sf=(t,e)=>t.has(jf(e)),Ef=t=>{const e=t.constructor&&t.constructor.prototype;return ae(e)&&e.hasOwnProperty("isPrototypeOf")},qs=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xe(t){let e;const r=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(qs&&(t instanceof Blob||s))&&(r||ae(t)))if(e=r?[]:{},!r&&!Ef(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=xe(t[n]));else return t;return e}var Cr=t=>Array.isArray(t)?t.filter(Boolean):[],ue=t=>t===void 0,D=(t,e,r)=>{if(!e||!ae(t))return r;const s=Cr(e.split(/[,[\].]+?/)).reduce((n,i)=>Se(n)?n:n[i],t);return ue(s)||s===t?ue(t[e])?r:t[e]:s},Ve=t=>typeof t=="boolean",Bs=t=>/^\w*$/.test(t),Ha=t=>Cr(t.replace(/["|']|\]/g,"").split(/\.|\[/)),re=(t,e,r)=>{let s=-1;const n=Bs(e)?[e]:Ha(e),i=n.length,o=i-1;for(;++s<i;){const l=n[s];let c=r;if(s!==o){const d=t[l];c=ae(d)||Array.isArray(d)?d:isNaN(+n[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Fn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ie={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},We={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};X.createContext(null);var Pf=(t,e,r,s=!0)=>{const n={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Ie.all&&(e._proxyFormState[o]=!s||Ie.all),t[o]}});return n},bs=t=>Se(t)||!Wa(t);function et(t,e){if(bs(t)||bs(e))return t===e;if(ot(t)&&ot(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const n of r){const i=t[n];if(!s.includes(n))return!1;if(n!=="ref"){const o=e[n];if(ot(i)&&ot(o)||ae(i)&&ae(o)||Array.isArray(i)&&Array.isArray(o)?!et(i,o):i!==o)return!1}}return!0}var ze=t=>typeof t=="string",kf=(t,e,r,s,n)=>ze(t)?(s&&e.watch.add(t),D(r,t,n)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),D(r,i))):(s&&(e.watchAll=!0),r),Nf=(t,e,r,s,n)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:n||!0}}:{},qt=t=>Array.isArray(t)?t:[t],Un=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}},je=t=>ae(t)&&!Object.keys(t).length,zs=t=>t.type==="file",Me=t=>typeof t=="function",ur=t=>{if(!qs)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ja=t=>t.type==="select-multiple",Ws=t=>t.type==="radio",Of=t=>Ws(t)||Zt(t),as=t=>ur(t)&&t.isConnected;function Cf(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=ue(t)?s++:t[e[s++]];return t}function Tf(t){for(const e in t)if(t.hasOwnProperty(e)&&!ue(t[e]))return!1;return!0}function he(t,e){const r=Array.isArray(e)?e:Bs(e)?[e]:Ha(e),s=r.length===1?t:Cf(t,r),n=r.length-1,i=r[n];return s&&delete s[i],n!==0&&(ae(s)&&je(s)||Array.isArray(s)&&Tf(s))&&he(t,r.slice(0,-1)),t}var Ya=t=>{for(const e in t)if(Me(t[e]))return!0;return!1};function dr(t,e={}){const r=Array.isArray(t);if(ae(t)||r)for(const s in t)Array.isArray(t[s])||ae(t[s])&&!Ya(t[s])?(e[s]=Array.isArray(t[s])?[]:{},dr(t[s],e[s])):Se(t[s])||(e[s]=!0);return e}function Ga(t,e,r){const s=Array.isArray(t);if(ae(t)||s)for(const n in t)Array.isArray(t[n])||ae(t[n])&&!Ya(t[n])?ue(e)||bs(r[n])?r[n]=Array.isArray(t[n])?dr(t[n],[]):{...dr(t[n])}:Ga(t[n],Se(e)?{}:e[n],r[n]):r[n]=!et(t[n],e[n]);return r}var Rt=(t,e)=>Ga(t,e,dr(e));const Vn={value:!1,isValid:!1},qn={value:!0,isValid:!0};var Xa=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ue(t[0].attributes.value)?ue(t[0].value)||t[0].value===""?qn:{value:t[0].value,isValid:!0}:qn:Vn}return Vn},Ka=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>ue(t)?t:e?t===""?NaN:t&&+t:r&&ze(t)?new Date(t):s?s(t):t;const Bn={isValid:!1,value:null};var Qa=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Bn):Bn;function zn(t){const e=t.ref;return zs(e)?e.files:Ws(e)?Qa(t.refs).value:Ja(e)?[...e.selectedOptions].map(({value:r})=>r):Zt(e)?Xa(t.refs).value:Ka(ue(e.value)?t.ref.value:e.value,t)}var Af=(t,e,r,s)=>{const n={};for(const i of t){const o=D(e,i);o&&re(n,i,o._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:s}},hr=t=>t instanceof RegExp,Lt=t=>ue(t)?t:hr(t)?t.source:ae(t)?hr(t.value)?t.value.source:t.value:t,Wn=t=>({isOnSubmit:!t||t===Ie.onSubmit,isOnBlur:t===Ie.onBlur,isOnChange:t===Ie.onChange,isOnAll:t===Ie.all,isOnTouch:t===Ie.onTouched});const Hn="AsyncFunction";var Rf=t=>!!t&&!!t.validate&&!!(Me(t.validate)&&t.validate.constructor.name===Hn||ae(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Hn)),Lf=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Jn=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Bt=(t,e,r,s)=>{for(const n of r||Object.keys(t)){const i=D(t,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(Bt(l,e))break}else if(ae(l)&&Bt(l,e))break}}};function Yn(t,e,r){const s=D(t,r);if(s||Bs(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),o=D(e,i),l=D(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};n.pop()}return{name:r}}var $f=(t,e,r,s)=>{r(t);const{name:n,...i}=t;return je(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!s||Ie.all))},Df=(t,e,r)=>!t||!e||t===e||qt(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s))),If=(t,e,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(e||t):(r?s.isOnBlur:n.isOnBlur)?!t:(r?s.isOnChange:n.isOnChange)?t:!0,Mf=(t,e)=>!Cr(D(t,e)).length&&he(t,e),Ff=(t,e,r)=>{const s=qt(D(t,r));return re(s,"root",e[r]),re(t,r,s),t},or=t=>ze(t);function Gn(t,e,r="validate"){if(or(t)||Array.isArray(t)&&t.every(or)||Ve(t)&&!t)return{type:r,message:or(t)?t:"",ref:e}}var gt=t=>ae(t)&&!hr(t)?t:{value:t,message:""},Xn=async(t,e,r,s,n,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:v,validate:g,name:x,valueAsNumber:w,mount:j}=t._f,p=D(r,x);if(!j||e.has(x))return{};const y=l?l[0]:o,S=I=>{n&&y.reportValidity&&(y.setCustomValidity(Ve(I)?"":I||""),y.reportValidity())},k={},F=Ws(o),T=Zt(o),q=F||T,N=(w||zs(o))&&ue(o.value)&&ue(p)||ur(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,W=Nf.bind(null,x,s,k),B=(I,R,U,P=We.maxLength,L=We.minLength)=>{const K=I?R:U;k[x]={type:I?P:L,message:K,ref:o,...W(I?P:L,K)}};if(i?!Array.isArray(p)||!p.length:c&&(!q&&(N||Se(p))||Ve(p)&&!p||T&&!Xa(l).isValid||F&&!Qa(l).isValid)){const{value:I,message:R}=or(c)?{value:!!c,message:c}:gt(c);if(I&&(k[x]={type:We.required,message:R,ref:y,...W(We.required,R)},!s))return S(R),k}if(!N&&(!Se(h)||!Se(f))){let I,R;const U=gt(f),P=gt(h);if(!Se(p)&&!isNaN(p)){const L=o.valueAsNumber||p&&+p;Se(U.value)||(I=L>U.value),Se(P.value)||(R=L<P.value)}else{const L=o.valueAsDate||new Date(p),K=Q=>new Date(new Date().toDateString()+" "+Q),V=o.type=="time",J=o.type=="week";ze(U.value)&&p&&(I=V?K(p)>K(U.value):J?p>U.value:L>new Date(U.value)),ze(P.value)&&p&&(R=V?K(p)<K(P.value):J?p<P.value:L<new Date(P.value))}if((I||R)&&(B(!!I,U.message,P.message,We.max,We.min),!s))return S(k[x].message),k}if((d||u)&&!N&&(ze(p)||i&&Array.isArray(p))){const I=gt(d),R=gt(u),U=!Se(I.value)&&p.length>+I.value,P=!Se(R.value)&&p.length<+R.value;if((U||P)&&(B(U,I.message,R.message),!s))return S(k[x].message),k}if(v&&!N&&ze(p)){const{value:I,message:R}=gt(v);if(hr(I)&&!p.match(I)&&(k[x]={type:We.pattern,message:R,ref:o,...W(We.pattern,R)},!s))return S(R),k}if(g){if(Me(g)){const I=await g(p,r),R=Gn(I,y);if(R&&(k[x]={...R,...W(We.validate,R.message)},!s))return S(R.message),k}else if(ae(g)){let I={};for(const R in g){if(!je(I)&&!s)break;const U=Gn(await g[R](p,r),y,R);U&&(I={...U,...W(R,U.message)},S(U.message),s&&(k[x]=I))}if(!je(I)&&(k[x]={ref:y,...I},!s))return k}}return S(!0),k};const Uf={mode:Ie.onSubmit,reValidateMode:Ie.onChange,shouldFocusError:!0};function Vf(t={}){let e={...Uf,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Me(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let n=ae(e.defaultValues)||ae(e.values)?xe(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:xe(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:Un(),state:Un()},v=Wn(e.mode),g=Wn(e.reValidateMode),x=e.criteriaMode===Ie.all,w=m=>b=>{clearTimeout(d),d=setTimeout(m,b)},j=async m=>{if(!e.disabled&&(u.isValid||h.isValid||m)){const b=e.resolver?je((await N()).errors):await B(s,!0);b!==r.isValid&&f.state.next({isValid:b})}},p=(m,b)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((m||Array.from(l.mount)).forEach(_=>{_&&(b?re(r.validatingFields,_,b):he(r.validatingFields,_))}),f.state.next({validatingFields:r.validatingFields,isValidating:!je(r.validatingFields)}))},y=(m,b=[],_,A,C=!0,O=!0)=>{if(A&&_&&!e.disabled){if(o.action=!0,O&&Array.isArray(D(s,m))){const $=_(D(s,m),A.argA,A.argB);C&&re(s,m,$)}if(O&&Array.isArray(D(r.errors,m))){const $=_(D(r.errors,m),A.argA,A.argB);C&&re(r.errors,m,$),Mf(r.errors,m)}if((u.touchedFields||h.touchedFields)&&O&&Array.isArray(D(r.touchedFields,m))){const $=_(D(r.touchedFields,m),A.argA,A.argB);C&&re(r.touchedFields,m,$)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Rt(n,i)),f.state.next({name:m,isDirty:R(m,b),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else re(i,m,b)},S=(m,b)=>{re(r.errors,m,b),f.state.next({errors:r.errors})},k=m=>{r.errors=m,f.state.next({errors:r.errors,isValid:!1})},F=(m,b,_,A)=>{const C=D(s,m);if(C){const O=D(i,m,ue(_)?D(n,m):_);ue(O)||A&&A.defaultChecked||b?re(i,m,b?O:zn(C._f)):L(m,O),o.mount&&j()}},T=(m,b,_,A,C)=>{let O=!1,$=!1;const G={name:m};if(!e.disabled){if(!_||A){(u.isDirty||h.isDirty)&&($=r.isDirty,r.isDirty=G.isDirty=R(),O=$!==G.isDirty);const le=et(D(n,m),b);$=!!D(r.dirtyFields,m),le?he(r.dirtyFields,m):re(r.dirtyFields,m,!0),G.dirtyFields=r.dirtyFields,O=O||(u.dirtyFields||h.dirtyFields)&&$!==!le}if(_){const le=D(r.touchedFields,m);le||(re(r.touchedFields,m,_),G.touchedFields=r.touchedFields,O=O||(u.touchedFields||h.touchedFields)&&le!==_)}O&&C&&f.state.next(G)}return O?G:{}},q=(m,b,_,A)=>{const C=D(r.errors,m),O=(u.isValid||h.isValid)&&Ve(b)&&r.isValid!==b;if(e.delayError&&_?(c=w(()=>S(m,_)),c(e.delayError)):(clearTimeout(d),c=null,_?re(r.errors,m,_):he(r.errors,m)),(_?!et(C,_):C)||!je(A)||O){const $={...A,...O&&Ve(b)?{isValid:b}:{},errors:r.errors,name:m};r={...r,...$},f.state.next($)}},N=async m=>{p(m,!0);const b=await e.resolver(i,e.context,Af(m||l.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return p(m),b},W=async m=>{const{errors:b}=await N(m);if(m)for(const _ of m){const A=D(b,_);A?re(r.errors,_,A):he(r.errors,_)}else r.errors=b;return b},B=async(m,b,_={valid:!0})=>{for(const A in m){const C=m[A];if(C){const{_f:O,...$}=C;if(O){const G=l.array.has(O.name),le=C._f&&Rf(C._f);le&&u.validatingFields&&p([A],!0);const ve=await Xn(C,l.disabled,i,x,e.shouldUseNativeValidation&&!b,G);if(le&&u.validatingFields&&p([A]),ve[O.name]&&(_.valid=!1,b))break;!b&&(D(ve,O.name)?G?Ff(r.errors,ve,O.name):re(r.errors,O.name,ve[O.name]):he(r.errors,O.name))}!je($)&&await B($,b,_)}}return _.valid},I=()=>{for(const m of l.unMount){const b=D(s,m);b&&(b._f.refs?b._f.refs.every(_=>!as(_)):!as(b._f.ref))&&Br(m)}l.unMount=new Set},R=(m,b)=>!e.disabled&&(m&&b&&re(i,m,b),!et(Ye(),n)),U=(m,b,_)=>kf(m,l,{...o.mount?i:ue(b)?n:ze(m)?{[m]:b}:b},_,b),P=m=>Cr(D(o.mount?i:n,m,e.shouldUnregister?D(n,m,[]):[])),L=(m,b,_={})=>{const A=D(s,m);let C=b;if(A){const O=A._f;O&&(!O.disabled&&re(i,m,Ka(b,O)),C=ur(O.ref)&&Se(b)?"":b,Ja(O.ref)?[...O.ref.options].forEach($=>$.selected=C.includes($.value)):O.refs?Zt(O.ref)?O.refs.length>1?O.refs.forEach($=>(!$.defaultChecked||!$.disabled)&&($.checked=Array.isArray(C)?!!C.find(G=>G===$.value):C===$.value)):O.refs[0]&&(O.refs[0].checked=!!C):O.refs.forEach($=>$.checked=$.value===C):zs(O.ref)?O.ref.value="":(O.ref.value=C,O.ref.type||f.state.next({name:m,values:xe(i)})))}(_.shouldDirty||_.shouldTouch)&&T(m,C,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&Pe(m)},K=(m,b,_)=>{for(const A in b){const C=b[A],O=`${m}.${A}`,$=D(s,O);(l.array.has(m)||ae(C)||$&&!$._f)&&!ot(C)?K(O,C,_):L(O,C,_)}},V=(m,b,_={})=>{const A=D(s,m),C=l.array.has(m),O=xe(b);re(i,m,O),C?(f.array.next({name:m,values:xe(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&_.shouldDirty&&f.state.next({name:m,dirtyFields:Rt(n,i),isDirty:R(m,O)})):A&&!A._f&&!Se(O)?K(m,O,_):L(m,O,_),Jn(m,l)&&f.state.next({...r}),f.state.next({name:o.mount?m:void 0,values:xe(i)})},J=async m=>{o.mount=!0;const b=m.target;let _=b.name,A=!0;const C=D(s,_),O=$=>{A=Number.isNaN($)||ot($)&&isNaN($.getTime())||et($,D(i,_,$))};if(C){let $,G;const le=b.type?zn(C._f):_f(m),ve=m.type===Fn.BLUR||m.type===Fn.FOCUS_OUT,bo=!Lf(C._f)&&!e.resolver&&!D(r.errors,_)&&!C._f.deps||If(ve,D(r.touchedFields,_),r.isSubmitted,g,v),Wr=Jn(_,l,ve);re(i,_,le),ve?(C._f.onBlur&&C._f.onBlur(m),c&&c(0)):C._f.onChange&&C._f.onChange(m);const Hr=T(_,le,ve),xo=!je(Hr)||Wr;if(!ve&&f.state.next({name:_,type:m.type,values:xe(i)}),bo)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?ve&&j():ve||j()),xo&&f.state.next({name:_,...Wr?{}:Hr});if(!ve&&Wr&&f.state.next({...r}),e.resolver){const{errors:ln}=await N([_]);if(O(le),A){const wo=Yn(r.errors,s,_),cn=Yn(ln,s,wo.name||_);$=cn.error,_=cn.name,G=je(ln)}}else p([_],!0),$=(await Xn(C,l.disabled,i,x,e.shouldUseNativeValidation))[_],p([_]),O(le),A&&($?G=!1:(u.isValid||h.isValid)&&(G=await B(s,!0)));A&&(C._f.deps&&Pe(C._f.deps),q(_,G,$,Hr))}},Q=(m,b)=>{if(D(r.errors,b)&&m.focus)return m.focus(),1},Pe=async(m,b={})=>{let _,A;const C=qt(m);if(e.resolver){const O=await W(ue(m)?m:C);_=je(O),A=m?!C.some($=>D(O,$)):_}else m?(A=(await Promise.all(C.map(async O=>{const $=D(s,O);return await B($&&$._f?{[O]:$}:$)}))).every(Boolean),!(!A&&!r.isValid)&&j()):A=_=await B(s);return f.state.next({...!ze(m)||(u.isValid||h.isValid)&&_!==r.isValid?{}:{name:m},...e.resolver||!m?{isValid:_}:{},errors:r.errors}),b.shouldFocus&&!A&&Bt(s,Q,m?C:l.mount),A},Ye=m=>{const b={...o.mount?i:n};return ue(m)?b:ze(m)?D(b,m):m.map(_=>D(b,_))},er=(m,b)=>({invalid:!!D((b||r).errors,m),isDirty:!!D((b||r).dirtyFields,m),error:D((b||r).errors,m),isValidating:!!D(r.validatingFields,m),isTouched:!!D((b||r).touchedFields,m)}),ho=m=>{m&&qt(m).forEach(b=>he(r.errors,b)),f.state.next({errors:m?r.errors:{}})},Zs=(m,b,_)=>{const A=(D(s,m,{_f:{}})._f||{}).ref,C=D(r.errors,m)||{},{ref:O,message:$,type:G,...le}=C;re(r.errors,m,{...le,...b,ref:A}),f.state.next({name:m,errors:r.errors,isValid:!1}),_&&_.shouldFocus&&A&&A.focus&&A.focus()},fo=(m,b)=>Me(m)?f.state.subscribe({next:_=>m(U(void 0,b),_)}):U(m,b,!0),en=m=>f.state.subscribe({next:b=>{Df(m.name,b.name,m.exact)&&$f(b,m.formState||u,vo,m.reRenderRoot)&&m.callback({values:{...i},...r,...b})}}).unsubscribe,mo=m=>(o.mount=!0,h={...h,...m.formState},en({...m,formState:h})),Br=(m,b={})=>{for(const _ of m?qt(m):l.mount)l.mount.delete(_),l.array.delete(_),b.keepValue||(he(s,_),he(i,_)),!b.keepError&&he(r.errors,_),!b.keepDirty&&he(r.dirtyFields,_),!b.keepTouched&&he(r.touchedFields,_),!b.keepIsValidating&&he(r.validatingFields,_),!e.shouldUnregister&&!b.keepDefaultValue&&he(n,_);f.state.next({values:xe(i)}),f.state.next({...r,...b.keepDirty?{isDirty:R()}:{}}),!b.keepIsValid&&j()},tn=({disabled:m,name:b})=>{(Ve(m)&&o.mount||m||l.disabled.has(b))&&(m?l.disabled.add(b):l.disabled.delete(b))},zr=(m,b={})=>{let _=D(s,m);const A=Ve(b.disabled)||Ve(e.disabled);return re(s,m,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:m}},name:m,mount:!0,...b}}),l.mount.add(m),_?tn({disabled:Ve(b.disabled)?b.disabled:e.disabled,name:m}):F(m,!0,b.value),{...A?{disabled:b.disabled||e.disabled}:{},...e.progressive?{required:!!b.required,min:Lt(b.min),max:Lt(b.max),minLength:Lt(b.minLength),maxLength:Lt(b.maxLength),pattern:Lt(b.pattern)}:{},name:m,onChange:J,onBlur:J,ref:C=>{if(C){zr(m,b),_=D(s,m);const O=ue(C.value)&&C.querySelectorAll&&C.querySelectorAll("input,select,textarea")[0]||C,$=Of(O),G=_._f.refs||[];if($?G.find(le=>le===O):O===_._f.ref)return;re(s,m,{_f:{..._._f,...$?{refs:[...G.filter(as),O,...Array.isArray(D(n,m))?[{}]:[]],ref:{type:O.type,name:m}}:{ref:O}}}),F(m,!1,void 0,O)}else _=D(s,m,{}),_._f&&(_._f.mount=!1),(e.shouldUnregister||b.shouldUnregister)&&!(Sf(l.array,m)&&o.action)&&l.unMount.add(m)}}},rn=()=>e.shouldFocusError&&Bt(s,Q,l.mount),po=m=>{Ve(m)&&(f.state.next({disabled:m}),Bt(s,(b,_)=>{const A=D(s,_);A&&(b.disabled=A._f.disabled||m,Array.isArray(A._f.refs)&&A._f.refs.forEach(C=>{C.disabled=A._f.disabled||m}))},0,!1))},sn=(m,b)=>async _=>{let A;_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let C=xe(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:O,values:$}=await N();r.errors=O,C=$}else await B(s);if(l.disabled.size)for(const O of l.disabled)re(C,O,void 0);if(he(r.errors,"root"),je(r.errors)){f.state.next({errors:{}});try{await m(C,_)}catch(O){A=O}}else b&&await b({...r.errors},_),rn(),setTimeout(rn);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:je(r.errors)&&!A,submitCount:r.submitCount+1,errors:r.errors}),A)throw A},go=(m,b={})=>{D(s,m)&&(ue(b.defaultValue)?V(m,xe(D(n,m))):(V(m,b.defaultValue),re(n,m,xe(b.defaultValue))),b.keepTouched||he(r.touchedFields,m),b.keepDirty||(he(r.dirtyFields,m),r.isDirty=b.defaultValue?R(m,xe(D(n,m))):R()),b.keepError||(he(r.errors,m),u.isValid&&j()),f.state.next({...r}))},nn=(m,b={})=>{const _=m?xe(m):n,A=xe(_),C=je(m),O=C?n:A;if(b.keepDefaultValues||(n=_),!b.keepValues){if(b.keepDirtyValues){const $=new Set([...l.mount,...Object.keys(Rt(n,i))]);for(const G of Array.from($))D(r.dirtyFields,G)?re(O,G,D(i,G)):V(G,D(O,G))}else{if(qs&&ue(m))for(const $ of l.mount){const G=D(s,$);if(G&&G._f){const le=Array.isArray(G._f.refs)?G._f.refs[0]:G._f.ref;if(ur(le)){const ve=le.closest("form");if(ve){ve.reset();break}}}}for(const $ of l.mount)V($,D(O,$))}i=xe(O),f.array.next({values:{...O}}),f.state.next({values:{...O}})}l={mount:b.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!b.keepIsValid||!!b.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:b.keepSubmitCount?r.submitCount:0,isDirty:C?!1:b.keepDirty?r.isDirty:!!(b.keepDefaultValues&&!et(m,n)),isSubmitted:b.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:C?{}:b.keepDirtyValues?b.keepDefaultValues&&i?Rt(n,i):r.dirtyFields:b.keepDefaultValues&&m?Rt(n,m):b.keepDirty?r.dirtyFields:{},touchedFields:b.keepTouched?r.touchedFields:{},errors:b.keepErrors?r.errors:{},isSubmitSuccessful:b.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},an=(m,b)=>nn(Me(m)?m(i):m,b),yo=(m,b={})=>{const _=D(s,m),A=_&&_._f;if(A){const C=A.refs?A.refs[0]:A.ref;C.focus&&(C.focus(),b.shouldSelect&&Me(C.select)&&C.select())}},vo=m=>{r={...r,...m}},on={control:{register:zr,unregister:Br,getFieldState:er,handleSubmit:sn,setError:Zs,_subscribe:en,_runSchema:N,_getWatch:U,_getDirty:R,_setValid:j,_setFieldArray:y,_setDisabledField:tn,_setErrors:k,_getFieldArray:P,_reset:nn,_resetDefaultValues:()=>Me(e.defaultValues)&&e.defaultValues().then(m=>{an(m,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:po,_subjects:f,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(m){o=m},get _defaultValues(){return n},get _names(){return l},set _names(m){l=m},get _formState(){return r},get _options(){return e},set _options(m){e={...e,...m}}},subscribe:mo,trigger:Pe,register:zr,handleSubmit:sn,watch:fo,setValue:V,getValues:Ye,reset:an,resetField:go,clearErrors:ho,unregister:Br,setError:Zs,setFocus:yo,getFieldState:er};return{...on,formControl:on}}const qf=typeof window<"u"?X.useLayoutEffect:X.useEffect;function Za(t={}){const e=X.useRef(void 0),r=X.useRef(void 0),[s,n]=X.useState({isDirty:!1,isValidating:!1,isLoading:Me(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Me(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Vf(t),formState:s},t.formControl&&t.defaultValues&&!Me(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,qf(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),X.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),X.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode),t.errors&&!je(t.errors)&&i._setErrors(t.errors)},[i,t.errors,t.mode,t.reValidateMode]),X.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),X.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),X.useEffect(()=>{t.values&&!et(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,n(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),X.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Pf(s,i),e.current}var Bf=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},xs.apply(this,arguments)}function zf(t,e){if(t==null)return{};var r={},s=Object.keys(t),n,i;for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function ir(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wf(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ws(t,e)}function ws(t,e){return ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},ws(t,e)}var Tr=function(t){Wf(e,t);function e(){var s;return s=t.call(this)||this,s.handleExpired=s.handleExpired.bind(ir(s)),s.handleErrored=s.handleErrored.bind(ir(s)),s.handleChange=s.handleChange.bind(ir(s)),s.handleRecaptchaRef=s.handleRecaptchaRef.bind(ir(s)),s}var r=e.prototype;return r.getCaptchaFunction=function(n){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[n]:this.props.grecaptcha[n]:null},r.getValue=function(){var n=this.getCaptchaFunction("getResponse");return n&&this._widgetId!==void 0?n(this._widgetId):null},r.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},r.execute=function(){var n=this.getCaptchaFunction("execute");if(n&&this._widgetId!==void 0)return n(this._widgetId);this._executeRequested=!0},r.executeAsync=function(){var n=this;return new Promise(function(i,o){n.executionResolve=i,n.executionReject=o,n.execute()})},r.reset=function(){var n=this.getCaptchaFunction("reset");n&&this._widgetId!==void 0&&n(this._widgetId)},r.forceReset=function(){var n=this.getCaptchaFunction("reset");n&&n()},r.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},r.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},r.handleChange=function(n){this.props.onChange&&this.props.onChange(n),this.executionResolve&&(this.executionResolve(n),delete this.executionReject,delete this.executionResolve)},r.explicitRender=function(){var n=this.getCaptchaFunction("render");if(n&&this._widgetId===void 0){var i=document.createElement("div");this._widgetId=n(i,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(i)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},r.componentDidMount=function(){this.explicitRender()},r.componentDidUpdate=function(){this.explicitRender()},r.handleRecaptchaRef=function(n){this.captcha=n},r.render=function(){var n=this.props;n.sitekey,n.onChange,n.theme,n.type,n.tabindex,n.onExpired,n.onErrored,n.size,n.stoken,n.grecaptcha,n.badge,n.hl,n.isolated;var i=zf(n,Bf);return E.createElement("div",xs({},i,{ref:this.handleRecaptchaRef}))},e}(E.Component);Tr.displayName="ReCAPTCHA";Tr.propTypes={sitekey:Oe.string.isRequired,onChange:Oe.func,grecaptcha:Oe.object,theme:Oe.oneOf(["dark","light"]),type:Oe.oneOf(["image","audio"]),tabindex:Oe.number,onExpired:Oe.func,onErrored:Oe.func,size:Oe.oneOf(["compact","normal","invisible"]),stoken:Oe.string,hl:Oe.string,badge:Oe.oneOf(["bottomright","bottomleft","inline"]),isolated:Oe.bool};Tr.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var eo={exports:{}},ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pe=typeof Symbol=="function"&&Symbol.for,Hs=pe?Symbol.for("react.element"):60103,Js=pe?Symbol.for("react.portal"):60106,Ar=pe?Symbol.for("react.fragment"):60107,Rr=pe?Symbol.for("react.strict_mode"):60108,Lr=pe?Symbol.for("react.profiler"):60114,$r=pe?Symbol.for("react.provider"):60109,Dr=pe?Symbol.for("react.context"):60110,Ys=pe?Symbol.for("react.async_mode"):60111,Ir=pe?Symbol.for("react.concurrent_mode"):60111,Mr=pe?Symbol.for("react.forward_ref"):60112,Fr=pe?Symbol.for("react.suspense"):60113,Hf=pe?Symbol.for("react.suspense_list"):60120,Ur=pe?Symbol.for("react.memo"):60115,Vr=pe?Symbol.for("react.lazy"):60116,Jf=pe?Symbol.for("react.block"):60121,Yf=pe?Symbol.for("react.fundamental"):60117,Gf=pe?Symbol.for("react.responder"):60118,Xf=pe?Symbol.for("react.scope"):60119;function Le(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hs:switch(t=t.type,t){case Ys:case Ir:case Ar:case Lr:case Rr:case Fr:return t;default:switch(t=t&&t.$$typeof,t){case Dr:case Mr:case Vr:case Ur:case $r:return t;default:return e}}case Js:return e}}}function to(t){return Le(t)===Ir}ee.AsyncMode=Ys;ee.ConcurrentMode=Ir;ee.ContextConsumer=Dr;ee.ContextProvider=$r;ee.Element=Hs;ee.ForwardRef=Mr;ee.Fragment=Ar;ee.Lazy=Vr;ee.Memo=Ur;ee.Portal=Js;ee.Profiler=Lr;ee.StrictMode=Rr;ee.Suspense=Fr;ee.isAsyncMode=function(t){return to(t)||Le(t)===Ys};ee.isConcurrentMode=to;ee.isContextConsumer=function(t){return Le(t)===Dr};ee.isContextProvider=function(t){return Le(t)===$r};ee.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hs};ee.isForwardRef=function(t){return Le(t)===Mr};ee.isFragment=function(t){return Le(t)===Ar};ee.isLazy=function(t){return Le(t)===Vr};ee.isMemo=function(t){return Le(t)===Ur};ee.isPortal=function(t){return Le(t)===Js};ee.isProfiler=function(t){return Le(t)===Lr};ee.isStrictMode=function(t){return Le(t)===Rr};ee.isSuspense=function(t){return Le(t)===Fr};ee.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ar||t===Ir||t===Lr||t===Rr||t===Fr||t===Hf||typeof t=="object"&&t!==null&&(t.$$typeof===Vr||t.$$typeof===Ur||t.$$typeof===$r||t.$$typeof===Dr||t.$$typeof===Mr||t.$$typeof===Yf||t.$$typeof===Gf||t.$$typeof===Xf||t.$$typeof===Jf)};ee.typeOf=Le;eo.exports=ee;var Kf=eo.exports,Gs=Kf,Qf={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Zf={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},em={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ro={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Xs={};Xs[Gs.ForwardRef]=em;Xs[Gs.Memo]=ro;function Kn(t){return Gs.isMemo(t)?ro:Xs[t.$$typeof]||Qf}var tm=Object.defineProperty,rm=Object.getOwnPropertyNames,Qn=Object.getOwnPropertySymbols,sm=Object.getOwnPropertyDescriptor,nm=Object.getPrototypeOf,Zn=Object.prototype;function so(t,e,r){if(typeof e!="string"){if(Zn){var s=nm(e);s&&s!==Zn&&so(t,s,r)}var n=rm(e);Qn&&(n=n.concat(Qn(e)));for(var i=Kn(t),o=Kn(e),l=0;l<n.length;++l){var c=n[l];if(!Zf[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var d=sm(e,c);try{tm(t,c,d)}catch{}}}}return t}var im=so;const am=mr(im);function _s(){return _s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_s.apply(this,arguments)}function om(t,e){if(t==null)return{};var r={},s=Object.keys(t),n,i;for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function lm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var $e={},cm=0;function um(t,e){return e=e||{},function(s){var n=s.displayName||s.name||"Component",i=function(l){lm(c,l);function c(u,h){var f;return f=l.call(this,u,h)||this,f.state={},f.__scriptURL="",f}var d=c.prototype;return d.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+cm++),this.__scriptLoaderID},d.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},d.asyncScriptLoaderHandleLoad=function(h){var f=this;this.setState(h,function(){return f.props.asyncScriptOnLoad&&f.props.asyncScriptOnLoad(f.state)})},d.asyncScriptLoaderTriggerOnScriptLoaded=function(){var h=$e[this.__scriptURL];if(!h||!h.loaded)throw new Error("Script is not loaded.");for(var f in h.observers)h.observers[f](h);delete window[e.callbackName]},d.componentDidMount=function(){var h=this,f=this.setupScriptURL(),v=this.asyncScriptLoaderGetScriptLoaderID(),g=e,x=g.globalName,w=g.callbackName,j=g.scriptId;if(x&&typeof window[x]<"u"&&($e[f]={loaded:!0,observers:{}}),$e[f]){var p=$e[f];if(p&&(p.loaded||p.errored)){this.asyncScriptLoaderHandleLoad(p);return}p.observers[v]=function(T){return h.asyncScriptLoaderHandleLoad(T)};return}var y={};y[v]=function(T){return h.asyncScriptLoaderHandleLoad(T)},$e[f]={loaded:!1,observers:y};var S=document.createElement("script");S.src=f,S.async=!0;for(var k in e.attributes)S.setAttribute(k,e.attributes[k]);j&&(S.id=j);var F=function(q){if($e[f]){var N=$e[f],W=N.observers;for(var B in W)q(W[B])&&delete W[B]}};w&&typeof window<"u"&&(window[w]=function(){return h.asyncScriptLoaderTriggerOnScriptLoaded()}),S.onload=function(){var T=$e[f];T&&(T.loaded=!0,F(function(q){return w?!1:(q(T),!0)}))},S.onerror=function(){var T=$e[f];T&&(T.errored=!0,F(function(q){return q(T),!0}))},document.body.appendChild(S)},d.componentWillUnmount=function(){var h=this.__scriptURL;if(e.removeOnUnmount===!0)for(var f=document.getElementsByTagName("script"),v=0;v<f.length;v+=1)f[v].src.indexOf(h)>-1&&f[v].parentNode&&f[v].parentNode.removeChild(f[v]);var g=$e[h];g&&(delete g.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete $e[h])},d.render=function(){var h=e.globalName,f=this.props;f.asyncScriptOnLoad;var v=f.forwardedRef,g=om(f,["asyncScriptOnLoad","forwardedRef"]);return h&&typeof window<"u"&&(g[h]=typeof window[h]<"u"?window[h]:void 0),g.ref=v,E.createElement(s,g)},c}(E.Component),o=E.forwardRef(function(l,c){return E.createElement(i,_s({},l,{forwardedRef:c}))});return o.displayName="AsyncScriptLoader("+n+")",o.propTypes={asyncScriptOnLoad:Oe.func},am(o,s)}}var js="onloadcallback",dm="grecaptcha";function Ss(){return typeof window<"u"&&window.recaptchaOptions||{}}function hm(){var t=Ss(),e=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return t.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+js+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+js+"&render=explicit"}const fm=um(hm,{callbackName:js,globalName:dm,attributes:Ss().nonce?{nonce:Ss().nonce}:{}})(Tr),mm=()=>{const[t,e]=E.useState(!1),[r,s]=E.useState(!1),[n,i]=E.useState(null),[o,l]=E.useState(null),{register:c,handleSubmit:d,reset:u,formState:{errors:h}}=Za(),f=async g=>{if(!n){alert("Veuillez confirmer que vous n'êtes pas un robot");return}e(!0),l(null);try{const{error:x}=await Y.from("contact_messages").insert([{name:g.name,email:g.email,subject:g.subject,message:g.message,status:"new"}]);if(x)throw x;s(!0),u(),i(null)}catch(x){l("Une erreur est survenue lors de l'envoi du message. Veuillez réessayer."),console.error("Error submitting message:",x)}finally{e(!1)}},v=g=>{i(g)};return a.jsx("div",{className:"bg-primary-900 rounded-xl p-6 md:p-8",children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-accent-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Message envoyé !"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Merci de nous avoir contacté. Nous vous répondrons dans les plus brefs délais."}),a.jsx("button",{className:"bg-accent-600 hover:bg-accent-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",onClick:()=>s(!1),children:"Envoyer un autre message"})]}):a.jsxs("form",{onSubmit:d(f),className:"space-y-6",children:[o&&a.jsx("div",{className:"bg-red-500/20 text-red-400 p-4 rounded-lg text-sm",children:o}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Nom"}),a.jsx("input",{type:"text",id:"name",className:`w-full px-4 py-2.5 bg-primary-800 border ${h.name?"border-red-500":"border-primary-700"} rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-500 text-white`,placeholder:"Votre nom",...c("name",{required:"Le nom est requis"})}),h.name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"email",className:`w-full px-4 py-2.5 bg-primary-800 border ${h.email?"border-red-500":"border-primary-700"} rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-500 text-white`,placeholder:"votre@email.com",...c("email",{required:"L'email est requis",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Email invalide"}})}),h.email&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-300 mb-1",children:"Sujet"}),a.jsx("input",{type:"text",id:"subject",className:`w-full px-4 py-2.5 bg-primary-800 border ${h.subject?"border-red-500":"border-primary-700"} rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-500 text-white`,placeholder:"Sujet de votre message",...c("subject",{required:"Le sujet est requis"})}),h.subject&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.subject.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:"Message"}),a.jsx("textarea",{id:"message",rows:5,className:`w-full px-4 py-2.5 bg-primary-800 border ${h.message?"border-red-500":"border-primary-700"} rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-500 text-white resize-none`,placeholder:"Votre message",...c("message",{required:"Le message est requis",minLength:{value:10,message:"Le message doit contenir au moins 10 caractères"}})}),h.message&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.message.message})]}),a.jsx("div",{children:a.jsx(fm,{sitekey:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",onChange:v,theme:"dark"})}),a.jsx("button",{type:"submit",disabled:t,className:`w-full py-3 px-4 rounded-lg font-medium transition-all ${t?"bg-accent-700 cursor-not-allowed":"bg-accent-600 hover:bg-accent-700 hover:shadow-[0_0_15px_rgba(185,158,119,0.3)]"} text-white`,children:t?"Envoi en cours...":"Envoyer"})]})})},pm=()=>{const t=e=>{switch(e){case"instagram":return a.jsx(mi,{className:"h-6 w-6"});case"youtube":return a.jsx(vi,{className:"h-6 w-6"});case"music":return a.jsx(pi,{className:"h-6 w-6"});case"video":return a.jsx(ks,{className:"h-6 w-6"});default:return null}};return a.jsx("div",{className:"pt-24 pb-20 bg-black",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-16 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-4 gold-gradient",children:"Contact"}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Une question, un projet ou une idée de collaboration ? N'hésitez pas à nous contacter, nous vous répondrons dans les plus brefs délais."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs(M.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-6 gold-gradient",children:"Envoyez-nous un message"}),a.jsx(mm,{})]}),a.jsxs(M.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6},className:"lg:pl-10",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-6 gold-gradient",children:"Informations de contact"}),a.jsx("div",{className:"bg-primary-900 rounded-xl p-6 md:p-8 mb-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Adresse"}),a.jsxs("p",{className:"text-gray-400",children:["32 Rue de la Musique",a.jsx("br",{}),"75011 Paris, France"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Contact"}),a.jsx("p",{className:"text-gray-400 mb-1",children:"contact@blackroadmusic.com"}),a.jsx("p",{className:"text-gray-400",children:"+33 1 23 45 67 89"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Réseaux Sociaux"}),a.jsx("div",{className:"flex flex-wrap gap-4",children:Yi.map(e=>a.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"bg-primary-800 p-2.5 rounded-full text-white hover:bg-accent-700 transition-colors","aria-label":e.platform,children:t(e.icon)},e.id))})]})]})}),a.jsx("div",{className:"rounded-xl overflow-hidden h-60 md:h-80 relative",children:a.jsx("iframe",{title:"Black Road Music Location",className:"absolute inset-0 w-full h-full border-0",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.6488531248005!2d2.3785151999999997!3d48.8629861!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66ddb27f321c3%3A0x9fbfa564159de28!2s75011%20Paris%2C%20France!5e0!3m2!1sfr!2sfr!4v1634567890123!5m2!1sfr!2sfr",loading:"lazy",style:{filter:"grayscale(100%) invert(92%) contrast(83%)"}})})]})]})]})})},gm=()=>a.jsx("div",{className:"pt-24 pb-20 bg-black",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"prose prose-invert max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-heading font-bold mb-8 gold-gradient",children:"Politique de Confidentialité"}),a.jsxs("p",{className:"text-gray-300 mb-8",children:["Dernière mise à jour : ",new Date().toLocaleDateString("fr-FR")]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"1. Collecte des Informations"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Black Road Music collecte les informations suivantes lorsque vous utilisez notre site web :"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2",children:[a.jsx("li",{children:"Nom et prénom"}),a.jsx("li",{children:"Adresse e-mail"}),a.jsx("li",{children:"Messages envoyés via le formulaire de contact"}),a.jsx("li",{children:"Données de navigation (cookies)"})]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"2. Utilisation des Informations"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Les informations collectées sont utilisées pour :"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2",children:[a.jsx("li",{children:"Répondre à vos demandes de contact"}),a.jsx("li",{children:"Améliorer notre site web et nos services"}),a.jsx("li",{children:"Vous informer sur nos actualités et offres (avec votre consentement)"}),a.jsx("li",{children:"Assurer la sécurité de notre site"})]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"3. Protection des Données"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Nous mettons en œuvre des mesures de sécurité pour protéger vos informations :"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2",children:[a.jsx("li",{children:"Utilisation du protocole HTTPS"}),a.jsx("li",{children:"Protection contre les attaques par force brute"}),a.jsx("li",{children:"Accès restreint aux données personnelles"}),a.jsx("li",{children:"Mise à jour régulière de nos systèmes de sécurité"})]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"4. Vos Droits"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Conformément au RGPD, vous disposez des droits suivants :"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2",children:[a.jsx("li",{children:"Droit d'accès à vos données"}),a.jsx("li",{children:"Droit de rectification"}),a.jsx("li",{children:"Droit à l'effacement"}),a.jsx("li",{children:"Droit à la limitation du traitement"}),a.jsx("li",{children:"Droit à la portabilité des données"}),a.jsx("li",{children:"Droit d'opposition"})]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"5. Cookies"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Notre site utilise des cookies pour améliorer votre expérience. Vous pouvez les désactiver dans les paramètres de votre navigateur."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"6. Contact"}),a.jsxs("p",{className:"text-gray-300",children:["Pour toute question concernant notre politique de confidentialité, contactez-nous à :",a.jsx("br",{}),"Email : privacy@blackroadmusic.com",a.jsx("br",{}),"Adresse : 32 Rue de la Musique, 75011 Paris, France"]})]})]})})}),ym=()=>a.jsx("div",{className:"pt-24 pb-20 bg-black",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"prose prose-invert max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-heading font-bold mb-8 gold-gradient",children:"Mentions Légales"}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"1. Informations Légales"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Le site blackroadmusic.com est édité par :"}),a.jsxs("div",{className:"text-gray-300 mb-6",children:[a.jsx("p",{children:"Black Road Music SARL"}),a.jsx("p",{children:"32 Rue de la Musique"}),a.jsx("p",{children:"75011 Paris, France"}),a.jsx("p",{children:"SIRET : XX XXX XXX XXXXX"}),a.jsx("p",{children:"Capital social : XX XXX €"}),a.jsx("p",{children:"TVA Intracommunautaire : FR XX XXX XXX XXX"})]}),a.jsxs("p",{className:"text-gray-300",children:["Directeur de la publication : [Votre Nom]",a.jsx("br",{}),"Email : contact@blackroadmusic.com",a.jsx("br",{}),"Téléphone : +33 1 23 45 67 89"]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"2. Hébergement"}),a.jsxs("p",{className:"text-gray-300",children:["Le site est hébergé par :",a.jsx("br",{}),"[Nom de l'hébergeur]",a.jsx("br",{}),"[Adresse de l'hébergeur]",a.jsx("br",{}),"[Contact de l'hébergeur]"]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"3. Propriété Intellectuelle"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"L'ensemble du contenu de ce site (textes, images, vidéos, logos, etc.) est protégé par le droit d'auteur et est la propriété exclusive de Black Road Music SARL."}),a.jsx("p",{className:"text-gray-300",children:"Toute reproduction, représentation, modification, publication, transmission, ou plus généralement toute exploitation non autorisée du site et de son contenu est strictement interdite."})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"4. Données Personnelles"}),a.jsxs("p",{className:"text-gray-300",children:["Les informations concernant la collecte et le traitement des données personnelles sont détaillées dans notre ",a.jsx("a",{href:"/politique-de-confidentialite",className:"text-accent-400 hover:text-accent-300",children:"Politique de Confidentialité"}),"."]})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"5. Cookies"}),a.jsxs("p",{className:"text-gray-300",children:["Le site utilise des cookies pour améliorer l'expérience utilisateur. Pour plus d'informations, consultez notre ",a.jsx("a",{href:"/politique-de-confidentialite#cookies",className:"text-accent-400 hover:text-accent-300",children:"Politique de Cookies"}),"."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4 gold-gradient",children:"6. Droit Applicable"}),a.jsx("p",{className:"text-gray-300",children:"Les présentes mentions légales sont régies par le droit français. En cas de litige, les tribunaux français seront seuls compétents."})]})]})})}),Ks=Ns((t,e)=>({bookings:[],messages:[],isLoading:!1,error:null,pagination:{page:1,pageSize:10,total:0},setPagination:r=>{t(s=>({pagination:{...s.pagination,...r}}))},fetchBookings:async()=>{t({isLoading:!0,error:null});try{const{pagination:r}=e(),s=(r.page-1)*r.pageSize,n=s+r.pageSize-1,{data:i,error:o,count:l}=await Y.from("studio_bookings").select("*",{count:"exact"}).order("date",{ascending:!0}).range(s,n);if(o)throw o;t({bookings:i,pagination:{...e().pagination,total:l||0}})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},fetchMessages:async()=>{t({isLoading:!0,error:null});try{const{pagination:r}=e(),s=(r.page-1)*r.pageSize,n=s+r.pageSize-1,{data:i,error:o,count:l}=await Y.from("contact_messages").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(s,n);if(o)throw o;t({messages:i,pagination:{...e().pagination,total:l||0}})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},updateBookingStatus:async(r,s)=>{try{const{error:n}=await Y.from("studio_bookings").update({status:s}).eq("id",r);if(n)throw n;await e().fetchBookings()}catch(n){t({error:n.message})}},deleteBooking:async r=>{try{const{error:s}=await Y.from("studio_bookings").delete().eq("id",r);if(s)throw s;await e().fetchBookings()}catch(s){t({error:s.message})}},updateMessageStatus:async(r,s)=>{try{const{error:n}=await Y.from("contact_messages").update({status:s}).eq("id",r);if(n)throw n;await e().fetchMessages()}catch(n){t({error:n.message})}},deleteMessage:async r=>{try{const{error:s}=await Y.from("contact_messages").delete().eq("id",r);if(s)throw s;await e().fetchMessages()}catch(s){t({error:s.message})}}}));function Fe(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ct(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const no=6048e5,vm=864e5;let bm={};function qr(){return bm}function Ht(t,e){var l,c,d,u;const r=qr(),s=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=Fe(t),i=n.getDay(),o=(i<s?7:0)+i-s;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function fr(t){return Ht(t,{weekStartsOn:1})}function io(t){const e=Fe(t),r=e.getFullYear(),s=ct(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const n=fr(s),i=ct(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=fr(i);return e.getTime()>=n.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function ei(t){const e=Fe(t);return e.setHours(0,0,0,0),e}function ti(t){const e=Fe(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function xm(t,e){const r=ei(t),s=ei(e),n=+r-ti(r),i=+s-ti(s);return Math.round((n-i)/vm)}function wm(t){const e=io(t),r=ct(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),fr(r)}function _m(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jm(t){if(!_m(t)&&typeof t!="number")return!1;const e=Fe(t);return!isNaN(Number(e))}function Sm(t){const e=Fe(t),r=ct(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Em={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pm=(t,e,r)=>{let s;const n=Em[t];return typeof n=="string"?s=n:e===1?s=n.one:s=n.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function _t(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const km={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nm={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Om={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cm={date:_t({formats:km,defaultWidth:"full"}),time:_t({formats:Nm,defaultWidth:"full"}),dateTime:_t({formats:Om,defaultWidth:"full"})},Tm={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Am=(t,e,r,s)=>Tm[t];function qe(t){return(e,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let n;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;n=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;n=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return n[i]}}const Rm={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lm={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$m={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dm={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Im={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fm=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Um={ordinalNumber:Fm,era:qe({values:Rm,defaultWidth:"wide"}),quarter:qe({values:Lm,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qe({values:$m,defaultWidth:"wide"}),day:qe({values:Dm,defaultWidth:"wide"}),dayPeriod:qe({values:Im,defaultWidth:"wide",formattingValues:Mm,defaultFormattingWidth:"wide"})};function Be(t){return(e,r={})=>{const s=r.width,n=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(n);if(!i)return null;const o=i[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?qm(l,h=>h.test(o)):Vm(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function Vm(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function qm(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function ao(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const n=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(n.length);return{value:o,rest:l}}}const Bm=/^(\d+)(th|st|nd|rd)?/i,zm=/\d+/i,Wm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hm={any:[/^b/i,/^(a|c)/i]},Jm={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ym={any:[/1/i,/2/i,/3/i,/4/i]},Gm={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xm={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Km={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qm={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ep={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tp={ordinalNumber:ao({matchPattern:Bm,parsePattern:zm,valueCallback:t=>parseInt(t,10)}),era:Be({matchPatterns:Wm,defaultMatchWidth:"wide",parsePatterns:Hm,defaultParseWidth:"any"}),quarter:Be({matchPatterns:Jm,defaultMatchWidth:"wide",parsePatterns:Ym,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Be({matchPatterns:Gm,defaultMatchWidth:"wide",parsePatterns:Xm,defaultParseWidth:"any"}),day:Be({matchPatterns:Km,defaultMatchWidth:"wide",parsePatterns:Qm,defaultParseWidth:"any"}),dayPeriod:Be({matchPatterns:Zm,defaultMatchWidth:"any",parsePatterns:ep,defaultParseWidth:"any"})},rp={code:"en-US",formatDistance:Pm,formatLong:Cm,formatRelative:Am,localize:Um,match:tp,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sp(t){const e=Fe(t);return xm(e,Sm(e))+1}function np(t){const e=Fe(t),r=+fr(e)-+wm(e);return Math.round(r/no)+1}function oo(t,e){var u,h,f,v;const r=Fe(t),s=r.getFullYear(),n=qr(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(f=n.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,o=ct(t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Ht(o,e),c=ct(t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Ht(c,e);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function ip(t,e){var l,c,d,u;const r=qr(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,n=oo(t,e),i=ct(t,0);return i.setFullYear(n,0,s),i.setHours(0,0,0,0),Ht(i,e)}function ap(t,e){const r=Fe(t),s=+Ht(r,e)-+ip(r,e);return Math.round(s/no)+1}function Z(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const Ge={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return Z(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Z(r+1,2)},d(t,e){return Z(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Z(t.getHours()%12||12,e.length)},H(t,e){return Z(t.getHours(),e.length)},m(t,e){return Z(t.getMinutes(),e.length)},s(t,e){return Z(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),n=Math.trunc(s*Math.pow(10,r-3));return Z(n,e.length)}},yt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ri={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),n=s>0?s:1-s;return r.ordinalNumber(n,{unit:"year"})}return Ge.y(t,e)},Y:function(t,e,r,s){const n=oo(t,s),i=n>0?n:1-n;if(e==="YY"){const o=i%100;return Z(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Z(i,e.length)},R:function(t,e){const r=io(t);return Z(r,e.length)},u:function(t,e){const r=t.getFullYear();return Z(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Z(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Z(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return Ge.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Z(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const n=ap(t,s);return e==="wo"?r.ordinalNumber(n,{unit:"week"}):Z(n,e.length)},I:function(t,e,r){const s=np(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):Z(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ge.d(t,e)},D:function(t,e,r){const s=sp(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Z(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const n=t.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Z(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const n=t.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Z(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),n=s===0?7:s;switch(e){case"i":return String(n);case"ii":return Z(n,e.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let n;switch(s===12?n=yt.noon:s===0?n=yt.midnight:n=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let n;switch(s>=17?n=yt.evening:s>=12?n=yt.afternoon:s>=4?n=yt.morning:n=yt.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ge.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ge.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Z(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):Z(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ge.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ge.s(t,e)},S:function(t,e){return Ge.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return ni(s);case"XXXX":case"XX":return it(s);case"XXXXX":case"XXX":default:return it(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return ni(s);case"xxxx":case"xx":return it(s);case"xxxxx":case"xxx":default:return it(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+si(s,":");case"OOOO":default:return"GMT"+it(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+si(s,":");case"zzzz":default:return"GMT"+it(s,":")}},t:function(t,e,r){const s=Math.trunc(t.getTime()/1e3);return Z(s,e.length)},T:function(t,e,r){const s=t.getTime();return Z(s,e.length)}};function si(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),n=Math.trunc(s/60),i=s%60;return i===0?r+String(n):r+String(n)+e+Z(i,2)}function ni(t,e){return t%60===0?(t>0?"-":"+")+Z(Math.abs(t)/60,2):it(t,e)}function it(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),n=Z(Math.trunc(s/60),2),i=Z(s%60,2);return r+n+e+i}const ii=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},lo=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},op=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],n=r[2];if(!n)return ii(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",ii(s,e)).replace("{{time}}",lo(n,e))},lp={p:lo,P:op},cp=/^D+$/,up=/^Y+$/,dp=["D","DD","YY","YYYY"];function hp(t){return cp.test(t)}function fp(t){return up.test(t)}function mp(t,e,r){const s=pp(t,e,r);if(console.warn(s),dp.includes(t))throw new RangeError(s)}function pp(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vp=/^'([^]*?)'?$/,bp=/''/g,xp=/[a-zA-Z]/;function Qs(t,e,r){var u,h,f,v,g,x,w,j;const s=qr(),n=(r==null?void 0:r.locale)??s.locale??rp,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(f=s.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??s.weekStartsOn??((j=(w=s.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??0,l=Fe(t);if(!jm(l))throw new RangeError("Invalid time value");let c=e.match(yp).map(p=>{const y=p[0];if(y==="p"||y==="P"){const S=lp[y];return S(p,n.formatLong)}return p}).join("").match(gp).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:wp(p)};if(ri[y])return{isToken:!0,value:p};if(y.match(xp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return c.map(p=>{if(!p.isToken)return p.value;const y=p.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&fp(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&hp(y))&&mp(y,e,String(t));const S=ri[y[0]];return S(l,y,n.localize,d)}).join("")}function wp(t){const e=t.match(vp);return e?e[1].replace(bp,"'"):t}const _p={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},jp=(t,e,r)=>{let s;const n=_p[t];return typeof n=="string"?s=n:e===1?s=n.one:s=n.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+s:"il y a "+s:s},Sp={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Ep={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Pp={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kp={date:_t({formats:Sp,defaultWidth:"full"}),time:_t({formats:Ep,defaultWidth:"full"}),dateTime:_t({formats:Pp,defaultWidth:"full"})},Np={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},Op=(t,e,r,s)=>Np[t],Cp={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Tp={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Ap={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},Rp={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Lp={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},$p=(t,e)=>{const r=Number(t),s=e==null?void 0:e.unit;if(r===0)return"0";const n=["year","week","hour","minute","second"];let i;return r===1?i=s&&n.includes(s)?"ère":"er":i="ème",r+i},Dp=["MMM","MMMM"],Ip={preprocessor:(t,e)=>t.getDate()===1||!e.some(s=>s.isToken&&Dp.includes(s.value))?e:e.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:$p,era:qe({values:Cp,defaultWidth:"wide"}),quarter:qe({values:Tp,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qe({values:Ap,defaultWidth:"wide"}),day:qe({values:Rp,defaultWidth:"wide"}),dayPeriod:qe({values:Lp,defaultWidth:"wide"})},Mp=/^(\d+)(ième|ère|ème|er|e)?/i,Fp=/\d+/i,Up={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},Vp={any:[/^av/i,/^ap/i]},qp={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},Bp={any:[/1/i,/2/i,/3/i,/4/i]},zp={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Wp={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hp={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Jp={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Yp={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},Gp={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Xp={ordinalNumber:ao({matchPattern:Mp,parsePattern:Fp,valueCallback:t=>parseInt(t)}),era:Be({matchPatterns:Up,defaultMatchWidth:"wide",parsePatterns:Vp,defaultParseWidth:"any"}),quarter:Be({matchPatterns:qp,defaultMatchWidth:"wide",parsePatterns:Bp,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Be({matchPatterns:zp,defaultMatchWidth:"wide",parsePatterns:Wp,defaultParseWidth:"any"}),day:Be({matchPatterns:Hp,defaultMatchWidth:"wide",parsePatterns:Jp,defaultParseWidth:"any"}),dayPeriod:Be({matchPatterns:Yp,defaultMatchWidth:"any",parsePatterns:Gp,defaultParseWidth:"any"})},co={code:"fr",formatDistance:jp,formatLong:kp,formatRelative:Op,localize:Ip,match:Xp,options:{weekStartsOn:1,firstWeekContainsDate:4}},uo=({currentPage:t,totalPages:e,onPageChange:r})=>{const n=Array.from({length:e},(i,o)=>o+1).slice(Math.max(0,t-2),Math.min(e,t+1));return a.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>r(t-1),disabled:t===1,className:"p-2 rounded-lg bg-primary-800 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-700 transition-colors",children:a.jsx(Uo,{className:"h-5 w-5"})}),t>3&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>r(1),className:"px-4 py-2 rounded-lg hover:bg-primary-800 transition-colors",children:"1"}),a.jsx("span",{className:"text-gray-500",children:"..."})]}),n.map(i=>a.jsx("button",{onClick:()=>r(i),className:`px-4 py-2 rounded-lg transition-colors ${t===i?"bg-accent-600 text-white":"hover:bg-primary-800"}`,children:i},i)),t<e-2&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-500",children:"..."}),a.jsx("button",{onClick:()=>r(e),className:"px-4 py-2 rounded-lg hover:bg-primary-800 transition-colors",children:e})]}),a.jsx("button",{onClick:()=>r(t+1),disabled:t===e,className:"p-2 rounded-lg bg-primary-800 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-700 transition-colors",children:a.jsx(Vo,{className:"h-5 w-5"})})]})},tt=({isOpen:t,onClose:e,onConfirm:r,title:s,message:n,confirmText:i="Confirmer",cancelText:o="Annuler",type:l="warning"})=>a.jsx(Yr,{appear:!0,show:t,as:E.Fragment,children:a.jsxs(Gr,{as:"div",className:"relative z-50",onClose:e,children:[a.jsx(Yr.Child,{as:E.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black/75"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx(Yr.Child,{as:E.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsxs(Gr.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-lg bg-primary-900 p-6 text-left align-middle shadow-xl transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:`p-2 rounded-full ${l==="danger"?"bg-red-500/10 text-red-500":"bg-yellow-500/10 text-yellow-500"}`,children:a.jsx(Mo,{className:"h-6 w-6"})}),a.jsx(Gr.Title,{as:"h3",className:"text-lg font-medium leading-6 text-white",children:s})]}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-gray-300",children:n})}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{type:"button",className:"inline-flex justify-center rounded-lg px-4 py-2 text-sm font-medium text-gray-300 hover:text-white bg-primary-800 hover:bg-primary-700 transition-colors",onClick:e,children:o}),a.jsx("button",{type:"button",className:`inline-flex justify-center rounded-lg px-4 py-2 text-sm font-medium text-white transition-colors ${l==="danger"?"bg-red-600 hover:bg-red-700":"bg-yellow-600 hover:bg-yellow-700"}`,onClick:()=>{r(),e()},children:i})]})]})})})})]})}),Kp=()=>{const{bookings:t,updateBookingStatus:e,deleteBooking:r,isLoading:s,pagination:n,setPagination:i,fetchBookings:o}=Ks(),[l,c]=E.useState(!1),[d,u]=E.useState(null),h=w=>{switch(w){case"confirmed":return"bg-green-500/20 text-green-400";case"cancelled":return"bg-red-500/20 text-red-400";default:return"bg-yellow-500/20 text-yellow-400"}},f=w=>{i({page:w}),o()},v=w=>{u(w),c(!0)},g=async()=>{d&&(await r(d),u(null),c(!1))},x=Math.ceil(n.total/n.pageSize);return s?a.jsx("div",{children:"Chargement..."}):a.jsxs("div",{className:"bg-primary-900 rounded-xl p-6",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-primary-700",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Client"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Horaires"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Notes"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Statut"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(w=>a.jsxs("tr",{className:"border-b border-primary-800",children:[a.jsx("td",{className:"py-3 px-4",children:w.client_name}),a.jsx("td",{className:"py-3 px-4",children:Qs(new Date(w.date),"dd MMMM yyyy",{locale:co})}),a.jsxs("td",{className:"py-3 px-4",children:[w.start_time," - ",w.end_time]}),a.jsx("td",{className:"py-3 px-4 capitalize",children:w.studio_type}),a.jsx("td",{className:"py-3 px-4",children:w.notes||"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${h(w.status)}`,children:w.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:w.status,onChange:j=>e(w.id,j.target.value),className:"bg-primary-800 border border-primary-700 rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"pending",children:"En attente"}),a.jsx("option",{value:"confirmed",children:"Confirmé"}),a.jsx("option",{value:"cancelled",children:"Annulé"})]}),a.jsx("button",{onClick:()=>v(w.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Supprimer",children:a.jsx(Jt,{className:"w-5 h-5"})})]})})]},w.id))})]})}),x>1&&a.jsx(uo,{currentPage:n.page,totalPages:x,onPageChange:f}),a.jsx(tt,{isOpen:l,onClose:()=>c(!1),onConfirm:g,title:"Supprimer la réservation",message:"Êtes-vous sûr de vouloir supprimer cette réservation ? Cette action est irréversible.",confirmText:"Supprimer",cancelText:"Annuler",type:"danger"})]})},Qp=()=>{const{messages:t,updateMessageStatus:e,deleteMessage:r,isLoading:s,pagination:n,setPagination:i,fetchMessages:o}=Ks(),[l,c]=E.useState(!1),[d,u]=E.useState(null),h=w=>{switch(w){case"replied":return"bg-green-500/20 text-green-400";case"read":return"bg-blue-500/20 text-blue-400";default:return"bg-yellow-500/20 text-yellow-400"}},f=w=>{i({page:w}),o()},v=w=>{u(w),c(!0)},g=async()=>{d&&(await r(d),u(null),c(!1))},x=Math.ceil(n.total/n.pageSize);return s?a.jsx("div",{children:"Chargement..."}):a.jsxs("div",{className:"bg-primary-900 rounded-xl p-6",children:[a.jsx("div",{className:"space-y-6",children:t.map(w=>a.jsxs("div",{className:"bg-primary-800 rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-1",children:w.subject}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["De : ",w.name," (",w.email,")"]}),a.jsx("p",{className:"text-gray-500 text-xs",children:Qs(new Date(w.created_at),"dd MMMM yyyy à HH:mm",{locale:co})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("select",{value:w.status,onChange:j=>e(w.id,j.target.value),className:"bg-primary-700 border border-primary-600 rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"new",children:"Nouveau"}),a.jsx("option",{value:"read",children:"Lu"}),a.jsx("option",{value:"replied",children:"Répondu"})]}),a.jsx("button",{onClick:()=>v(w.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Supprimer",children:a.jsx(Jt,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"bg-primary-900 rounded-lg p-4 mb-4",children:a.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:w.message})}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${h(w.status)}`,children:w.status==="new"?"Nouveau":w.status==="read"?"Lu":"Répondu"})})]},w.id))}),x>1&&a.jsx(uo,{currentPage:n.page,totalPages:x,onPageChange:f}),a.jsx(tt,{isOpen:l,onClose:()=>c(!1),onConfirm:g,title:"Supprimer le message",message:"Êtes-vous sûr de vouloir supprimer ce message ? Cette action est irréversible.",confirmText:"Supprimer",cancelText:"Annuler",type:"danger"})]})},Zp=()=>{const{projects:t,createProject:e,updateProject:r,deleteProject:s,isLoading:n,error:i}=Je(),[o,l]=E.useState(!1),[c,d]=E.useState(null),[u,h]=E.useState({}),[f,v]=E.useState(null),[g,x]=E.useState(!1),[w,j]=E.useState(null),[p,y]=E.useState(!1),[S,k]=E.useState(null),[F,T]=E.useState(null),q=P=>{if(P.target.files&&P.target.files[0]){const L=P.target.files[0];if(L.size>5*1024*1024){k("L'image ne doit pas dépasser 5MB");return}if(!["image/jpeg","image/png","image/webp"].includes(L.type)){k("Le fichier doit être une image (JPG, PNG ou WebP)");return}v(L),k(null);const K=new FileReader;K.onloadend=()=>{T(K.result)},K.readAsDataURL(L)}},N=P=>P?/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})$/.test(P):!0,W=async P=>{try{const L=Date.now(),K=P.name.split(".").pop(),J=`projects/${`${L}-${Math.random().toString(36).substring(2)}.${K}`}`,{error:Q}=await Y.storage.from("media").upload(J,P,{cacheControl:"3600",contentType:P.type,upsert:!1});if(Q)throw console.error("Upload error:",Q),new Error("Erreur lors de l'upload de l'image");const{data:{publicUrl:Pe}}=Y.storage.from("media").getPublicUrl(J);return Pe}catch(L){throw console.error("Upload error:",L),new Error("Erreur lors de l'upload de l'image")}},B=async P=>{P.preventDefault(),k(null);try{if(!u.title||!u.artist||!u.description||!u.type)throw new Error("Veuillez remplir tous les champs obligatoires");if(u.video_url&&!N(u.video_url))throw new Error("L'URL de la vidéo YouTube n'est pas valide");let L=u.image_url;if(f)L=await W(f);else if(!c&&!L)throw new Error("Une image est requise");c?await r(c,{...u,image_url:L}):await e({...u,image_url:L}),l(!1),d(null),h({}),v(null),k(null),T(null)}catch(L){k(L instanceof Error?L.message:"Une erreur est survenue"),console.error("Error saving project:",L)}},I=P=>{j(P),x(!0)},R=async()=>{w&&(await s(w),j(null))},U=()=>{Object.keys(u).length>0||f?y(!0):(l(!1),d(null),h({}),v(null),k(null),T(null))};return n?a.jsx("div",{children:"Chargement..."}):i?a.jsxs("div",{className:"text-red-500",children:["Erreur: ",i]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold gold-gradient",children:"Gestion des Projets"}),a.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-accent-600 text-white px-4 py-2 rounded-lg hover:bg-accent-700 transition-colors",children:[a.jsx(Ps,{className:"w-4 h-4"}),"Nouveau Projet"]})]}),o&&a.jsxs("form",{onSubmit:B,className:"bg-primary-800 p-6 rounded-lg space-y-4",children:[S&&a.jsx("div",{className:"bg-red-500/20 text-red-400 p-4 rounded-lg",children:S}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Titre"}),a.jsx("input",{type:"text",value:u.title||"",onChange:P=>h({...u,title:P.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Artiste"}),a.jsx("input",{type:"text",value:u.artist||"",onChange:P=>h({...u,artist:P.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),a.jsx("textarea",{value:u.description||"",onChange:P=>h({...u,description:P.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",rows:3,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Année"}),a.jsx("input",{type:"number",value:u.year||"",onChange:P=>h({...u,year:parseInt(P.target.value)}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),a.jsxs("select",{value:u.type||"",onChange:P=>h({...u,type:P.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Sélectionner..."}),a.jsx("option",{value:"music",children:"Musique"}),a.jsx("option",{value:"video",children:"Vidéo"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Image"}),(F||u.image_url)&&a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:F||u.image_url,alt:"Prévisualisation",className:"w-40 h-40 object-cover rounded-lg"})}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:q,className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!u.image_url}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Formats acceptés : JPG, PNG, WebP. Taille maximale : 5MB"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"URL Vidéo YouTube (optionnel)"}),a.jsx("input",{type:"url",value:u.video_url||"",onChange:P=>h({...u,video_url:P.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",placeholder:"https://youtube.com/watch?v=..."}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Format accepté : URL YouTube (ex: https://youtube.com/watch?v=XXXXXXXXXXX)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors",children:c?"Mettre à jour":"Créer"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(P=>a.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-primary-800 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"relative h-60",children:[a.jsx("img",{src:P.image_url,alt:P.title,className:"w-full h-full object-cover",onError:L=>{const K=L.target;K.src="https://placehold.co/600x400?text=Image+non+disponible"}}),a.jsx("div",{className:"absolute top-3 right-3 z-10",children:a.jsx("span",{className:"bg-accent-600 text-xs font-semibold px-2.5 py-1 rounded-full text-white",children:P.type==="music"?"Musique":"Vidéo"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-bold mb-1 gold-gradient",children:P.title}),a.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:[P.artist," • ",P.year]}),a.jsx("p",{className:"text-gray-300 mb-4",children:P.description}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{d(P.id),h(P),l(!0)},className:"p-2 text-accent-400 hover:text-accent-300 transition-colors",children:a.jsx(Es,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>I(P.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Jt,{className:"w-5 h-5"})})]})]})]},P.id))}),a.jsx(tt,{isOpen:g,onClose:()=>x(!1),onConfirm:R,title:"Supprimer le projet",message:"Êtes-vous sûr de vouloir supprimer ce projet ? Cette action est irréversible.",confirmText:"Supprimer",cancelText:"Annuler",type:"danger"}),a.jsx(tt,{isOpen:p,onClose:()=>y(!1),onConfirm:()=>{l(!1),d(null),h({}),v(null),k(null),T(null),y(!1)},title:"Fermer le formulaire",message:"Vous avez des modifications non enregistrées. Êtes-vous sûr de vouloir fermer le formulaire ?",confirmText:"Fermer",cancelText:"Continuer l'édition",type:"warning"})]})},eg=t=>t.size>5*1024*1024?"L'image ne doit pas dépasser 5MB":["image/jpeg","image/png","image/webp"].includes(t.type)?t.name.includes("..")||t.name.includes("/")?"Nom de fichier invalide":null:"Le fichier doit être une image (JPG, PNG ou WebP)",tg=()=>{const{artists:t,createArtist:e,updateArtist:r,deleteArtist:s}=Je(),[n,i]=E.useState(!1),[o,l]=E.useState(null),[c,d]=E.useState({}),[u,h]=E.useState(null),[f,v]=E.useState(!1),[g,x]=E.useState(null),[w,j]=E.useState(!1),[p,y]=E.useState(null),[S,k]=E.useState(null),[F,T]=E.useState(!1),q=P=>{if(P.target.files&&P.target.files[0]){const L=P.target.files[0],K=eg(L);if(K){y(K);return}h(L),y(null);const V=new FileReader;V.onloadend=()=>{k(V.result)},V.readAsDataURL(L)}},N=async P=>{var L;try{T(!0);const K=Date.now(),V=Math.random().toString(36).substring(2,15),J=(L=P.name.split(".").pop())==null?void 0:L.toLowerCase(),Pe=`artists/${`${K}-${V}.${J}`}`,{error:Ye}=await Y.storage.from("media").upload(Pe,P,{cacheControl:"3600",contentType:P.type,upsert:!1});if(Ye)throw console.error("Upload error:",Ye),new Error("Erreur lors de l'upload de l'image");const{data:{publicUrl:er}}=Y.storage.from("media").getPublicUrl(Pe);return er}catch(K){throw console.error("Upload error:",K),new Error("Erreur lors de l'upload de l'image")}finally{T(!1)}},W=async P=>{P.preventDefault(),y(null);try{if(!c.name||!c.description||!c.latest_work||!c.release_date)throw new Error("Veuillez remplir tous les champs obligatoires");let L=c.image_url;if(u)L=await N(u);else if(!o&&!L)throw new Error("Une image est requise");o?await r(o,{...c,image_url:L}):await e({...c,image_url:L}),B()}catch(L){y(L instanceof Error?L.message:"Une erreur est survenue"),console.error("Error saving artist:",L)}},B=()=>{i(!1),l(null),d({}),h(null),k(null),y(null)},I=P=>{x(P),v(!0)},R=async()=>{g&&(await s(g),x(null))},U=()=>{Object.keys(c).length>0||u?j(!0):B()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold gold-gradient",children:"Gestion des Artistes"}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-accent-600 text-white px-4 py-2 rounded-lg hover:bg-accent-700 transition-colors",children:[a.jsx(Ps,{className:"w-4 h-4"}),"Nouvel Artiste"]})]}),n&&a.jsxs("form",{onSubmit:W,className:"bg-primary-800 p-6 rounded-lg space-y-4",children:[p&&a.jsx("div",{className:"bg-red-500/20 text-red-400 p-4 rounded-lg",children:p}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nom"}),a.jsx("input",{type:"text",value:c.name||"",onChange:P=>d({...c,name:P.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),a.jsx("textarea",{value:c.description||"",onChange:P=>d({...c,description:P.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",rows:3,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Image"}),(S||c.image_url)&&a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:S||c.image_url,alt:"Prévisualisation",className:"w-40 h-40 object-cover rounded-lg"})}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:q,className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!c.image_url}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Formats acceptés : JPG, PNG, WebP. Taille maximale : 5MB"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Dernier Projet"}),a.jsx("input",{type:"text",value:c.latest_work||"",onChange:P=>d({...c,latest_work:P.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date de Sortie"}),a.jsx("input",{type:"date",value:c.release_date||"",onChange:P=>d({...c,release_date:P.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",disabled:F,children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors",disabled:F,children:F?"Upload en cours...":o?"Mettre à jour":"Créer"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(P=>a.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-primary-800 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"relative h-48 bg-primary-900",children:a.jsx("img",{src:P.image_url,alt:P.name,className:"w-full h-full object-cover",onError:L=>{const K=L.target;K.src="https://placehold.co/600x400?text=Image+non+disponible"},loading:"lazy"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-xl font-bold mb-1 gold-gradient",children:P.name}),a.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:["Dernier projet : ",P.latest_work," (",new Date(P.release_date).toLocaleDateString(),")"]}),a.jsx("p",{className:"text-gray-300 mb-4",children:P.description}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{l(P.id),d(P),i(!0)},className:"p-2 text-accent-400 hover:text-accent-300 transition-colors",children:a.jsx(Es,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>I(P.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Jt,{className:"w-5 h-5"})})]})]})]},P.id))}),a.jsx(tt,{isOpen:f,onClose:()=>v(!1),onConfirm:R,title:"Supprimer l'artiste",message:"Êtes-vous sûr de vouloir supprimer cet artiste ? Cette action est irréversible.",confirmText:"Supprimer",cancelText:"Annuler",type:"danger"}),a.jsx(tt,{isOpen:w,onClose:()=>j(!1),onConfirm:B,title:"Fermer le formulaire",message:"Vous avez des modifications non enregistrées. Êtes-vous sûr de vouloir fermer le formulaire ?",confirmText:"Fermer",cancelText:"Continuer l'édition",type:"warning"})]})},rg=()=>{var F;const{services:t,createService:e,updateService:r,deleteService:s}=Je(),[n,i]=E.useState(null),[o,l]=E.useState({features:[]}),[c,d]=E.useState(""),[u,h]=E.useState(!1),[f,v]=E.useState(null),[g,x]=E.useState(!1),w=()=>{c.trim()&&o.features&&(l({...o,features:[...o.features,c.trim()]}),d(""))},j=T=>{o.features&&l({...o,features:o.features.filter((q,N)=>N!==T)})},p=async T=>{T.preventDefault();try{n&&n!=="new"?await r(n,o):await e(o),i(null),l({features:[]})}catch(q){console.error("Error saving service:",q)}},y=T=>{v(T),h(!0)},S=async()=>{f&&(await s(f),v(null))},k=()=>{var T;Object.keys(o).length>1||((T=o.features)==null?void 0:T.length)>0?x(!0):(i(null),l({features:[]}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold gold-gradient",children:"Gestion des Services"}),a.jsxs("button",{onClick:()=>i("new"),className:"flex items-center gap-2 bg-accent-600 text-white px-4 py-2 rounded-lg hover:bg-accent-700 transition-colors",children:[a.jsx(Ps,{className:"w-4 h-4"}),"Nouveau Service"]})]}),(n==="new"||n)&&a.jsxs("form",{onSubmit:p,className:"bg-primary-800 p-6 rounded-lg space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Titre"}),a.jsx("input",{type:"text",value:o.title||"",onChange:T=>l({...o,title:T.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),a.jsx("textarea",{value:o.description||"",onChange:T=>l({...o,description:T.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",rows:3,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Icône"}),a.jsxs("select",{value:o.icon||"",onChange:T=>l({...o,icon:T.target.value}),className:"w-full px-3 py-2 bg-primary-700 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Sélectionner..."}),a.jsx("option",{value:"music",children:"Musique"}),a.jsx("option",{value:"video",children:"Vidéo"}),a.jsx("option",{value:"mic",children:"Microphone"}),a.jsx("option",{value:"image",children:"Image"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Caractéristiques"}),a.jsxs("div",{className:"space-y-2",children:[(F=o.features)==null?void 0:F.map((T,q)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-grow bg-primary-700 px-3 py-2 rounded-lg",children:T}),a.jsx("button",{type:"button",onClick:()=>j(q),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(yi,{className:"w-4 h-4"})})]},q)),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:c,onChange:T=>d(T.target.value),className:"flex-grow px-3 py-2 bg-primary-700 rounded-lg",placeholder:"Nouvelle caractéristique..."}),a.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors",children:"Ajouter"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-accent-600 text-white rounded-lg hover:bg-accent-700 transition-colors",children:n==="new"?"Créer":"Mettre à jour"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(T=>a.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-primary-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:T.title}),a.jsx("p",{className:"text-gray-300 mb-4",children:T.description}),a.jsx("div",{className:"space-y-2 mb-4",children:T.features.map((q,N)=>a.jsx("div",{className:"bg-primary-700 px-3 py-2 rounded-lg text-sm",children:q},N))}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{i(T.id),l(T)},className:"p-2 text-accent-400 hover:text-accent-300 transition-colors",children:a.jsx(Es,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>y(T.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Jt,{className:"w-5 h-5"})})]})]},T.id))}),a.jsx(tt,{isOpen:u,onClose:()=>h(!1),onConfirm:S,title:"Supprimer le service",message:"Êtes-vous sûr de vouloir supprimer ce service ? Cette action est irréversible.",confirmText:"Supprimer",cancelText:"Annuler",type:"danger"}),a.jsx(tt,{isOpen:g,onClose:()=>x(!1),onConfirm:()=>{i(null),l({features:[]}),x(!1)},title:"Fermer le formulaire",message:"Vous avez des modifications non enregistrées. Êtes-vous sûr de vouloir fermer le formulaire ?",confirmText:"Fermer",cancelText:"Continuer l'édition",type:"warning"})]})},sg=()=>{const t=oi(),{fetchBookings:e,fetchMessages:r}=Ks(),{fetchProjects:s,fetchArtists:n,fetchServices:i}=Je();return E.useEffect(()=>{e(),r(),s(),n(),i()},[]),a.jsx("div",{className:"pt-24 pb-20 bg-black min-h-screen",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-4xl font-heading font-bold mb-8 gold-gradient",children:"Dashboard Administrateur"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[a.jsx(se,{to:"/admin",className:`px-4 py-2 rounded-lg transition-colors ${t.pathname==="/admin"?"bg-accent-600 text-white":"bg-primary-800 text-gray-300 hover:bg-primary-700"}`,children:"Réservations"}),a.jsx(se,{to:"/admin/messages",className:`px-4 py-2 rounded-lg transition-colors ${t.pathname==="/admin/messages"?"bg-accent-600 text-white":"bg-primary-800 text-gray-300 hover:bg-primary-700"}`,children:"Messages"}),a.jsx(se,{to:"/admin/projects",className:`px-4 py-2 rounded-lg transition-colors ${t.pathname==="/admin/projects"?"bg-accent-600 text-white":"bg-primary-800 text-gray-300 hover:bg-primary-700"}`,children:"Projets"}),a.jsx(se,{to:"/admin/artists",className:`px-4 py-2 rounded-lg transition-colors ${t.pathname==="/admin/artists"?"bg-accent-600 text-white":"bg-primary-800 text-gray-300 hover:bg-primary-700"}`,children:"Artistes"}),a.jsx(se,{to:"/admin/services",className:`px-4 py-2 rounded-lg transition-colors ${t.pathname==="/admin/services"?"bg-accent-600 text-white":"bg-primary-800 text-gray-300 hover:bg-primary-700"}`,children:"Services"})]}),a.jsxs(li,{children:[a.jsx(Ce,{path:"/",element:a.jsx(Kp,{})}),a.jsx(Ce,{path:"/messages",element:a.jsx(Qp,{})}),a.jsx(Ce,{path:"/projects",element:a.jsx(Zp,{})}),a.jsx(Ce,{path:"/artists",element:a.jsx(tg,{})}),a.jsx(Ce,{path:"/services",element:a.jsx(rg,{})})]})]})})})},ng=()=>{const[t,e]=E.useState(!1),[r,s]=E.useState(!1),[n,i]=E.useState(null),{register:o,handleSubmit:l,formState:{errors:c},reset:d}=Za(),u=async h=>{e(!0),i(null);try{const{error:f}=await Y.from("studio_bookings").insert([{...h,status:"pending"}]);if(f)throw f.code==="23514"?new Error("L'heure de fin doit être après l'heure de début."):f;s(!0),d()}catch(f){const v=f instanceof Error?f.message:"Une erreur est survenue lors de la réservation.";i(v),console.error("Error booking studio:",f)}finally{e(!1)}};return a.jsx("div",{className:"pt-24 pb-20 bg-black",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-2xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-heading font-bold mb-6 gold-gradient",children:"Réserver le Studio"}),r?a.jsxs("div",{className:"bg-primary-900 rounded-xl p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Réservation Envoyée !"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"Nous avons bien reçu votre demande de réservation. Notre équipe la traitera dans les plus brefs délais."}),a.jsx("button",{onClick:()=>s(!1),className:"bg-accent-600 hover:bg-accent-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Nouvelle réservation"})]}):a.jsxs("form",{onSubmit:l(u),className:"space-y-6",children:[n&&a.jsx("div",{className:"bg-red-500/20 text-red-400 p-4 rounded-lg",children:n}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",placeholder:"Nom du client ou de l'artiste",...o("client_name",{required:"Le nom du client est requis"})}),c.client_name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.client_name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),a.jsx("input",{type:"date",min:Qs(new Date,"yyyy-MM-dd"),className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",...o("date",{required:"La date est requise"})}),c.date&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.date.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Heure de début"}),a.jsx("input",{type:"time",className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",...o("start_time",{required:"L'heure de début est requise"})}),c.start_time&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.start_time.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Heure de fin"}),a.jsx("input",{type:"time",className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",...o("end_time",{required:"L'heure de fin est requise"})}),c.end_time&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.end_time.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Type de session"}),a.jsxs("select",{className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",...o("studio_type",{required:"Le type de session est requis"}),children:[a.jsx("option",{value:"recording",children:"Enregistrement"}),a.jsx("option",{value:"mixing",children:"Mixage"}),a.jsx("option",{value:"mastering",children:"Mastering"}),a.jsx("option",{value:"composition",children:"Composition"})]}),c.studio_type&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.studio_type.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes supplémentaires"}),a.jsx("textarea",{rows:4,className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white resize-none",placeholder:"Détails sur votre projet, besoins spécifiques...",...o("notes")})]}),a.jsx("button",{type:"submit",disabled:t,className:`w-full py-3 px-4 rounded-lg font-medium transition-all ${t?"bg-accent-700 cursor-not-allowed":"bg-accent-600 hover:bg-accent-700"} text-white`,children:t?"Envoi en cours...":"Réserver"})]})]})})})},ig=()=>{const[t,e]=E.useState(""),[r,s]=E.useState(""),{signIn:n,isAuthenticated:i,isAdmin:o,isLoading:l,error:c}=Sr(),d=ci(),u=async h=>{h.preventDefault();try{await n(t,r),d("/admin")}catch{}};return i&&o?a.jsx(ui,{to:"/admin",replace:!0}):a.jsx("div",{className:"pt-24 pb-20 bg-black min-h-screen",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md mx-auto",children:[a.jsx("h1",{className:"text-4xl font-heading font-bold mb-8 gold-gradient text-center",children:"Connexion Admin"}),a.jsxs("form",{onSubmit:u,className:"bg-primary-900 rounded-xl p-8 space-y-6",children:[c&&a.jsx("div",{className:"bg-red-500/20 text-red-400 p-4 rounded-lg text-sm",children:c}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Mot de passe"}),a.jsx("input",{type:"password",value:r,onChange:h=>s(h.target.value),className:"w-full px-4 py-2 bg-primary-800 border border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 text-white",required:!0})]}),a.jsx("button",{type:"submit",disabled:l,className:`w-full py-3 px-4 rounded-lg font-medium transition-all ${l?"bg-accent-700 cursor-not-allowed":"bg-accent-600 hover:bg-accent-700"} text-white`,children:l?"Connexion...":"Se connecter"})]})]})})})},ag=({children:t})=>{const{isAuthenticated:e,isAdmin:r,isLoading:s}=Sr(),n=ci();return E.useEffect(()=>{!s&&!e&&n("/admin/login")},[e,s]),s?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsx("div",{className:"text-accent-400",children:"Chargement..."})}):!e||!r?a.jsx(ui,{to:"/admin/login",replace:!0}):a.jsx(a.Fragment,{children:t})};function og(){const{checkAuth:t}=Sr();return E.useEffect(()=>{t()},[]),a.jsx(Uu,{children:a.jsxs(li,{children:[a.jsx(Ce,{path:"/",element:a.jsx(vf,{})}),a.jsx(Ce,{path:"/projets",element:a.jsx(bf,{})}),a.jsx(Ce,{path:"/services",element:a.jsx(wf,{})}),a.jsx(Ce,{path:"/contact",element:a.jsx(pm,{})}),a.jsx(Ce,{path:"/politique-de-confidentialite",element:a.jsx(gm,{})}),a.jsx(Ce,{path:"/mentions-legales",element:a.jsx(ym,{})}),a.jsx(Ce,{path:"/reserver",element:a.jsx(ng,{})}),a.jsx(Ce,{path:"/admin/login",element:a.jsx(ig,{})}),a.jsx(Ce,{path:"/admin/*",element:a.jsx(ag,{children:a.jsx(sg,{})})})]})})}class lg extends E.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4 gold-gradient",children:"Une erreur est survenue"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Nous nous excusons pour la gêne occasionnée. Veuillez rafraîchir la page ou réessayer plus tard."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-accent-600 hover:bg-accent-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Rafraîchir la page"})]})}):this.props.children}}if(!Y)throw new Error("Failed to initialize Supabase client");fi(document.getElementById("root")).render(a.jsx(E.StrictMode,{children:a.jsx(lg,{children:a.jsx(jo,{children:a.jsx(og,{})})})}));export{ce as _,Yd as p,Pr as u};
//# sourceMappingURL=index-6k5Zfnot.js.map
