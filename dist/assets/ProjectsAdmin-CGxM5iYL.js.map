{"version":3,"file":"ProjectsAdmin-CGxM5iYL.js","sources":["../../src/components/admin/ProjectsAdmin.tsx"],"sourcesContent":["import { useState, useMemo } from 'react';\nimport { motion } from 'framer-motion';\nimport { useContentStore } from '../../stores/contentStore';\nimport { useErrorStore } from '../../stores/errorStore';\nimport { Project } from '../../lib/types';\nimport { supabase } from '../../lib/supabase';\nimport { \n  Pencil, \n  Trash2, \n  Plus, \n  FolderOpen,\n  Music,\n  Video,\n  Calendar,\n  User,\n  X,\n  Upload,\n  CheckCircle,\n  ArrowUpDown\n} from 'lucide-react';\nimport ConfirmDialog from '../shared/ConfirmDialog';\nimport DragDropReorder from './DragDropReorder';\n\nconst ProjectsAdmin = () => {\n  const { \n    projects, \n    createProject, \n    updateProject, \n    deleteProject, \n    updateProjectOrder,\n    fetchProjects,\n    isLoading\n    // Suppression de: error \n  } = useContentStore();\n  const { handleError, handleSuccess } = useErrorStore();\n  \n  const [activeTab, setActiveTab] = useState<'list' | 'form'>('list');\n  const [editingProject, setEditingProject] = useState<string | null>(null);\n  const [formData, setFormData] = useState<Partial<Project>>({});\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [deleteConfirmOpen, setDeleteConfirmOpen] = useState(false);\n  const [projectToDelete, setProjectToDelete] = useState<string | null>(null);\n  const [confirmClose, setConfirmClose] = useState(false);\n  // Suppression de: const [uploadError, setUploadError] = useState<string | null>(null);\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n  const [filterType, setFilterType] = useState<string>('all');\n  const [showReorderModal, setShowReorderModal] = useState(false);\n\n  // Métriques calculées\n  const metrics = useMemo(() => {\n    const total = projects.length;\n    const musicProjects = projects.filter(p => p.type === 'music').length;\n    const videoProjects = projects.filter(p => p.type === 'video').length;\n    const currentYear = new Date().getFullYear();\n    const recentProjects = projects.filter(p => p.year >= currentYear - 1).length;\n\n    return { total, musicProjects, videoProjects, recentProjects };\n  }, [projects]);\n\n  const filteredProjects = useMemo(() => {\n    return filterType === 'all' ? projects : projects.filter(project => project.type === filterType);\n  }, [projects, filterType]);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      \n      // Vérification de la taille (max 5MB)\n      if (file.size > 5 * 1024 * 1024) {\n        handleError(\"L'image ne doit pas dépasser 5MB\");\n        return;\n      }\n\n      // Vérification du type de fichier\n      if (!['image/jpeg', 'image/png', 'image/webp'].includes(file.type)) {\n        handleError(\"Le fichier doit être une image (JPG, PNG ou WebP)\");\n        return;\n      }\n\n      setSelectedFile(file);\n      // Suppression de: setUploadError(null);\n      \n      // Créer une prévisualisation\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const validateYouTubeUrl = (url: string): boolean => {\n    if (!url) return true;\n    const youtubeRegex = /^(https?:\\/\\/)?(www\\.)?(youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([a-zA-Z0-9_-]{11})$/;\n    return youtubeRegex.test(url);\n  };\n\n  const uploadImage = async (file: File): Promise<string> => {\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${Math.random()}.${fileExt}`;\n    const filePath = `projects/${fileName}`;\n\n    const { error: uploadError } = await supabase.storage\n      .from('media')  // ✅ Nom correct du bucket\n      .upload(filePath, file);\n\n    if (uploadError) {\n      throw uploadError;\n    }\n\n    const { data } = supabase.storage\n      .from('media')  // ✅ Nom correct du bucket\n      .getPublicUrl(filePath);\n\n    return data.publicUrl;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    // Suppression de: setUploadError(null);\n\n    try {\n      if (!formData.title?.trim() || !formData.artist?.trim() || !formData.description?.trim()) {\n        throw new Error(\"Veuillez remplir tous les champs obligatoires\");\n      }\n\n      if (formData.video_url && !validateYouTubeUrl(formData.video_url)) {\n        throw new Error(\"L'URL YouTube n'est pas valide\");\n      }\n\n      let imageUrl = formData.image_url;\n      if (selectedFile) {\n        imageUrl = await uploadImage(selectedFile);\n      }\n\n      const projectData = {\n        ...formData,\n        title: formData.title.trim(),\n        artist: formData.artist.trim(),\n        description: formData.description.trim(),\n        image_url: imageUrl || '',\n        year: formData.year || new Date().getFullYear(),\n        type: formData.type || 'music'\n      } as Project;\n\n      if (editingProject) {\n        await updateProject(editingProject, projectData);\n        handleSuccess('Projet mis à jour avec succès');\n      } else {\n        await createProject(projectData);\n        handleSuccess('Projet créé avec succès');\n      }\n\n      resetForm();\n      setActiveTab('list');\n    } catch (error) {\n      handleError(error, 'Erreur lors de la sauvegarde du projet');\n    }\n  };\n\n  const handleEdit = (project: Project) => {\n    setEditingProject(project.id);\n    setFormData(project);\n    setImagePreview(null);\n    setActiveTab('form');\n  };\n\n  const handleDelete = (id: string) => {\n    setProjectToDelete(id);\n    setDeleteConfirmOpen(true);\n  };\n\n  const confirmDelete = async () => {\n    if (projectToDelete) {\n      try {\n        await deleteProject(projectToDelete);\n        handleSuccess('Projet supprimé avec succès');\n      } catch (error) {\n        handleError(error, 'Erreur lors de la suppression du projet');\n      } finally {\n        setProjectToDelete(null);\n        setDeleteConfirmOpen(false);\n      }\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({});\n    setEditingProject(null);\n    setSelectedFile(null);\n    // Suppression de: setUploadError(null);\n    setImagePreview(null);\n  };\n\n  const handleNewProject = () => {\n    resetForm();\n    setActiveTab('form');\n  };\n\n  const handleCloseForm = () => {\n    const hasChanges = Object.keys(formData).length > 0 || selectedFile;\n    \n    if (hasChanges) {\n      setConfirmClose(true);\n    } else {\n      resetForm();\n      setActiveTab('list');\n    }\n  };\n\n  const confirmCloseForm = () => {\n    resetForm();\n    setActiveTab('list');\n    setConfirmClose(false);\n  };\n\n  // Fonction de réorganisation corrigée\n  const handleReorderProjects = async (reorderedProjects: Project[]) => {\n    try {\n      // Mettre à jour l'ordre dans la base de données\n      for (let i = 0; i < reorderedProjects.length; i++) {\n        const project = reorderedProjects[i];\n        const newOrder = i + 1;\n        if (project.display_order !== newOrder) {\n          await updateProjectOrder(project.id, newOrder);\n        }\n      }\n      // Rafraîchir la liste des projets\n      await fetchProjects();\n      setShowReorderModal(false);\n      handleSuccess('Ordre des projets mis à jour avec succès');\n    } catch (error) {\n      handleError(error, 'Erreur lors de la réorganisation des projets');\n      // Suppression de: setUploadError('Erreur lors de la réorganisation des projets');\n    }\n  };\n\n  // Fonction de rendu pour les éléments de projet dans le drag & drop\n  const renderProjectItem = (project: Project) => (\n    <div className=\"flex items-center gap-4\">\n      <div className=\"w-16 h-16 rounded-lg overflow-hidden bg-gray-700 flex-shrink-0\">\n        {project.image_url ? (\n          <img \n            src={project.image_url} \n            alt={project.title}\n            className=\"w-full h-full object-cover\"\n          />\n        ) : (\n          <div className=\"w-full h-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center\">\n            <span className=\"text-white text-xs font-bold\">{project.title.charAt(0)}</span>\n          </div>\n        )}\n      </div>\n      <div className=\"flex-1\">\n        <h3 className=\"text-white font-semibold\">{project.title}</h3>\n        <p className=\"text-gray-400 text-sm\">{project.artist} • {project.year}</p>\n        <span className={`inline-block px-2 py-1 rounded-full text-xs ${\n          project.type === 'music' \n            ? 'bg-purple-500/20 text-purple-300' \n            : 'bg-blue-500/20 text-blue-300'\n        }`}>\n          {project.type === 'music' ? 'Musique' : 'Vidéo'}\n        </span>\n      </div>\n    </div>\n  );\n  \n  const tabs = [\n    { id: 'list' as const, label: 'Liste des Projets', icon: FolderOpen },\n    { id: 'form' as const, label: editingProject ? 'Modifier Projet' : 'Nouveau Projet', icon: Plus }\n  ];\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4\"></div>\n          <p className=\"text-gray-400\">Chargement des projets...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const MetricCard = ({ title, value, icon: Icon, gradient }: {\n    title: string;\n    value: number;\n    icon: React.ComponentType<{ className?: string }>;\n    gradient: string;\n  }) => (\n    <div className={`${gradient} border border-opacity-30 rounded-xl p-4`}>\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <p className=\"text-sm font-medium opacity-80\">{title}</p>\n          <p className=\"text-2xl font-bold text-white\">{value}</p>\n        </div>\n        <Icon className=\"w-8 h-8 opacity-80\" />\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900\">\n      {/* En-tête avec gradient */}\n      <div className=\"bg-gradient-to-r from-purple-900/20 via-blue-900/20 to-indigo-900/20 border-b border-gray-800\">\n        <div className=\"container mx-auto px-4 py-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl\">\n                <FolderOpen className=\"w-8 h-8 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent\">\n                  Gestion des Projets\n                </h1>\n                <p className=\"text-gray-400 text-sm sm:text-base mt-1\">\n                  Gérez votre portfolio de projets musicaux et vidéos\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Navigation des onglets */}\n          <div className=\"flex space-x-1 bg-gray-800/30 backdrop-blur-sm rounded-xl p-1\">\n            {tabs.map((tab) => {\n              const Icon = tab.icon;\n              return (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${\n                    activeTab === tab.id\n                      ? 'bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg'\n                      : 'text-gray-400 hover:text-white hover:bg-gray-700/50'\n                  }`}\n                >\n                  <Icon className=\"w-4 h-4\" />\n                  <span>{tab.label}</span>\n                </button>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-4 py-8\">\n        {activeTab === 'list' && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"space-y-6\"\n          >\n            {/* Métriques */}\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n              <MetricCard\n                title=\"Total Projets\"\n                value={metrics.total}\n                icon={FolderOpen}\n                gradient=\"bg-gradient-to-r from-purple-600/20 to-purple-800/20 border-purple-500/30 text-purple-300\"\n              />\n              <MetricCard\n                title=\"Projets Musicaux\"\n                value={metrics.musicProjects}\n                icon={Music}\n                gradient=\"bg-gradient-to-r from-blue-600/20 to-blue-800/20 border-blue-500/30 text-blue-300\"\n              />\n              <MetricCard\n                title=\"Projets Vidéo\"\n                value={metrics.videoProjects}\n                icon={Video}\n                gradient=\"bg-gradient-to-r from-green-600/20 to-green-800/20 border-green-500/30 text-green-300\"\n              />\n              <MetricCard\n                title=\"Récents\"\n                value={metrics.recentProjects}\n                icon={Calendar}\n                gradient=\"bg-gradient-to-r from-orange-600/20 to-orange-800/20 border-orange-500/30 text-orange-300\"\n              />\n            </div>\n\n            {/* Filtres et actions */}\n            <div className=\"flex flex-wrap items-center justify-between gap-4 mb-6\">\n              <div className=\"flex items-center space-x-4\">\n                <select\n                  value={filterType}\n                  onChange={(e) => setFilterType(e.target.value)}\n                  className=\"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                >\n                  <option value=\"all\">Tous les types</option>\n                  <option value=\"music\">Musique</option>\n                  <option value=\"video\">Vidéo</option>\n                </select>\n                \n                <button\n                  onClick={() => setShowReorderModal(true)} // Utiliser showReorderModal\n                  className=\"flex items-center space-x-2 px-4 py-2 rounded-xl bg-gray-700/50 text-gray-300 hover:bg-gray-700 transition-all duration-200\"\n                >\n                  <ArrowUpDown className=\"w-4 h-4\" />\n                  <span>Réorganiser</span>\n                </button>\n              </div>\n              \n              <button\n                onClick={handleNewProject}\n                className=\"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-2 rounded-xl hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg\"\n              >\n                <Plus className=\"w-4 h-4\" />\n                <span>Nouveau Projet</span>\n              </button>\n            </div>\n          \n            {/* Liste des projets ou mode réorganisation */}\n            {showReorderModal ? (\n              <DragDropReorder\n                items={filteredProjects}\n                onReorder={handleReorderProjects}\n                renderItem={renderProjectItem}\n                getItemId={(project: Project) => project.id}\n                title=\"Réorganiser les projets\"\n                isOpen={showReorderModal}\n                onClose={() => setShowReorderModal(false)}\n              />\n            ) : (\n              <>\n                {filteredProjects.length === 0 ? (\n                  <div className=\"text-center py-12\">\n                    <FolderOpen className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n                    <p className=\"text-gray-400 text-lg\">Aucun projet trouvé</p>\n                    <p className=\"text-gray-500 text-sm\">Créez votre premier projet pour commencer</p>\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {filteredProjects.map((project) => (\n                      <motion.div\n                        key={project.id}\n                        initial={{ opacity: 0, scale: 0.95 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        className=\"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl overflow-hidden hover:border-purple-500/30 transition-all duration-300 group\"\n                      >\n                        <div className=\"relative h-48 overflow-hidden\">\n                          <img\n                            src={project.image_url}\n                            alt={project.title}\n                            className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                            onError={(e) => {\n                              const img = e.target as HTMLImageElement;\n                              img.src = 'https://placehold.co/600x400?text=Image+non+disponible';\n                            }}\n                          />\n                          <div className=\"absolute top-3 right-3\">\n                            <span className={`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium ${\n                              project.type === 'music' \n                                ? 'bg-blue-500/20 text-blue-300 border border-blue-500/30'\n                                : 'bg-green-500/20 text-green-300 border border-green-500/30'\n                            }`}>\n                              {project.type === 'music' ? <Music className=\"w-3 h-3\" /> : <Video className=\"w-3 h-3\" />}\n                              <span>{project.type === 'music' ? 'Musique' : 'Vidéo'}</span>\n                            </span>\n                          </div>\n                        </div>\n                        \n                        <div className=\"p-6\">\n                          <h3 className=\"text-xl font-bold text-white mb-2 group-hover:text-purple-300 transition-colors\">\n                            {project.title}\n                          </h3>\n                          <div className=\"flex items-center space-x-2 text-gray-400 text-sm mb-3\">\n                            <User className=\"w-4 h-4\" />\n                            <span>{project.artist}</span>\n                            <span>•</span>\n                            <Calendar className=\"w-4 h-4\" />\n                            <span>{project.year}</span>\n                          </div>\n                          <p className=\"text-gray-300 text-sm mb-4 line-clamp-2\">{project.description}</p>\n                          \n                          <div className=\"flex items-center justify-end space-x-2\">\n                            <button\n                              onClick={() => handleEdit(project)}\n                              className=\"p-2 text-purple-400 hover:text-purple-300 hover:bg-purple-500/10 rounded-lg transition-all duration-200\"\n                              title=\"Modifier\"\n                            >\n                              <Pencil className=\"w-4 h-4\" />\n                            </button>\n                            <button\n                              onClick={() => handleDelete(project.id)}\n                              className=\"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all duration-200\"\n                              title=\"Supprimer\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </button>\n                          </div>\n                        </div>\n                      </motion.div>\n                    ))}\n                  </div>\n                )}\n              </>\n            )}\n          </motion.div>\n        )}\n\n        {activeTab === 'form' && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"max-w-2xl mx-auto\"\n          >\n            <div className=\"bg-gradient-to-br from-gray-800/50 to-gray-900/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h2 className=\"text-xl font-semibold text-white\">\n                  {editingProject ? 'Modifier le Projet' : 'Nouveau Projet'}\n                </h2>\n                <button\n                  onClick={handleCloseForm}\n                  className=\"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                {/* Suppression du bloc d'affichage d'erreur uploadError */}\n                {/* \n                {uploadError && (\n                  <div className=\"bg-red-500/20 text-red-400 p-4 rounded-lg border border-red-500/30\">\n                    {uploadError}\n                  </div>\n                )}\n                */}\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Titre du projet *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.title || ''}\n                      onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                      className=\"w-full px-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n                      placeholder=\"Nom du projet\"\n                      required\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Artiste *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.artist || ''}\n                      onChange={(e) => setFormData({ ...formData, artist: e.target.value })}\n                      className=\"w-full px-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n                      placeholder=\"Nom de l'artiste\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    Description *\n                  </label>\n                  <textarea\n                    value={formData.description || ''}\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                    className=\"w-full px-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n                    rows={4}\n                    placeholder=\"Description du projet\"\n                    required\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Année *\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={formData.year || ''}\n                      onChange={(e) => setFormData({ ...formData, year: parseInt(e.target.value) || undefined })}\n                      className=\"w-full px-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n                      placeholder=\"2024\"\n                      min=\"1900\"\n                      max=\"2100\"\n                      required\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Type *\n                    </label>\n                    <select\n                      value={formData.type || ''}\n                      onChange={(e) => setFormData({ ...formData, type: e.target.value as 'music' | 'video' })}\n                      className=\"w-full px-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-xl text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n                      required\n                    >\n                      <option value=\"\">Sélectionner le type</option>\n                      <option value=\"music\">Musique</option>\n                      <option value=\"video\">Vidéo</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    URL YouTube (optionnel)\n                  </label>\n                  <input\n                    type=\"url\"\n                    value={formData.video_url || ''}\n                    onChange={(e) => setFormData({ ...formData, video_url: e.target.value })}\n                    className=\"w-full px-4 py-3 bg-gray-800/50 border border-gray-700/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n                    placeholder=\"https://www.youtube.com/watch?v=...\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    Image du projet\n                  </label>\n                  \n                  {(imagePreview || formData.image_url) && (\n                    <div className=\"mb-4\">\n                      <img\n                        src={imagePreview || formData.image_url}\n                        alt=\"Prévisualisation\"\n                        className=\"w-full h-48 object-cover rounded-xl border border-gray-700/50\"\n                      />\n                    </div>\n                  )}\n                  \n                  <div className=\"flex items-center justify-center w-full\">\n                    <label className=\"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-700/50 border-dashed rounded-xl cursor-pointer bg-gray-800/30 hover:bg-gray-800/50 transition-all\">\n                      <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\n                        <Upload className=\"w-8 h-8 mb-2 text-gray-400\" />\n                        <p className=\"mb-2 text-sm text-gray-400\">\n                          <span className=\"font-semibold\">Cliquez pour télécharger</span> ou glissez-déposez\n                        </p>\n                        <p className=\"text-xs text-gray-500\">PNG, JPG ou WebP (MAX. 5MB)</p>\n                      </div>\n                      <input\n                        type=\"file\"\n                        className=\"hidden\"\n                        accept=\"image/*\"\n                        onChange={handleFileChange}\n                      />\n                    </label>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-4 pt-6\">\n                  <button\n                    type=\"button\"\n                    onClick={handleCloseForm}\n                    className=\"flex-1 px-6 py-3 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-700 transition-all duration-200\"\n                  >\n                    Annuler\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg flex items-center justify-center space-x-2\"\n                  >\n                    <CheckCircle className=\"w-4 h-4\" />\n                    <span>{editingProject ? 'Mettre à jour' : 'Créer le projet'}</span>\n                  </button>\n                </div>\n              </form>\n            </div>\n          </motion.div>\n        )}\n      </div>\n\n      {/* Dialogues de confirmation */}\n      <ConfirmDialog\n        isOpen={deleteConfirmOpen}\n        onClose={() => setDeleteConfirmOpen(false)}\n        onConfirm={confirmDelete}\n        title=\"Supprimer le projet\"\n        message=\"Êtes-vous sûr de vouloir supprimer ce projet ? Cette action est irréversible.\"\n        confirmText=\"Supprimer\"\n        cancelText=\"Annuler\"\n        type=\"danger\"\n      />\n\n      <ConfirmDialog\n        isOpen={confirmClose}\n        onClose={() => setConfirmClose(false)}\n        onConfirm={confirmCloseForm}\n        title=\"Fermer le formulaire\"\n        message=\"Vous avez des modifications non enregistrées. Êtes-vous sûr de vouloir fermer le formulaire ?\"\n        confirmText=\"Fermer\"\n        cancelText=\"Continuer l'édition\"\n        type=\"warning\"\n      />\n    </div>\n  );\n};\n\nexport default ProjectsAdmin;"],"names":["ProjectsAdmin","projects","createProject","updateProject","deleteProject","updateProjectOrder","fetchProjects","isLoading","useContentStore","handleError","handleSuccess","useErrorStore","activeTab","setActiveTab","useState","editingProject","setEditingProject","formData","setFormData","selectedFile","setSelectedFile","deleteConfirmOpen","setDeleteConfirmOpen","projectToDelete","setProjectToDelete","confirmClose","setConfirmClose","imagePreview","setImagePreview","filterType","setFilterType","showReorderModal","setShowReorderModal","metrics","useMemo","total","musicProjects","p","videoProjects","currentYear","recentProjects","filteredProjects","project","handleFileChange","e","file","reader","validateYouTubeUrl","url","uploadImage","fileExt","filePath","uploadError","supabase","data","handleSubmit","_a","_b","_c","imageUrl","projectData","resetForm","error","handleEdit","handleDelete","id","confirmDelete","handleNewProject","handleCloseForm","confirmCloseForm","handleReorderProjects","reorderedProjects","i","newOrder","renderProjectItem","jsxs","jsx","tabs","FolderOpen","Plus","MetricCard","title","value","Icon","gradient","tab","motion","Music","Video","Calendar","ArrowUpDown","DragDropReorder","img","User","Pencil","Trash2","X","Upload","CheckCircle","ConfirmDialog"],"mappings":"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"}